<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<!--
* Copyright 2006 Sun Microsystems, Inc. All rights reserved.
* Use is subject to license terms.
-->
<html>
<head>
<title>Adding BPEL Extensibility Elements</title>
<link rel="stylesheet" href="nbdocs://org.netbeans.modules.usersguide/org/netbeans/modules/usersguide/ide.css" type="text/css">
</head>
<body>
<h2>Adding BPEL Extensibility Elements</h2>
<p><small><a href="#seealso">See Also</a></small></p>
<p>You can add the following BPEL extensibility elements to the WSDL file:</p>
<ul>
  <li><a href="#wsdleditorpartner">Partner link type</a></li>
  <li><a href="#wsdleditorprops">Property</a></li>
  <li><a href="#wsdleditorprops">Property alias</a></li>
</ul>
<h3><a name="wsdleditorpartner"></a>Adding a Partner Link Type</h3>
<p>Before you can add a partner link to a BPEL process, 
you must add a partner link type to the WSDL file.</p>
<p>In a BPEL process, a <i>partner link</i> represents the interaction between the BPEL process and a partner service. 
  Each partner link is associated with a partner link type.</p>
<p>A <i>partner link type</i> characterizes the conversational relationship between two services. 
  The partner link type can have one or two roles. 
  A role describes the function that a service has in the relationship. 
  Examples of roles are <tt>loanRequestor</tt> and <tt>loanProcessor</tt>. 
  Each role must specify the port type that the service will use to receive messages.</p>
<p><b>To add a partner link type automatically</b></p>
<ol>
  <li>When you do either of the following tasks, a partner link type is automatically generated. 
    The partner link type has a default role.</li>
  <ul>
    <li>Create a WSDL file from scratch.</li>
    <li>Create a port type.</li>
  </ul>
  <li>(Optional) To add a second role, do the following:</li>
  <ol type="a">
    <li>Right-click the partner link type node and choose Add &gt; role.</li>
    <li>If the Properties window is not visible, choose Window &gt; Properties.</li>
    <li>Select the role.</li>
    <li>(Optional) Change the default name.</li>
    <li>Specify the port type.</li>
  </ol>
</ol>
<p><b>To add a partner link type manually:</b></p>
<ol>
  <li>In the WSDL view, right-click the root node and choose Add &gt; PartnerLinkType. <br>
    A partner link type node appears under the Extensibility Elements node. 
    The partner link type has a default role.</li>
  <li>(Optional) To add a second role, right-click the partner link type node and choose Add &gt; role.</li>
  <li>If the Properties window is not visible, choose Window &gt; Properties.</li>
  <li>For each role, do the following:</li>
  <ol type="a">
    <li>Select the role.</li>
    <li>(Optional) Change the default name.</li>
    <li>Specify the port type.</li>
  </ol>
</ol>
<h3><a name="wsdleditorprops"></a>Defining Properties and Property Aliases</h3>
<p>The BPEL Service Engine runtime uses a mechanism called <i>correlation</i> to track the multiple, stateful, long-running exchanges of messages 
that typically take place between a BPEL process and its partner services.</p>
<p>The procedure for enabling correlation in a BPEL process includes the following initial steps, 
  which must be performed in the WSDL file:</p>
<ul>
  <li>Define one or more properties in the WSDL file. <br>
    A <i>property</i> creates an association between business data and a name that can play an important role 
    in the global context of the BPEL process. 
    Each property consists of a globally unique name (for example, <tt>claimNumberProperty</tt>) 
    and a type (for example, <tt>xsd:string</tt>).</li>
  <li>Define property aliases in the WSDL file. <br>
    A <i>property alias</i> maps a specific property to a specific element or attribute in a message part. 
    When you create a property alias, you must specify the property and the message.</li>
</ul>
<p>Once you perform these steps in the WSDL file, you can define a correlation set in the BPEL process. 
  The correlation set references one or more properties. 
  The correlation set can then be used by message activities (Invoke, Reply, and Receive) 
  and by the <tt>onMessage</tt> branches of Pick elements.</p>
<p><b>To define a property:</b></p>
<ol>
  <li>In the WSDL view, right-click the root node and choose Add &gt; Property. <br>
    A property node appears under the Extensibility Elements node.</li>
  <li>If the Properties window is not visible, choose Window &gt; Properties.</li>
  <li>Select the property node.</li>
  <li>(Optional) Change the default name.</li>
  <li>You can set the Element or Type property to a built-in simple type, such as <tt>string</tt> or <tt>date</tt>.</li>
</ol>
<p><b>To define a property alias:</b></p>
<ol>
  <li>In the WSDL view, right-click the root node and choose Add &gt; Property Alias. <br>
    A property alias node appears under the Extensibility Elements node.</li>
  <li>If the Properties window is not visible, choose Window &gt; Properties.</li>
  <li>Select the property alias node.</li>
  <li>Specify values for the Property Name and Message Type properties. 
    These properties enable you to map data from a message into a property value.</li>
  <li>You can specify a value for the following optional property: Part.</li>
  <li>To add a query, right-click the property alias node and choose Add query. <br>
    A query node appears. 
    The query node enables you to set the following optional attribute: queryLanguage.</li>
</ol>
<dl>
<dt><a name="seealso">See Also</a></dt>
<dd><a href="wsdl_editor_config.html" title="Configuring WSDL File Components">Configuring WSDL File Components</a></dd>
<dd><a href="nbdocs://org.netbeans.modules.bpel.bpelhelp/org/netbeans/modules/bpel/bpelhelp/elements/partner_link.html" title="Partner Link">Partner Link</a></dd>
</dl>
<hr>
<small>  
<a href="credits.html">Legal Notices</a></small>
<table border="0" cellpadding="150">
<tr><td>&nbsp;</td></tr>
<tr><td>&nbsp;</td></tr>
<tr><td>&nbsp;</td></tr>
</table>
</body>
</html>
