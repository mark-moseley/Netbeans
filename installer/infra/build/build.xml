<?xml version="1.0" encoding="UTF-8"?>
<project name="bootstrap" default="all" basedir=".">
    <property file="${basedir}/build.properties"/>
    
    <target name="build" depends="init,-deploy-server,-build,-undeploy-server,-delete-data"/>
    
    <target name="init" depends="-clean,-checkout-trunk,-checkout-branch,-init,-init-properties"/>
    
    <target name="-clean">
        <delete dir="${nbi.core.dir}"/>
        <delete dir="${nbi.netbeans.dir}"/>
    </target>
    
    <target name="-checkout-trunk" unless="cvs.branch">
        <!-- -->
        <cvs 
            command="checkout -P"
            cvsroot="${cvs.root}" 
            package="nbi"
            dest="${nbi.all.dir}"
            failonerror="true"
        />
        <cvs 
            command="checkout -P"
            cvsroot="${cvs.root}" 
            package="installer/components installer/engine installer/infra"
            dest="${nbi.all.dir}"
            failonerror="true"
        />
        <!-- -->
        
        <!--
        <copy todir="${nbi.core.dir}">
            <fileset dir="D:/work/nbi">
                <exclude name="infra/server/**/build/**/*.*"/>
                <exclude name="infra/server/**/dist/**/*.*"/>
                <exclude name="infra/server/**/private/**/*.*"/>
            </fileset>
        </copy>
        <copy todir="${nbi.netbeans.dir}">
            <fileset dir="D:/work/installer">
                <exclude name="infra/server/**/build/**/*.*"/>
                <exclude name="infra/server/**/dist/**/*.*"/>
                <exclude name="infra/server/**/private/**/*.*"/>
            </fileset>
        </copy>
        -->
    </target>
    
    <target name="-checkout-branch" if="cvs.branch">
        <cvs 
            command="checkout -P"
            cvsroot="${cvs.root}" 
            tag="${cvs.branch}"
            package="nbi"
            dest="${nbi.all.dir}"
            failonerror="true"
        />
        <cvs 
            command="checkout -P"
            cvsroot="${cvs.root}" 
            tag="${cvs.branch}"
            package="installer/components installer/engine installer/infra"
            dest="${nbi.all.dir}"
            failonerror="true"
        />
    </target>
    
    <target name="-init">
        <delete dir="${custom.tasks.cls}"/>
        <mkdir dir="${custom.tasks.cls}"/>
        
        <javac 
            srcdir="${custom.tasks.src.1}" 
            destdir="${custom.tasks.cls}"
            debug="true"/>
        <javac 
            srcdir="${custom.tasks.src.2}" 
            destdir="${custom.tasks.cls}"
            debug="true"/>
        
        <taskdef 
            name="glassfish-buildnumber" 
            classpath="${custom.tasks.cls}" 
            classname="org.netbeans.installer.infra.build.ant.BuildNumberGlassFish"/>
        <taskdef 
            name="openesb-buildnumber" 
            classpath="${custom.tasks.cls}" 
            classname="org.netbeans.installer.infra.build.ant.BuildNumberOpenEsb"/>
        <taskdef 
            name="sjsam-buildnumber" 
            classpath="${custom.tasks.cls}" 
            classname="org.netbeans.installer.infra.build.ant.BuildNumberSjsam"/>
        <taskdef 
            name="swdp-buildnumber" 
            classpath="${custom.tasks.cls}" 
            classname="org.netbeans.installer.infra.build.ant.BuildNumberSwdp"/>
	<taskdef 
            name="portletcontainer-buildnumber" 
            classpath="${custom.tasks.cls}" 
            classname="org.netbeans.installer.infra.build.ant.BuildNumberPortletContainer"/>
	<taskdef 
            name="javaeesdk-firstcup-buildnumber" 
            classpath="${custom.tasks.cls}" 
            classname="org.netbeans.installer.infra.build.ant.BuildNumberFirstCup"/>
        <taskdef 
            name="if" 
            classpath="${custom.tasks.cls}" 
            classname="org.netbeans.installer.infra.build.ant.If"/>
        <taskdef 
            name="set" 
            classpath="${custom.tasks.cls}" 
            classname="org.netbeans.installer.infra.build.ant.SetProperty"/>
        
        <!--
        <get
            src="${glassfish.builds.host}/java/re/glassfish/9.1/promoted/latest/latest/bundles/"
            dest="${temp.file}"/>
        -->
        <get
            src="${glassfish.builds.host}/java/re/glassfish/9.1/promoted/beta2_branch/latest/bundles/"
            dest="${temp.file}"/>
        <glassfish-buildnumber 
            file="${temp.file}" 
            prefix="glassfish"/>
	<glassfish-buildnumber 
            file="${temp.file}" 
            prefix="sjsas"/>
        
        <get
            src="${openesb.builds.host}/kits/openesb/openesb_as9_beta2/latest/log/"
            dest="${temp.file}"/>
        <openesb-buildnumber 
            file="${temp.file}" 
            prefix="openesb"/>
        
        <get
            src="${glassfish.builds.host}/java/re/swdp/1.0/promoted/fcs/latest/bundles/"
            dest="${temp.file}"/>
        <swdp-buildnumber 
            file="${temp.file}" 
            prefix="swdp"/>

	<get
            src="${glassfish.builds.host}/java/re/javaeesdk/5.0_03/promoted/preview2/latest/bundles/"
            dest="${temp.file}"/>
        <portletcontainer-buildnumber 
            file="${temp.file}" 
            prefix="portletcontainer"/>
	<javaeesdk-firstcup-buildnumber 
            file="${temp.file}" 
            prefix="javaeesdk-firstcup"/>
	
        <!--
        <get
            src="${sjsam.builds.host}/projects/am-javaee/update3beta/"
            dest="${temp.file}"/>
        <sjsam-buildnumber 
            file="${temp.file}" 
            prefix="sjsam"/>
        -->
        <property name="sjsam.milestone.number" value="8"/>
        <property name="sjsam.build.number" value="20070413"/>
            
        <delete file="${temp.file}"/>
    </target>
    
    <target name="-init-properties">
        <echo file="${environment.properties}"/>
        
        <if property="cvs.branch">
            <echo file="${environment.properties}" append="true">
cvs.branch=${cvs.branch}

            </echo>
        </if>
        <echo file="${environment.properties}" append="true">
cvs.root=${cvs.root}
cvs.module=installer

checkout.sources=false
sources.dir=${nbi.all.dir}

build.number=${build.number}

glassfish.milestone.number=${glassfish.milestone.number}
glassfish.milestone.number.real=${glassfish.milestone.number.real}
glassfish.build.type=${glassfish.build.type}
glassfish.build.number=${glassfish.build.number}

sjsas.milestone.number=${sjsas.milestone.number}
sjsas.milestone.number.real=${sjsas.milestone.number.real}
sjsas.build.type=${sjsas.build.type}
sjsas.build.number=${sjsas.build.number}

openesb.build.number=${openesb.build.number}
openesb.build.number.real=${openesb.build.number.real}

sjsam.milestone.number=${sjsam.milestone.number}
sjsam.build.number=${sjsam.build.number}

swdp.milestone.number=${swdp.milestone.number}
swdp.build.type=${swdp.build.type}
swdp.build.number=${swdp.build.number}
swdp.macro.number=${swdp.macro.number}

portletcontainer.milestone.number=${portletcontainer.milestone.number}
portletcontainer.build.number=${portletcontainer.build.number}
portletcontainer.macro.number=${portletcontainer.macro.number}
portletcontainer.micro.number=${portletcontainer.micro.number}

javaeesdk-firstcup.milestone.number=${javaeesdk-firstcup.milestone.number}
javaeesdk-firstcup.build.number=${javaeesdk-firstcup.build.number}
javaeesdk-firstcup.macro.number=${javaeesdk-firstcup.macro.number}
javaeesdk-firstcup.micro.number=${javaeesdk-firstcup.micro.number}


dont.build.custom.tasks=true
custom.tasks.cls=${custom.tasks.cls}

build.engine=false

engine.dist.file.name=nbi-engine.jar
engine.dist.file=${nbi.netbeans.dir}/infra/build/engine/dist/nbi-engine.jar

release.url=http://${glassfish.host}:${glassfish.http.port}${context.path}/admin
release.registry=NetBeans

packaged.data.dir=${basedir}/cache/packaged
downloads.cache.dir=${basedir}/cache/raw

binary.cache.host=${binary.cache.host}
nb.builds.host=${nb.builds.host}
glassfish.builds.host=${glassfish.builds.host}
openesb.builds.host=${openesb.builds.host}
sjsam.builds.host=${sjsam.builds.host}

remote.work.dir=~/.netbeans-trunk-nightly-${build.number}

remote.host.windows=${remote.host.windows}
remote.port.windows=${remote.port.windows}
remote.user.windows=${remote.user.windows}

remote.host.linux=${remote.host.linux}
remote.port.linux=${remote.port.linux}
remote.user.linux=${remote.user.linux}

remote.host.solaris-x86=${remote.host.solaris-x86}
remote.port.solaris-x86=${remote.port.solaris-x86}
remote.user.solaris-x86=${remote.user.solaris-x86}

remote.host.solaris-sparc=${remote.host.solaris-sparc}
remote.port.solaris-sparc=${remote.port.solaris-sparc}
remote.user.solaris-sparc=${remote.user.solaris-sparc}

remote.host.macosx=${remote.host.macosx}
remote.port.macosx=${remote.port.macosx}
remote.user.macosx=${remote.user.macosx}

sjsas.image.token.hostname.windows=${sjsas.image.token.hostname.windows}
sjsas.image.token.hostname.linux=${sjsas.image.token.hostname.linux}
sjsas.image.token.hostname.solaris-x86=${sjsas.image.token.hostname.solaris-x86}
sjsas.image.token.hostname.solaris-sparc=${sjsas.image.token.hostname.solaris-sparc}
sjsas.image.token.hostname.macosx=${sjsas.image.token.hostname.macosx}

jarsigner.keystore=${jarsigner.keystore}
jarsigner.alias=${jarsigner.alias}
jarsigner.storepass=${jarsigner.storepass}
        </echo>
        <replace file="${environment.properties}" token="\" value="/"/>
    </target>
    
    <target name="-deploy-server">
        <replace 
            dir="${nbi.core.dir}/infra/server" 
            token="${context.path.token}" 
            value="${context.path.replacement}"/>
        <replaceregexp 
            match="${context.dir.token}" 
            replace="${context.dir.replacement}">
            <fileset dir="${nbi.core.dir}/infra/server"/>
        </replaceregexp>
        <replace 
            dir="${nbi.core.dir}/infra/server" 
            token="${build.number.token}" 
            value="${build.number.replacement}"/>
        
        <subant buildpath="${nbi.core.dir}/infra/server" 
                target="dist" 
                failonerror="true">
            <property name="platforms.JDK_1.5.home" value="${jdk.home}"/>
            <property name="j2ee.platform.classpath" value="${glassfish.j2ee.jar}"/>
        </subant>
        
        <echo file="${temp.file}" message="${glassfish.password.line}"/>
        <exec executable="${glassfish.asadmin}" failonerror="true">
            <arg value="deploy"/>
            
            <arg value="--interactive=false"/>
            <arg value="--force=true"/>
            
            <arg value="--host"/>
            <arg value="${glassfish.host}"/>
            
            <arg value="--port"/>
            <arg value="${glassfish.admin.port}"/>
            
            <arg value="--user"/>
            <arg value="${glassfish.user}"/>
            
            <arg value="--passwordfile"/>
            <arg value="${temp.file}"/>
            
            <arg value="--name"/>
            <arg value="${app.name}"/>
            
            <arg value="${nbi.core.dir}/infra/server/dist/nbi-server.ear"/>
        </exec>
            
        <delete file="${temp.file}"/>
    </target>
    
    <target name="-build">
        <delete dir="${output.dir}"/>
        
        <mkdir dir="${output.dir}"/>
        <mkdir dir="${output.dir}/bundles"/>
        <mkdir dir="${output.dir}/components"/>
        <mkdir dir="${output.dir}/img"/>
        <mkdir dir="${output.dir}/js"/>
        <mkdir dir="${output.dir}/css"/>
        
        <property name="engine.dist.file.name" value="nbi-engine.jar"/>
        
        <echo message="BUILDING CORE ENGINE ======================================"/>
        <ant dir="${nbi.core.dir}/infra/build/engine" target="build-all">
            <property 
                name="basedir" 
                value="${nbi.core.dir}/infra/build/engine"/>
            <property 
                name="environment.properties" 
                value="${environment.properties}"/>
            
            <property
                name="build.native"
                value="false"/>
            <property 
                name="cvs.module" 
                value="${core.module.name}"/>
        </ant>
        
        <echo message="BUILDING NETBEANS ENGINE =================================="/>
        <ant dir="${nbi.netbeans.dir}/infra/build/engine" target="release-all">
            <property 
                name="basedir" 
                value="${nbi.netbeans.dir}/infra/build/engine"/>
            <property 
                name="environment.properties" 
                value="${environment.properties}"/>
            
            <property 
                name="core.engine.dist.file" 
                value="${nbi.core.dir}/infra/build/engine/dist/${engine.dist.file.name}"/>
        </ant>
        
        <!--
        <echo message="BUILDING NB-IDE-GROUP ====================================="/>
        <ant dir="${nbi.netbeans.dir}/infra/build/groups/nb-ide-group" target="release-all">
            <property 
                name="basedir" 
                value="${nbi.netbeans.dir}/infra/build/groups/nb-ide-group"/>
            <property 
                name="environment.properties" 
                value="${environment.properties}"/>
            
            <property
                name="release.parent.uid"
                value=""/>
            <property
                name="release.parent.version"
                value=""/>
            <property
                name="release.parent.platforms"
                value=""/>
        </ant>
        -->
        
        <echo message="BUILDING NB-BASE =========================================="/>
        <ant dir="${nbi.netbeans.dir}/infra/build/products/nb-base" target="release-all">
            <property 
                name="basedir" 
                value="${nbi.netbeans.dir}/infra/build/products/nb-base"/>
            <property 
                name="environment.properties" 
                value="${environment.properties}"/>
            
            <property
                name="dist.dir"
                value="${output.dir}/components"/>
                
            <property
                name="release.parent.uid"
                value=""/>
            <property
                name="release.parent.version"
                value=""/>
            <property
                name="release.parent.platforms"
                value=""/>
        </ant>
        
        <echo message="BUILDING NB-JAVASE ========================================"/>
        <ant dir="${nbi.netbeans.dir}/infra/build/products/nb-javase" target="release-all">
            <property 
                name="basedir" 
                value="${nbi.netbeans.dir}/infra/build/products/nb-javase"/>
            <property 
                name="environment.properties" 
                value="${environment.properties}"/>
            
            <property
                name="dist.dir"
                value="${output.dir}/components"/>
                
            <property
                name="release.parent.uid"
                value=""/>
            <property
                name="release.parent.version"
                value=""/>
            <property
                name="release.parent.platforms"
                value=""/>
        </ant>
        
        <!--
        <echo message="BUILDING NB-ADDONS-GROUP =================================="/>
        <ant dir="${nbi.netbeans.dir}/infra/build/groups/nb-addons-group" target="release-all">
            <property 
                name="basedir" 
                value="${nbi.netbeans.dir}/infra/build/groups/nb-addons-group"/>
            <property 
                name="environment.properties" 
                value="${environment.properties}"/>
            
            <property
                name="release.parent.uid"
                value="nb-ide-group"/>
            <property
                name="release.parent.version"
                value=""/>
            <property
                name="release.parent.platforms"
                value=""/>
        </ant>
        -->
        
        <echo message="BUILDING NB-JAVA-EE ======================================="/>
        <ant dir="${nbi.netbeans.dir}/infra/build/products/nb-javaee" target="release-all">
            <property 
                name="basedir" 
                value="${nbi.netbeans.dir}/infra/build/products/nb-javaee"/>
            <property 
                name="environment.properties" 
                value="${environment.properties}"/>
            
            <property
                name="dist.dir"
                value="${output.dir}/components"/>
                
            <property
                name="release.parent.uid"
                value=""/>
            <property
                name="release.parent.version"
                value=""/>
            <property
                name="release.parent.platforms"
                value=""/>
        </ant>
        
        <echo message="BUILDING NB-JAVA-ME ======================================="/>
        <ant dir="${nbi.netbeans.dir}/infra/build/products/nb-javame" target="release-all">
            <property 
                name="basedir" 
                value="${nbi.netbeans.dir}/infra/build/products/nb-javame"/>
            <property 
                name="environment.properties" 
                value="${environment.properties}"/>
            
            <property
                name="dist.dir"
                value="${output.dir}/components"/>
                
            <property
                name="release.parent.uid"
                value=""/>
            <property
                name="release.parent.version"
                value=""/>
            <property
                name="release.parent.platforms"
                value=""/>
        </ant>
        
        <echo message="BUILDING NB-SOA ==========================================="/>
        <ant dir="${nbi.netbeans.dir}/infra/build/products/nb-soa" target="release-all">
            <property 
                name="basedir" 
                value="${nbi.netbeans.dir}/infra/build/products/nb-soa"/>
            <property 
                name="environment.properties" 
                value="${environment.properties}"/>
            
            <property
                name="dist.dir"
                value="${output.dir}/components"/>
                
            <property
                name="release.parent.uid"
                value=""/>
            <property
                name="release.parent.version"
                value=""/>
            <property
                name="release.parent.platforms"
                value=""/>
        </ant>
        
        <echo message="BUILDING NB-UML ==========================================="/>
        <ant dir="${nbi.netbeans.dir}/infra/build/products/nb-uml" target="release-all">
            <property 
                name="basedir" 
                value="${nbi.netbeans.dir}/infra/build/products/nb-uml"/>
            <property 
                name="environment.properties" 
                value="${environment.properties}"/>
            
            <property
                name="dist.dir"
                value="${output.dir}/components"/>
                
            <property
                name="release.parent.uid"
                value=""/>
            <property
                name="release.parent.version"
                value=""/>
            <property
                name="release.parent.platforms"
                value=""/>
        </ant>
        
        <echo message="BUILDING NB-RUBY =========================================="/>
        <ant dir="${nbi.netbeans.dir}/infra/build/products/nb-ruby" target="release-all">
            <property 
                name="basedir" 
                value="${nbi.netbeans.dir}/infra/build/products/nb-ruby"/>
            <property 
                name="environment.properties" 
                value="${environment.properties}"/>
            
            <property
                name="dist.dir"
                value="${output.dir}/components"/>
                
            <property
                name="release.parent.uid"
                value=""/>
            <property
                name="release.parent.version"
                value=""/>
            <property
                name="release.parent.platforms"
                value=""/>
        </ant>
        
        <echo message="BUILDING RUNTIMES-GROUP ==================================="/>
        <ant dir="${nbi.netbeans.dir}/infra/build/groups/runtimes-group" target="release-all">
            <property 
                name="basedir" 
                value="${nbi.netbeans.dir}/infra/build/groups/runtimes-group"/>
            <property 
                name="environment.properties" 
                value="${environment.properties}"/>
            
            <property
                name="release.parent.uid"
                value=""/>
            <property
                name="release.parent.version"
                value=""/>
            <property
                name="release.parent.platforms"
                value=""/>
        </ant>
        
        <!--        
        <echo message="BUILDING GLASSFISH ========================================"/>
        <ant dir="${nbi.netbeans.dir}/infra/build/products/glassfish" target="release-all">
            <property 
                name="basedir" 
                value="${nbi.netbeans.dir}/infra/build/products/glassfish"/>
            <property 
                name="environment.properties" 
                value="${environment.properties}"/>
            
            <property
                name="dist.dir"
                value="${output.dir}/components"/>
                
            <property
                name="release.parent.uid"
                value="runtimes-group"/>
            <property
                name="release.parent.version"
                value=""/>
            <property
                name="release.parent.platforms"
                value=""/>
        </ant>
        -->     
           
	<echo message="BUILDING SJSAS ========================================"/>
        <ant dir="${nbi.netbeans.dir}/infra/build/products/sjsas" target="release-all">
            <property 
                name="basedir" 
                value="${nbi.netbeans.dir}/infra/build/products/sjsas"/>
            <property 
                name="environment.properties" 
                value="${environment.properties}"/>
            
            <property
                name="dist.dir"
                value="${output.dir}/components"/>
                
            <property
                name="release.parent.uid"
                value="runtimes-group"/>
            <property
                name="release.parent.version"
                value=""/>
            <property
                name="release.parent.platforms"
                value=""/>
        </ant>

        <echo message="BUILDING OPENESB =========================================="/>
        <ant dir="${nbi.netbeans.dir}/infra/build/products/openesb" target="release-all">
            <property 
                name="basedir" 
                value="${nbi.netbeans.dir}/infra/build/products/openesb"/>
            <property 
                name="environment.properties" 
                value="${environment.properties}"/>
            
            <property
                name="dist.dir"
                value="${output.dir}/components"/>
                
            <property
                name="release.parent.uid"
                value="runtimes-group"/>
            <property
                name="release.parent.version"
                value=""/>
            <property
                name="release.parent.platforms"
                value=""/>
        </ant>
        
        <echo message="BUILDING SJSAM ============================================"/>
        <ant dir="${nbi.netbeans.dir}/infra/build/products/sjsam" target="release-all">
            <property 
                name="basedir" 
                value="${nbi.netbeans.dir}/infra/build/products/sjsam"/>
            <property 
                name="environment.properties" 
                value="${environment.properties}"/>
            
            <property
                name="dist.dir"
                value="${output.dir}/components"/>
                
            <property
                name="release.parent.uid"
                value="runtimes-group"/>
            <property
                name="release.parent.version"
                value=""/>
            <property
                name="release.parent.platforms"
                value=""/>
        </ant>
        
        <!--
        <echo message="BUILDING SWDP ============================================"/>
        <ant dir="${nbi.netbeans.dir}/infra/build/products/swdp" target="release-all">
            <property 
                name="basedir" 
                value="${nbi.netbeans.dir}/infra/build/products/swdp"/>
            <property 
                name="environment.properties" 
                value="${environment.properties}"/>
            
            <property
                name="dist.dir"
                value="${output.dir}/components"/>
                
            <property
                name="release.parent.uid"
                value="runtimes-group"/>
            <property
                name="release.parent.version"
                value=""/>
            <property
                name="release.parent.platforms"
                value=""/>
        </ant>
        -->
        
        <!--
        <echo message="BUILDING PORTLET CONTAINER ============================================"/>
        <ant dir="${nbi.netbeans.dir}/infra/build/products/portletcontainer" target="release-all">
            <property 
                name="basedir" 
                value="${nbi.netbeans.dir}/infra/build/products/portletcontainer"/>
            <property 
                name="environment.properties" 
                value="${environment.properties}"/>
            
            <property
                name="dist.dir"
                value="${output.dir}/components"/>
                
            <property
                name="release.parent.uid"
                value="runtimes-group"/>
            <property
                name="release.parent.version"
                value=""/>
            <property
                name="release.parent.platforms"
                value=""/>
        </ant>        
        
        <echo message="BUILDING JAVAEESDK:FIRSTCUP ============================================"/>
        <ant dir="${nbi.netbeans.dir}/infra/build/products/javaeesdk-firstcup" target="release-all">
            <property 
                name="basedir" 
                value="${nbi.netbeans.dir}/infra/build/products/javaeesdk-firstcup"/>
            <property 
                name="environment.properties" 
                value="${environment.properties}"/>
            
            <property
                name="dist.dir"
                value="${output.dir}/components"/>
                
            <property
                name="release.parent.uid"
                value="runtimes-group"/>
            <property
                name="release.parent.version"
                value=""/>
            <property
                name="release.parent.platforms"
                value=""/>
        </ant>
        -->

        <get 
            src="http://${glassfish.host}:${glassfish.http.port}${context.path}/create-bundle?registry=NetBeans&amp;component=nb-base,6.0.0.0.${build.number}&amp;component=nb-javase,6.0.0.0.${build.number}&amp;platform=windows"
            dest="${output.dir}/bundles/netbeans-6.0-nightly-${build.number}-basic-windows.exe"/>
        <get 
            src="http://${glassfish.host}:${glassfish.http.port}${context.path}/create-bundle?registry=NetBeans&amp;component=nb-base,6.0.0.0.${build.number}&amp;component=nb-javase,6.0.0.0.${build.number}&amp;platform=linux"
            dest="${output.dir}/bundles/netbeans-6.0-nightly-${build.number}-basic-linux.sh"/>
        <get 
            src="http://${glassfish.host}:${glassfish.http.port}${context.path}/create-bundle?registry=NetBeans&amp;component=nb-base,6.0.0.0.${build.number}&amp;component=nb-javase,6.0.0.0.${build.number}&amp;platform=solaris-x86"
            dest="${output.dir}/bundles/netbeans-6.0-nightly-${build.number}-basic-solaris-x86.sh"/>
        <get 
            src="http://${glassfish.host}:${glassfish.http.port}${context.path}/create-bundle?registry=NetBeans&amp;component=nb-base,6.0.0.0.${build.number}&amp;component=nb-javase,6.0.0.0.${build.number}&amp;platform=solaris-sparc"
            dest="${output.dir}/bundles/netbeans-6.0-nightly-${build.number}-basic-solaris-sparc.sh"/>
        <get 
            src="http://${glassfish.host}:${glassfish.http.port}${context.path}/create-bundle?registry=NetBeans&amp;component=nb-base,6.0.0.0.${build.number}&amp;component=nb-javase,6.0.0.0.${build.number}&amp;platform=macosx-x86"
            dest="${output.dir}/bundles/netbeans-6.0-nightly-${build.number}-basic-macosx-x86.command"/>
        <get 
            src="http://${glassfish.host}:${glassfish.http.port}${context.path}/create-bundle?registry=NetBeans&amp;component=nb-base,6.0.0.0.${build.number}&amp;component=nb-javase,6.0.0.0.${build.number}&amp;platform=macosx-ppc"
            dest="${output.dir}/bundles/netbeans-6.0-nightly-${build.number}-basic-macosx-ppc.command"/>
        
        <get 
            src="http://${glassfish.host}:${glassfish.http.port}${context.path}/create-bundle?registry=NetBeans&amp;component=nb-base,6.0.0.0.${build.number}&amp;component=nb-javase,6.0.0.0.${build.number}&amp;component=nb-javaee,6.0.0.0.${build.number}&amp;component=nb-javame,6.0.0.0.${build.number}&amp;component=sjsas,9.1.0.${sjsas.milestone.number}.${sjsas.build.number}&amp;platform=windows"
            dest="${output.dir}/bundles/netbeans-6.0-nightly-${build.number}-standard-windows.exe"/>
        <get 
            src="http://${glassfish.host}:${glassfish.http.port}${context.path}/create-bundle?registry=NetBeans&amp;component=nb-base,6.0.0.0.${build.number}&amp;component=nb-javase,6.0.0.0.${build.number}&amp;component=nb-javaee,6.0.0.0.${build.number}&amp;component=nb-javame,6.0.0.0.${build.number}&amp;component=sjsas,9.1.0.${sjsas.milestone.number}.${sjsas.build.number}&amp;platform=linux"
            dest="${output.dir}/bundles/netbeans-6.0-nightly-${build.number}-standard-linux.sh"/>
        <get 
            src="http://${glassfish.host}:${glassfish.http.port}${context.path}/create-bundle?registry=NetBeans&amp;component=nb-base,6.0.0.0.${build.number}&amp;component=nb-javase,6.0.0.0.${build.number}&amp;component=nb-javaee,6.0.0.0.${build.number}&amp;component=sjsas,9.1.0.${sjsas.milestone.number}.${sjsas.build.number}&amp;platform=solaris-x86"
            dest="${output.dir}/bundles/netbeans-6.0-nightly-${build.number}-standard-solaris-x86.sh"/>
        <get 
            src="http://${glassfish.host}:${glassfish.http.port}${context.path}/create-bundle?registry=NetBeans&amp;component=nb-base,6.0.0.0.${build.number}&amp;component=nb-javase,6.0.0.0.${build.number}&amp;component=nb-javaee,6.0.0.0.${build.number}&amp;component=sjsas,9.1.0.${sjsas.milestone.number}.${sjsas.build.number}&amp;platform=solaris-sparc"
            dest="${output.dir}/bundles/netbeans-6.0-nightly-${build.number}-standard-solaris-sparc.sh"/>
        <get 
            src="http://${glassfish.host}:${glassfish.http.port}${context.path}/create-bundle?registry=NetBeans&amp;component=nb-base,6.0.0.0.${build.number}&amp;component=nb-javase,6.0.0.0.${build.number}&amp;component=nb-javaee,6.0.0.0.${build.number}&amp;component=sjsas,9.1.0.${sjsas.milestone.number}.${sjsas.build.number}&amp;platform=macosx-x86"
            dest="${output.dir}/bundles/netbeans-6.0-nightly-${build.number}-standard-macosx-x86.command"/>
        <get 
            src="http://${glassfish.host}:${glassfish.http.port}${context.path}/create-bundle?registry=NetBeans&amp;component=nb-base,6.0.0.0.${build.number}&amp;component=nb-javase,6.0.0.0.${build.number}&amp;component=nb-javaee,6.0.0.0.${build.number}&amp;component=sjsas,9.1.0.${sjsas.milestone.number}.${sjsas.build.number}&amp;platform=macosx-ppc"
            dest="${output.dir}/bundles/netbeans-6.0-nightly-${build.number}-standard-macosx-ppc.command"/>
        
        <get 
            src="http://${glassfish.host}:${glassfish.http.port}${context.path}/create-bundle?registry=NetBeans&amp;component=nb-base,6.0.0.0.${build.number}&amp;component=nb-javase,6.0.0.0.${build.number}&amp;component=nb-javaee,6.0.0.0.${build.number}&amp;component=nb-javame,6.0.0.0.${build.number}&amp;component=nb-soa,6.0.0.0.${build.number}&amp;component=nb-uml,6.0.0.0.${build.number}&amp;component=nb-ruby,6.0.0.0.${build.number}&amp;component=sjsas,9.1.0.${sjsas.milestone.number}.${sjsas.build.number}&amp;component=openesb,5.0.3.0.${openesb.build.number}&amp;component=sjsam,5.0.3.${sjsam.milestone.number}.${sjsam.build.number}&amp;platform=windows"
            dest="${output.dir}/bundles/netbeans-6.0-nightly-${build.number}-full-windows.exe"/>
        <get 
            src="http://${glassfish.host}:${glassfish.http.port}${context.path}/create-bundle?registry=NetBeans&amp;component=nb-base,6.0.0.0.${build.number}&amp;component=nb-javase,6.0.0.0.${build.number}&amp;component=nb-javaee,6.0.0.0.${build.number}&amp;component=nb-javame,6.0.0.0.${build.number}&amp;component=nb-soa,6.0.0.0.${build.number}&amp;component=nb-uml,6.0.0.0.${build.number}&amp;component=nb-ruby,6.0.0.0.${build.number}&amp;component=sjsas,9.1.0.${sjsas.milestone.number}.${sjsas.build.number}&amp;component=openesb,5.0.3.0.${openesb.build.number}&amp;component=sjsam,5.0.3.${sjsam.milestone.number}.${sjsam.build.number}&amp;platform=linux"
            dest="${output.dir}/bundles/netbeans-6.0-nightly-${build.number}-full-linux.sh"/>
        <get 
            src="http://${glassfish.host}:${glassfish.http.port}${context.path}/create-bundle?registry=NetBeans&amp;component=nb-base,6.0.0.0.${build.number}&amp;component=nb-javase,6.0.0.0.${build.number}&amp;component=nb-javaee,6.0.0.0.${build.number}&amp;component=nb-soa,6.0.0.0.${build.number}&amp;component=nb-uml,6.0.0.0.${build.number}&amp;component=nb-ruby,6.0.0.0.${build.number}&amp;component=sjsas,9.1.0.${sjsas.milestone.number}.${sjsas.build.number}&amp;component=openesb,5.0.3.0.${openesb.build.number}&amp;component=sjsam,5.0.3.${sjsam.milestone.number}.${sjsam.build.number}&amp;platform=solaris-x86"
            dest="${output.dir}/bundles/netbeans-6.0-nightly-${build.number}-full-solaris-x86.sh"/>
        <get 
            src="http://${glassfish.host}:${glassfish.http.port}${context.path}/create-bundle?registry=NetBeans&amp;component=nb-base,6.0.0.0.${build.number}&amp;component=nb-javase,6.0.0.0.${build.number}&amp;component=nb-javaee,6.0.0.0.${build.number}&amp;component=nb-soa,6.0.0.0.${build.number}&amp;component=nb-uml,6.0.0.0.${build.number}&amp;component=nb-ruby,6.0.0.0.${build.number}&amp;component=sjsas,9.1.0.${sjsas.milestone.number}.${sjsas.build.number}&amp;component=openesb,5.0.3.0.${openesb.build.number}&amp;component=sjsam,5.0.3.${sjsam.milestone.number}.${sjsam.build.number}&amp;platform=solaris-sparc"
            dest="${output.dir}/bundles/netbeans-6.0-nightly-${build.number}-full-solaris-sparc.sh"/>
        <get 
            src="http://${glassfish.host}:${glassfish.http.port}${context.path}/create-bundle?registry=NetBeans&amp;component=nb-base,6.0.0.0.${build.number}&amp;component=nb-javase,6.0.0.0.${build.number}&amp;component=nb-javaee,6.0.0.0.${build.number}&amp;component=nb-soa,6.0.0.0.${build.number}&amp;component=nb-uml,6.0.0.0.${build.number}&amp;component=nb-ruby,6.0.0.0.${build.number}&amp;component=sjsas,9.1.0.${sjsas.milestone.number}.${sjsas.build.number}&amp;component=openesb,5.0.3.0.${openesb.build.number}&amp;component=sjsam,5.0.3.${sjsam.milestone.number}.${sjsam.build.number}&amp;platform=macosx-x86"
            dest="${output.dir}/bundles/netbeans-6.0-nightly-${build.number}-full-macosx-x86.command"/>
        <get 
            src="http://${glassfish.host}:${glassfish.http.port}${context.path}/create-bundle?registry=NetBeans&amp;component=nb-base,6.0.0.0.${build.number}&amp;component=nb-javase,6.0.0.0.${build.number}&amp;component=nb-javaee,6.0.0.0.${build.number}&amp;component=nb-soa,6.0.0.0.${build.number}&amp;component=nb-uml,6.0.0.0.${build.number}&amp;component=nb-ruby,6.0.0.0.${build.number}&amp;component=sjsas,9.1.0.${sjsas.milestone.number}.${sjsas.build.number}&amp;component=openesb,5.0.3.0.${openesb.build.number}&amp;component=sjsam,5.0.3.${sjsam.milestone.number}.${sjsam.build.number}&amp;platform=macosx-ppc"
            dest="${output.dir}/bundles/netbeans-6.0-nightly-${build.number}-full-macosx-ppc.command"/>

	<!-- Java Tools Bundle deliverables --> 
	<!-- Turned off now since it should not be published on the public site  -->
	
	<!--
        <get 
            src="http://${glassfish.host}:${glassfish.http.port}${context.path}/create-bundle?registry=NetBeans&amp;component=nb-base,6.0.0.0.${build.number}&amp;component=nb-javase,6.0.0.0.${build.number}&amp;component=nb-javaee,6.0.0.0.${build.number}&amp;component=nb-javame,6.0.0.0.${build.number}&amp;component=nb-soa,6.0.0.0.${build.number}&amp;component=nb-uml,6.0.0.0.${build.number}&amp;component=nb-ruby,6.0.0.0.${build.number}&amp;component=sjsas,9.1.0.${sjsas.milestone.number}.${sjsas.build.number}&amp;component=openesb,5.0.3.0.${openesb.build.number}&amp;component=sjsam,5.0.3.${sjsam.milestone.number}.${sjsam.build.number}&amp;component=swdp,${swdp.macro.number}.0.0.${swdp.milestone.number}.${swdp.build.number}&amp;component=portletcontainer,${portletcontainer.macro.number}.${portletcontainer.micro.number}.0.${portletcontainer.milestone.number}.${portletcontainer.build.number}&amp;component=javaeesdk-firstcup,${javaeesdk-firstcup.macro.number}.${javaeesdk-firstcup.micro.number}.0.${javaeesdk-firstcup.milestone.number}.${javaeesdk-firstcup.build.number}&amp;platform=windows"
            dest="${output.dir}/bundles/java-tools-bundle-u3-preview2-nightly-${build.number}-windows.exe"/>		
        <get 
            src="http://${glassfish.host}:${glassfish.http.port}${context.path}/create-bundle?registry=NetBeans&amp;component=nb-base,6.0.0.0.${build.number}&amp;component=nb-javase,6.0.0.0.${build.number}&amp;component=nb-javaee,6.0.0.0.${build.number}&amp;component=nb-javame,6.0.0.0.${build.number}&amp;component=nb-soa,6.0.0.0.${build.number}&amp;component=nb-uml,6.0.0.0.${build.number}&amp;component=nb-ruby,6.0.0.0.${build.number}&amp;component=sjsas,9.1.0.${sjsas.milestone.number}.${sjsas.build.number}&amp;component=openesb,5.0.3.0.${openesb.build.number}&amp;component=sjsam,5.0.3.${sjsam.milestone.number}.${sjsam.build.number}&amp;component=swdp,${swdp.macro.number}.0.0.${swdp.milestone.number}.${swdp.build.number}&amp;component=portletcontainer,${portletcontainer.macro.number}.${portletcontainer.micro.number}.0.${portletcontainer.milestone.number}.${portletcontainer.build.number}&amp;component=javaeesdk-firstcup,${javaeesdk-firstcup.macro.number}.${javaeesdk-firstcup.micro.number}.0.${javaeesdk-firstcup.milestone.number}.${javaeesdk-firstcup.build.number}&amp;platform=linux"
            dest="${output.dir}/bundles/java-tools-bundle-u3-preview2-nightly-${build.number}-linux.sh"/>
        <get 
            src="http://${glassfish.host}:${glassfish.http.port}${context.path}/create-bundle?registry=NetBeans&amp;component=nb-base,6.0.0.0.${build.number}&amp;component=nb-javase,6.0.0.0.${build.number}&amp;component=nb-javaee,6.0.0.0.${build.number}&amp;component=nb-soa,6.0.0.0.${build.number}&amp;component=nb-uml,6.0.0.0.${build.number}&amp;component=nb-ruby,6.0.0.0.${build.number}&amp;component=sjsas,9.1.0.${sjsas.milestone.number}.${sjsas.build.number}&amp;component=openesb,5.0.3.0.${openesb.build.number}&amp;component=sjsam,5.0.3.${sjsam.milestone.number}.${sjsam.build.number}&amp;component=swdp,${swdp.macro.number}.0.0.${swdp.milestone.number}.${swdp.build.number}&amp;component=portletcontainer,${portletcontainer.macro.number}.${portletcontainer.micro.number}.0.${portletcontainer.milestone.number}.${portletcontainer.build.number}&amp;component=javaeesdk-firstcup,${javaeesdk-firstcup.macro.number}.${javaeesdk-firstcup.micro.number}.0.${javaeesdk-firstcup.milestone.number}.${javaeesdk-firstcup.build.number}&amp;platform=solaris-x86"
            dest="${output.dir}/bundles/java-tools-bundle-u3-preview2-nightly-${build.number}-solaris-x86.sh"/>
        <get 
            src="http://${glassfish.host}:${glassfish.http.port}${context.path}/create-bundle?registry=NetBeans&amp;component=nb-base,6.0.0.0.${build.number}&amp;component=nb-javase,6.0.0.0.${build.number}&amp;component=nb-javaee,6.0.0.0.${build.number}&amp;component=nb-soa,6.0.0.0.${build.number}&amp;component=nb-uml,6.0.0.0.${build.number}&amp;component=nb-ruby,6.0.0.0.${build.number}&amp;component=sjsas,9.1.0.${sjsas.milestone.number}.${sjsas.build.number}&amp;component=openesb,5.0.3.0.${openesb.build.number}&amp;component=sjsam,5.0.3.${sjsam.milestone.number}.${sjsam.build.number}&amp;component=swdp,${swdp.macro.number}.0.0.${swdp.milestone.number}.${swdp.build.number}&amp;component=portletcontainer,${portletcontainer.macro.number}.${portletcontainer.micro.number}.0.${portletcontainer.milestone.number}.${portletcontainer.build.number}&amp;component=javaeesdk-firstcup,${javaeesdk-firstcup.macro.number}.${javaeesdk-firstcup.micro.number}.0.${javaeesdk-firstcup.milestone.number}.${javaeesdk-firstcup.build.number}&amp;platform=solaris-sparc"
            dest="${output.dir}/bundles/java-tools-bundle-u3-preview2-nightly-${build.number}-solaris-sparc.sh"/>
        <get 
            src="http://${glassfish.host}:${glassfish.http.port}${context.path}/create-bundle?registry=NetBeans&amp;component=nb-base,6.0.0.0.${build.number}&amp;component=nb-javase,6.0.0.0.${build.number}&amp;component=nb-javaee,6.0.0.0.${build.number}&amp;component=nb-soa,6.0.0.0.${build.number}&amp;component=nb-uml,6.0.0.0.${build.number}&amp;component=nb-ruby,6.0.0.0.${build.number}&amp;component=sjsas,9.1.0.${sjsas.milestone.number}.${sjsas.build.number}&amp;component=openesb,5.0.3.0.${openesb.build.number}&amp;component=sjsam,5.0.3.${sjsam.milestone.number}.${sjsam.build.number}&amp;component=swdp,${swdp.macro.number}.0.0.${swdp.milestone.number}.${swdp.build.number}&amp;component=portletcontainer,${portletcontainer.macro.number}.${portletcontainer.micro.number}.0.${portletcontainer.milestone.number}.${portletcontainer.build.number}&amp;component=javaeesdk-firstcup,${javaeesdk-firstcup.macro.number}.${javaeesdk-firstcup.micro.number}.0.${javaeesdk-firstcup.milestone.number}.${javaeesdk-firstcup.build.number}&amp;platform=macosx-x86"
            dest="${output.dir}/bundles/java-tools-bundle-u3-preview2-nightly-${build.number}-macosx-x86.command"/>
        <get 
            src="http://${glassfish.host}:${glassfish.http.port}${context.path}/create-bundle?registry=NetBeans&amp;component=nb-base,6.0.0.0.${build.number}&amp;component=nb-javase,6.0.0.0.${build.number}&amp;component=nb-javaee,6.0.0.0.${build.number}&amp;component=nb-soa,6.0.0.0.${build.number}&amp;component=nb-uml,6.0.0.0.${build.number}&amp;component=nb-ruby,6.0.0.0.${build.number}&amp;component=sjsas,9.1.0.${sjsas.milestone.number}.${sjsas.build.number}&amp;component=openesb,5.0.3.0.${openesb.build.number}&amp;component=sjsam,5.0.3.${sjsam.milestone.number}.${sjsam.build.number}&amp;component=swdp,${swdp.macro.number}.0.0.${swdp.milestone.number}.${swdp.build.number}&amp;component=portletcontainer,${portletcontainer.macro.number}.${portletcontainer.micro.number}.0.${portletcontainer.milestone.number}.${portletcontainer.build.number}&amp;component=javaeesdk-firstcup,${javaeesdk-firstcup.macro.number}.${javaeesdk-firstcup.micro.number}.0.${javaeesdk-firstcup.milestone.number}.${javaeesdk-firstcup.build.number}&amp;platform=macosx-ppc"
            dest="${output.dir}/bundles/java-tools-bundle-u3-preview2-nightly-${build.number}-macosx-ppc.command"/>
        -->

        <get 
            src="http://${glassfish.host}:${glassfish.http.port}${context.path}/download-2/download.html"
            dest="${output.dir}/index.html"/>
        <get 
            src="http://${glassfish.host}:${glassfish.http.port}${context.path}/download-2/start.html"
            dest="${output.dir}/start.html"/>
            
        <get 
            src="http://${glassfish.host}:${glassfish.http.port}${context.path}/download-2/css/download.css"
            dest="${output.dir}/css/download.css"/>
        <get 
            src="http://${glassfish.host}:${glassfish.http.port}${context.path}/download-2/css/start.css"
            dest="${output.dir}/css/start.css"/>
            
        <get 
            src="http://${glassfish.host}:${glassfish.http.port}${context.path}/download-2/js/download.js"
            dest="${output.dir}/js/download.js"/>
        <get 
            src="http://${glassfish.host}:${glassfish.http.port}${context.path}/download-2/js/components.js"
            dest="${output.dir}/js/components.js"/>
            
        <get 
            src="http://${glassfish.host}:${glassfish.http.port}${context.path}/download-2/img/checked_badge_beige.gif"
            dest="${output.dir}/img/checked_badge_beige.gif"/>
        <get 
            src="http://${glassfish.host}:${glassfish.http.port}${context.path}/download-2/img/checked_badge_white.gif"
            dest="${output.dir}/img/checked_badge_white.gif"/>
        <get 
            src="http://${glassfish.host}:${glassfish.http.port}${context.path}/download-2/img/comment_badge_beige.gif"
            dest="${output.dir}/img/comment_badge_beige.gif"/>
        <get 
            src="http://${glassfish.host}:${glassfish.http.port}${context.path}/download-2/img/comment_badge_text.gif"
            dest="${output.dir}/img/comment_badge_text.gif"/>
        <get 
            src="http://${glassfish.host}:${glassfish.http.port}${context.path}/download-2/img/comment_badge_white.gif"
            dest="${output.dir}/img/comment_badge_white.gif"/>
        <get 
            src="http://${glassfish.host}:${glassfish.http.port}${context.path}/download-2/img/bold_comment_badge_text.gif"
            dest="${output.dir}/img/bold_comment_badge_text.gif"/>
        <get 
            src="http://${glassfish.host}:${glassfish.http.port}${context.path}/download-2/img/bold_comment_badge_header.gif"
            dest="${output.dir}/img/bold_comment_badge_header.gif"/>
        <get 
            src="http://${glassfish.host}:${glassfish.http.port}${context.path}/download-2/img/download.gif"
            dest="${output.dir}/img/download.gif"/>
        <get 
            src="http://${glassfish.host}:${glassfish.http.port}${context.path}/download-2/img/download_h.gif"
            dest="${output.dir}/img/download_h.gif"/>
        <get 
            src="http://${glassfish.host}:${glassfish.http.port}${context.path}/download-2/img/top_menu.gif"
            dest="${output.dir}/img/top_menu.gif"/>
        <get 
            src="http://${glassfish.host}:${glassfish.http.port}${context.path}/download-2/img/top_menu_5.5.1.gif"
            dest="${output.dir}/img/top_menu_5.5.1.gif"/>
        <get 
            src="http://${glassfish.host}:${glassfish.http.port}${context.path}/download-2/img/top_menu_5.5.1_h.gif"
            dest="${output.dir}/img/top_menu_5.5.1_h.gif"/>
        <get 
            src="http://${glassfish.host}:${glassfish.http.port}${context.path}/download-2/img/top_menu_6.0-m9.gif"
            dest="${output.dir}/img/top_menu_6.0-m9.gif"/>
        <get 
            src="http://${glassfish.host}:${glassfish.http.port}${context.path}/download-2/img/top_menu_6.0-m9_h.gif"
            dest="${output.dir}/img/top_menu_6.0-m9_h.gif"/>
        <get 
            src="http://${glassfish.host}:${glassfish.http.port}${context.path}/download-2/img/top_menu_dev.gif"
            dest="${output.dir}/img/top_menu_dev.gif"/>
        <get 
            src="http://${glassfish.host}:${glassfish.http.port}${context.path}/download-2/img/top_menu_dev_h.gif"
            dest="${output.dir}/img/top_menu_dev_h.gif"/>
        <get 
            src="http://${glassfish.host}:${glassfish.http.port}${context.path}/download-2/img/warning_badge_beige.gif"
            dest="${output.dir}/img/warning_badge_beige.gif"/>
        <get 
            src="http://${glassfish.host}:${glassfish.http.port}${context.path}/download-2/img/warning_badge_text.gif"
            dest="${output.dir}/img/warning_badge_text.gif"/>
        <get 
            src="http://${glassfish.host}:${glassfish.http.port}${context.path}/download-2/img/warning_badge_white.gif"
            dest="${output.dir}/img/warning_badge_white.gif"/>
        <get 
            src="http://${glassfish.host}:${glassfish.http.port}${context.path}/download-2/img/warning_badge_beige_macosx-x86.gif"
            dest="${output.dir}/img/warning_badge_beige_macosx-x86.gif"/>
        <get 
            src="http://${glassfish.host}:${glassfish.http.port}${context.path}/download-2/img/warning_badge_text_macosx-x86.gif"
            dest="${output.dir}/img/warning_badge_text_macosx-x86.gif"/>
        <get 
            src="http://${glassfish.host}:${glassfish.http.port}${context.path}/download-2/img/warning_badge_white_macosx-x86.gif"
            dest="${output.dir}/img/warning_badge_white_macosx-x86.gif"/>
        <get 
            src="http://${glassfish.host}:${glassfish.http.port}${context.path}/download-2/img/warning_badge_beige_macosx-ppc.gif"
            dest="${output.dir}/img/warning_badge_beige_macosx-ppc.gif"/>
        <get 
            src="http://${glassfish.host}:${glassfish.http.port}${context.path}/download-2/img/warning_badge_text_macosx-ppc.gif"
            dest="${output.dir}/img/warning_badge_text_macosx-ppc.gif"/>
        <get 
            src="http://${glassfish.host}:${glassfish.http.port}${context.path}/download-2/img/warning_badge_white_macosx-ppc.gif"
            dest="${output.dir}/img/warning_badge_white_macosx-ppc.gif"/>
        <get 
            src="http://${glassfish.host}:${glassfish.http.port}${context.path}/download-2/img/warning_badge_beige_solaris-x86.gif"
            dest="${output.dir}/img/warning_badge_beige_solaris-x86.gif"/>
        <get 
            src="http://${glassfish.host}:${glassfish.http.port}${context.path}/download-2/img/warning_badge_text_solaris-x86.gif"
            dest="${output.dir}/img/warning_badge_text_solaris-x86.gif"/>
        <get 
            src="http://${glassfish.host}:${glassfish.http.port}${context.path}/download-2/img/warning_badge_white_solaris-x86.gif"
            dest="${output.dir}/img/warning_badge_white_solaris-x86.gif"/>
        <get 
            src="http://${glassfish.host}:${glassfish.http.port}${context.path}/download-2/img/warning_badge_beige_solaris-sparc.gif"
            dest="${output.dir}/img/warning_badge_beige_solaris-sparc.gif"/>
        <get 
            src="http://${glassfish.host}:${glassfish.http.port}${context.path}/download-2/img/warning_badge_text_solaris-sparc.gif"
            dest="${output.dir}/img/warning_badge_text_solaris-sparc.gif"/>
        <get 
            src="http://${glassfish.host}:${glassfish.http.port}${context.path}/download-2/img/warning_badge_white_solaris-sparc.gif"
            dest="${output.dir}/img/warning_badge_white_solaris-sparc.gif"/>
        
        <tar tarfile="${output.dir}/bundles/netbeans-6.0-nightly-${build.number}-basic-macosx-x86.tgz" 
            compression="gzip">
            <tarfileset dir="${output.dir}/bundles/" mode="755">
                <include name="netbeans-6.0-nightly-${build.number}-basic-macosx-x86.command"/>
            </tarfileset>
        </tar>
        <tar tarfile="${output.dir}/bundles/netbeans-6.0-nightly-${build.number}-basic-macosx-ppc.tgz" 
            compression="gzip">
            <tarfileset dir="${output.dir}/bundles/" mode="755" >
                <include name="netbeans-6.0-nightly-${build.number}-basic-macosx-ppc.command"/>
            </tarfileset>
        </tar>
        <tar tarfile="${output.dir}/bundles/netbeans-6.0-nightly-${build.number}-standard-macosx-x86.tgz" 
            compression="gzip">
            <tarfileset dir="${output.dir}/bundles/" mode="755">
                <include name="netbeans-6.0-nightly-${build.number}-standard-macosx-x86.command"/>
            </tarfileset>
        </tar>
        <tar tarfile="${output.dir}/bundles/netbeans-6.0-nightly-${build.number}-standard-macosx-ppc.tgz" 
            compression="gzip">
            <tarfileset dir="${output.dir}/bundles/" mode="755">
                <include name="netbeans-6.0-nightly-${build.number}-standard-macosx-ppc.command"/>
            </tarfileset>
        </tar>
        <tar tarfile="${output.dir}/bundles/netbeans-6.0-nightly-${build.number}-full-macosx-x86.tgz" 
            compression="gzip">
            <tarfileset dir="${output.dir}/bundles/" mode="755">
                <include name="netbeans-6.0-nightly-${build.number}-full-macosx-x86.command"/>
            </tarfileset>
        </tar>
        <tar tarfile="${output.dir}/bundles/netbeans-6.0-nightly-${build.number}-full-macosx-ppc.tgz" 
            compression="gzip">
            <tarfileset dir="${output.dir}/bundles/" mode="755">
                <include name="netbeans-6.0-nightly-${build.number}-full-macosx-ppc.command"/>
            </tarfileset>
        </tar>
        <!--
	<tar tarfile="${output.dir}/bundles/java-tools-bundle-u3-preview2-nightly-${build.number}-macosx-x86.tgz" 
            compression="gzip">
            <tarfileset dir="${output.dir}/bundles/" mode="755">
                <include name="java-tools-bundle-u3-preview2-nightly-${build.number}-macosx-x86.command"/>
            </tarfileset>
        </tar>        
	<tar tarfile="${output.dir}/bundles/java-tools-bundle-u3-preview2-nightly-${build.number}-macosx-ppc.tgz" 
            compression="gzip">
            <tarfileset dir="${output.dir}/bundles/" mode="755">
                <include name="java-tools-bundle-u3-preview2-nightly-${build.number}-macosx-ppc.command"/>
            </tarfileset>
        </tar>
        -->
        <delete>
            <fileset dir="${output.dir}/bundles">
                <include name="*.command"/>
            </fileset>
        </delete>
    </target>
    
    <target name="-undeploy-server">
        <echo file="${temp.file}" message="${glassfish.password.line}"/>
        <exec executable="${glassfish.asadmin}" failonerror="true">
            <arg value="undeploy"/>
            
            <arg value="--host"/>
            <arg value="${glassfish.host}"/>
            
            <arg value="--port"/>
            <arg value="${glassfish.admin.port}"/>
            
            <arg value="--user"/>
            <arg value="${glassfish.user}"/>
            
            <arg value="--passwordfile"/>
            <arg value="${temp.file}"/>
            
            <arg value="${app.name}"/>
        </exec>
            
        <delete file="${temp.file}"/>
    </target>
    
    <target name="-delete-data">
        <delete dir="${context.dir}"/>
    </target>
    
    <target name="replace">
        <property file="${token.file}"/>
        <replaceregexp file="${file.to.replace}" flags="mg">
            <regexp pattern="${regexp.token}"/>
            <substitution expression="${regexp.replacement}"/>
        </replaceregexp>
    </target>
</project>
