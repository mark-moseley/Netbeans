<?xml version="1.0" encoding="UTF-8"?>
<project name="Sun_Web_UI_Components_Runtime_Library" default="default" basedir=".">
    
    <description>Builds, tests, and runs the project Sun Web UI Components Runtime Library.</description>
    
    <import file="nbproject/build-impl.xml"/>
    
    <target name="-post-compile" depends="copy-metadata"/>
    
    <target name="copy-metadata">
        <copy todir="${build.classes.dir}/META-INF">
            <fileset dir="conf">
                <include name="**/*.dtd"/>
                <include name="**/*.xml"/>
            </fileset>
            <fileset dir="conf/META-INF">
                <include name="*.tld"/>
            </fileset>
        </copy>
        <!-- Copy layout files needed for the stupid template renderer. -->
        <copy todir="${build.classes.dir}/layout">
            <fileset dir="conf/layout">
                <include name="*.dtd"/>
                <include name="*.xml"/>
            </fileset>
        </copy>
    </target>
    
    <!-- Zip the javadoc -->   
    <target name="javadoc-zip" depends="compile,javadoc">
      <zip basedir="${dist.javadoc.dir}" destfile="${dist.javadoc.zip}" />
   </target>

   <patternset id="src-zip-file-pattern">
	   <exclude name="com/sun/rave/web/ui/renderer/**"/>
	   <exclude name="com/sun/rave/web/ui/component/util/**"/>
	   <include name="com/sun/rave/web/ui/component/**"/>
	   <include name="com/sun/rave/web/ui/model/**"/>
	   <include name="com/sun/rave/web/ui/event/**"/>
    </patternset>
   
   <!-- Zip the src code -->
   <target name="src-zip" depends="compile">
     <zip destfile="${src.zip}">
         <fileset dir="${src.dir}">
            <patternset refid="src-zip-file-pattern"/>
         </fileset>
     </zip>
   </target>

</project>
