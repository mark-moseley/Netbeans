package org.netbeans.test;

import java.util.*;

public class Test {

public void create() {
    try {
        javax.naming.Context ctx = new javax.naming.InitialContext();
        javax.persistence.EntityManager em = (javax.persistence.EntityManager) ctx.lookup("java:comp/env/persistence/LogicalName");
        javax.transaction.UserTransaction utx = (javax.transaction.UserTransaction) ctx.lookup("java:comp/env/UserTransaction");

        utx.begin();
        em.persist(object);
        utx.commit();
    }
    catch (Exception e) {
        java.util.logging.Logger.getLogger(getClass().getName()).log(java.util.logging.Level.SEVERE,
                                                                     "exception caught",
                                                                     e);
        throw new RuntimeException(e);
    }
}
}