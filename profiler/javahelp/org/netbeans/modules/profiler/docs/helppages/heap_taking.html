<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<!--
*     Copyright Â© 2008 Sun Microsystems, Inc. All rights reserved.
*     Use is subject to license terms.
-->
<html>
<head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
        <title>Taking a Heap Dump</title>
        <link rel="StyleSheet" href="nbdocs:/org/netbeans/modules/usersguide/ide.css" type="text/css">
    </head>
    <body>

        <h2>Taking a Heap Dump</h2>
        <p><small><a href="#seealso">See Also</a></small></p>
        <p>You can take a <object classid="java:com.sun.java.help.impl.JHSecondaryViewer">
                <param name="content" value="glossary/heapdump.html">
                <param name="viewerActivator" value="javax.help.LinkLabel">
                <param name="viewerStyle" value="javax.help.Popup">
                <param name="viewerSize" value="400,110">
                <param name="text" value="heap dump">
                <param name="textFontSize" value="medium">
                <param name="textFontFamily" value="SansSerif">
                <param name="textFontStyle" value="italic">
                <param name="textFontWeight" value="bold">
                <param name="textColor" value="blue">
        </object> when a profiling session is in progress. When you take a heap dump you are prompted to save the heap to your project or local file system.
        After you save a heap dump, you can load the heap dump at any time and browse the objects on the heap and locate references to individual objects.
    You do not need to have a running profiling session to load and browse the heap dump.</p>
        
        <ul class="note">
            <li>To take a heap dump requires that the application is running on JDK 1.5.0_12 or higher.</li>
        </ul>

        <h3>Taking Heap Dumps</h3>
        <p>If a profiling session is in progress you can take and save a heap dump.
        You can take a heap dump manually or set a profiling point to take a heap dump automatically at a certain point in your application.
        In the Options window, you can also set the IDE to automatically take a heap dump on OutOfMemory error.</p>
        
        <p><b>To take a heap dump manually:</b></p>
        <ol>
            <li>Start a profiling session.</li>
            <li>Choose Profile &gt; Take Heap Dump in the main menu.</li>
        </ol>
        <p>When you take the heap dump, you are prompted to specify where you want to save the heap dump.
        You can save the heap dump snapshot to your project or to any location on your local filesystem.</p>
        
        <p><b>To take a heap dump using a profiling point:</b></p>
        <ol>
            <li>Open the source file containing the code where you want to place the profiling point.</li>
            <li>Right-click in the line of code where you want to place the profiling point and choose Profile &gt; Insert Profiling Point.</li>
            <li>In the New Profiling Point wizard, select one of the following snapshot options and click Next.
                <ul>
                    <li>Take Snapshot</li>
                    <li>Timed Take Snapshot</li>
                    <li>Triggered Take Snapshot</li>
                </ul>
            </li>
            <li>In the Customize Properties page of the wizard, select Heap Dump as the type of snapshot
        and modify any additional settings. Click Finish. </li>
        </ol>
        <p>When you use a profiling point to take a heap dump, you specify the point in your source code where you want 
        to place the profiling point. For example, you may want to take a heap dump when a thread enters a specific method.</p>
        
        <p><b>To take a heap dump on OutOfMemory error:</b></p>
        <ol>
            <li>Choose Tools &gt; Options from the main menu, click the Miscellaneous category and then click the Profiler tab.</li>
            <li>For the On OutOfMemory Error setting, choose an option from the drop-down list and specify a 
            location for the saved heap dump (optional).</li>
        </ol>
       <h3>Loading a Heap Dump</h3>
        <p>You can load and browse a heap dump at any time. You do not need to be running a profiling session
    to load a heap dump.</p>
        <ol>
            <li>Choose Profile &gt; Load Heap Dump in the main menu.</li>
            <li>Locate the heap dump on your system and click Open.</li>
        </ol>    
        <p>When you load a heap dump, the heap dump opens in the Heap window.</p>
    
        <dl>
            <dt><a name="seealso">See Also</a></dt>
            <dd><a href="heapwalker.html">Browsing a Heap Dump</a></dd>
            <dd><a href="profile_profilepoints.html">Setting Profiling Points</a></dd>
            <dd><a href="results_liveresults.html">Working with Live Profiling Results</a></dd>
            
        </dl>
                

        <hr>
        <small><a href="../credits.html">Legal Notices</a></small>
        <table border="0" cellpadding="50">
        <tr><td>&nbsp;</td></tr>
        </table>
    </body>
</html>
