<?xml version="1.0" encoding="UTF-8"?>
<!-- You may freely edit this file. See harness/README in the NetBeans platform -->
<!-- for some information on what you could do (e.g. targets to override). -->
<!-- If you delete this file and reopen the project it will be recreated. -->
<project name="org.netbeans.modules.deployment.deviceanywhere" default="netbeans" basedir=".">
    <description>Builds, tests, and runs the project org.netbeans.modules.deployment.deviceanywhere</description>
    <import file="../../../nbbuild/templates/projectized.xml"/>
    
    <target name="init" depends="projectized.init">
        <mkdir dir="build/libclasses"/>
        <javac srcdir="libsrc" destdir="build/libclasses" source="1.5" target="1.5" debug="true" deprecation="true">
            <classpath>
                <path refid="cp"/>
                <pathelement location="${ant.jar}"/>
                <pathelement location="${tools.jar}"/>
                <pathelement location="${cluster}/${module.jar}"/>
            </classpath>
        </javac>
        <copy todir="build/libclasses">
            <fileset dir="libsrc">
                <exclude name="**/*.java"/>
            </fileset>
        </copy>
        <mkdir dir="release/modules/ext"/>
        <jar jarfile="release/modules/ext/${code.name.base.dashes}.jar" compress="false">
            <fileset dir="build/libclasses">
                <exclude name="**/*.java"/>
            </fileset>
        </jar>

        <mkdir dir="${cluster}/modules/ext"/>
        <copy file="release/modules/ext/${code.name.base.dashes}.jar" tofile="${cluster}/modules/ext/${code.name.base.dashes}.jar"/>

        <mkdir dir="build/antclasses"/>
        <javac srcdir="antsrc" destdir="build/antclasses" source="1.5" target="1.5" debug="true" deprecation="true">
            <classpath>
                <path refid="cp"/>
                <pathelement location="${ant.jar}"/>
                <pathelement location="${tools.jar}"/>
                <pathelement location="${cluster}/${module.jar}"/>
            </classpath>
        </javac>
        <copy todir="build/antclasses">
            <fileset dir="antsrc">
                <exclude name="**/*.java"/>
            </fileset>
        </copy>
        <mkdir dir="release/ant/nblib"/>
        <jar jarfile="release/ant/nblib/${code.name.base.dashes}.jar" compress="false">
            <fileset dir="build/antclasses">
                <exclude name="**/*.java"/>
            </fileset>
        </jar>

        <mkdir dir="${cluster}/ant/nblib"/>
        <copy file="release/ant/nblib/${code.name.base.dashes}.jar" tofile="${cluster}/ant/nblib/${code.name.base.dashes}.jar"/>
       
        <mkdir dir="${cluster}/modules/scr"/>
	<copy todir="${cluster}/modules/scr">
	    <fileset dir="scripts"/>
	</copy>    
    </target>   

    <target name="clean" depends="projectized-common.clean">
        <delete file="${cluster}/modules/ext/${code.name.base.dashes}.jar"/>
        <delete file="${cluster}/ant/nblib/${code.name.base.dashes}.jar"/>
        <delete dir="release" />
    </target>

</project>
