/*
 * ReminderPanel.java
 *
 * Created on December 11, 2007, 4:01 PM
 */

package org.netbeans.modules.collab.ui;

import java.util.prefs.Preferences;
import org.openide.util.NbBundle;
import org.openide.util.NbPreferences;

/**
 *
 * @author  mslama
 */
public class ServerWarningPanel extends javax.swing.JPanel {

    private static final Preferences prefs = NbPreferences.forModule(ServerWarningPanel.class);

    /** Creates new form ReminderPanel */
    public ServerWarningPanel() {
        initComponents();
        setText();
    }
    
    private void setText () {
        lblWarningMessage.setText(NbBundle.getMessage(ServerWarningPanel.class, "LBL_ServerWarningMessage"));
        chbWarning.setText(NbBundle.getMessage(ServerWarningPanel.class, "LBL_ServerWarningCheckBox"));

        chbWarning.getAccessibleContext().setAccessibleName(
                NbBundle.getMessage(ServerWarningAction.class,"ACSN_ServerWarningCheckBox"));
        chbWarning.getAccessibleContext().setAccessibleDescription(
                NbBundle.getMessage(ServerWarningAction.class,"ACSD_ServerWarningCheckBox"));
        chbWarning.setSelected(prefs.getBoolean("server.warning.show", Boolean.TRUE)); // NOI18N
    }

    /** This method is called from within the constructor to
     * initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is
     * always regenerated by the Form Editor.
     */
    @SuppressWarnings("unchecked")
    // <editor-fold defaultstate="collapsed" desc="Generated Code">//GEN-BEGIN:initComponents
    private void initComponents() {

        lblWarningMessage = new javax.swing.JLabel();
        chbWarning = new javax.swing.JCheckBox();

        setBorder(javax.swing.BorderFactory.createEmptyBorder(10, 10, 10, 10));
        setFocusable(false);
        setLayout(new java.awt.BorderLayout());

        lblWarningMessage.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);
        lblWarningMessage.setText("Server share.java.net will be stopped on xx.xx.xxx"); // NOI18N
        lblWarningMessage.setBorder(javax.swing.BorderFactory.createEmptyBorder(5, 5, 5, 5));
        lblWarningMessage.setFocusable(false);
        lblWarningMessage.setRequestFocusEnabled(false);
        add(lblWarningMessage, java.awt.BorderLayout.CENTER);

        chbWarning.setText("Do not show this warning dialog next time"); // NOI18N
        chbWarning.setBorder(javax.swing.BorderFactory.createEmptyBorder(5, 5, 5, 5));
        chbWarning.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);
        chbWarning.addItemListener(new java.awt.event.ItemListener() {
            public void itemStateChanged(java.awt.event.ItemEvent evt) {
                checkBoxItemStateChanged(evt);
            }
        });
        add(chbWarning, java.awt.BorderLayout.PAGE_END);
    }// </editor-fold>//GEN-END:initComponents

    private void checkBoxItemStateChanged(java.awt.event.ItemEvent evt) {//GEN-FIRST:event_checkBoxItemStateChanged
        if (evt.getStateChange() == java.awt.event.ItemEvent.SELECTED) {
            prefs.putBoolean("server.warning.show", true); // NOI18N
        } else if (evt.getStateChange() == java.awt.event.ItemEvent.DESELECTED) {
            prefs.putBoolean("server.warning.show", false); // NOI18N
        }
    }//GEN-LAST:event_checkBoxItemStateChanged
    
    // Variables declaration - do not modify//GEN-BEGIN:variables
    private javax.swing.JCheckBox chbWarning;
    private javax.swing.JLabel lblWarningMessage;
    // End of variables declaration//GEN-END:variables
    
}
