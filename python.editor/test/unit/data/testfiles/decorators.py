@classmethod
@synchronized(lock)
def foo(cls):
    pass

