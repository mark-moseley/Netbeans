<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<!--       
*     Copyright (c) 2007 Sun Microsystems, Inc. All rights reserved.
*     Use is subject to license terms.
-->
<html><head>
<title>Ant Classpath and Custom Tasks</title>
<link rel="StyleSheet" href="nbdocs://org.netbeans.modules.usersguide/org/netbeans/modules/usersguide/ide.css" type="text/css">
</head>
<body>
<h2>Ant Classpath and Custom Tasks</h2>
<p> <small><a href="#seealso">See&nbsp;Also</a></small>
<p>By default, the IDE ignores your environment's <tt>CLASSPATH</tt> variable 
  whenever it runs Ant. For your build script to use custom tasks, you must add 
  the tasks to Ant's classpath in the IDE.</p>
<p>You can add custom tasks to Ant's classpath within the IDE by:</p>
<ul>
  <li>Configuring the Ant classpath settings in the Options window. </li>
  <li>Providing an explicit classpath to the tasks in your build script. This 
    is the recommended method.</li>
</ul>
<h3>Adding Binaries to Ant's Classpath in the IDE</h3>
<p>If you cannot declare a classpath in your build script, or you are using third-party 
  build scripts which you cannot alter, you can add the tasks to Ant's classpath 
  in the IDE. Open the Options window, click Miscellaneous in the left panel of the 
  window, and expand the Ant node. Use the Classpath section to manage the Ant 
  classpath. </p>
<ul class="note">
  <li>You should only add items to the Ant classpath that are needed to run custom 
    tasks. You should not use the Classpath settings to manage the compilation 
    or runtime classpath of your project source folders. For information on managing 
    project classpath, see the links at the bottom of this page. </li>
</ul>
<h3>Build Scripts With an Explicit Classpath</h3>
<p> Using an explicit classpath is the recommended method, as it ensures that 
  your build scripts will be fully portable. You can write your tasks and include 
  instructions to compile them and produce a JAR file in the build file. To use 
  these tasks, include the long form of <tt>taskdef</tt>, which includes a classpath. 
  Here is a simple <OBJECT classid="java:com.sun.java.help.impl.JHSecondaryViewer">
    <param name="content" value="./exp-classpath.html">
    <param name="viewerName" value="NBSecondaryWindow"> 
    <param name="viewerActivator" value="javax.help.LinkLabel">
    <param name="viewerStyle" value="javax.help.SecondaryWindow">
    <param name="text" value="example">
    <param name="textFontFamily" value="SansSerif">
    <param name="textFontSize" value="medium">
    <param name="textFontWeight" value="bold">
    <param name="textFontStyle" value="italic">
    <param name="textColor" value="blue">
  </OBJECT> of such a task. 
<p> The advantage of this method is that no special preparation is needed to begin 
  using the script. The script is entirely self-contained and portable. This method 
  also makes it easier to develop your tasks within the IDE, as the script compiles 
  them for you automatically. </p>
<p>To make the your build scripts even more robust, use a property instead of 
  a hard-coded location to specify the classpath to your tasks. You can store 
  the property in the build script itself or in a separate <tt>ant.properties</tt> 
  file. You can then change the classpath setting throughout your script by simply 
  changing the value of the specified property. </p>
<dl>
    <dt><a name="seealso">See Also</a></dt>
    <dd><a href="../compile/comp_classpath.html">Managing the Classpath</a></dd>
    <dd><a href="../project/proj_stand_customize.html">Customizing the IDE-Generated 
    Ant Script</a></dd>
    <dd><a href="../project/proj_free_classpath.html">Declaring the Classpath in 
    a Free-Form Project</a></dd>
</dl>

<hr>
<small><a href="../credits.html">Legal Notices</a></small> 

<table border="0" cellpadding="50">
<tr><td>&nbsp;</td></tr>
</table></body>
</html>
