<?xml version="1.0" encoding="UTF-8"?>
<project basedir="." default="netbeans" name="websvc/saas/api">
    <description>Builds, tests, and runs the project org.netbeans.modules.websvc.saas.api</description>
    <import file="../nbbuild/templates/projectized.xml"/>

    <property name="saas.service.xsd" value="src/org/netbeans/modules/websvc/saas/model/SaasServices.xsd"/>
    <property name="saas.model.jaxb" value="src/org/netbeans/modules/websvc/saas/model/jaxb"/>
    <property name="wadl.xsd" value="src/org/netbeans/modules/websvc/saas/model/wadl20061109.xsd"/>
    <property name="saas.model.wadl" value="src/org/netbeans/modules/websvc/saas/model/wadl"/>

    <target name="xjc-init" depends="build-init">
        <taskdef name="xjc" classname="com.sun.tools.xjc.XJCTask">
            <classpath>
                <fileset dir="${netbeans.dest.dir}/${nb.cluster.java.dir}/modules/ext/jaxws21" includes="*.jar"/>
                <fileset dir="${netbeans.dest.dir}/${nb.cluster.java.dir}/modules/ext/jaxws21/api" includes="*.jar"/>
            </classpath>
        </taskdef>
    </target>
    
    <target name="model-gen" depends="xjc-init">
        <xjc schema="${saas.service.xsd}"
            package="org.netbeans.modules.websvc.saas.model.jaxb"
            destdir="src">
            <depends file="${saass-service.xsd}"/>
            <produces dir="${saas.model.jaxb}"/>
        </xjc>
        <!-- xjc schema="src/org/netbeans/modules/websvc/saas/model/wadl20061109.xsd"
            package="org.netbeans.modules.websvc.saas.model.wadl"
            destdir="src">
        </xjc-->
    </target>
    
    <target name="compile" depends="model-gen,projectized-common.compile"/>

    <target name="clean" depends="projectized-common.clean">
        <delete dir="${saas.model.jaxb}"/>
        <delete dir="${saas.model.wadl}"/>
    </target>
    
</project>
