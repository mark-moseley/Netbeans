<?xml version="1.0" encoding="UTF-8"?>
<project basedir="." default="netbeans" name="css.editor">
    <description>Builds, tests, and runs the project org.netbeans.modules.css</description>
    <import file="../nbbuild/templates/projectized.xml"/>
    
    <target name="build-css-parser" description="Builds CSS javacc parser">
        <fail unless="javacc.home">Must set javacc.home (preferably in ../nbbuild/user.build.properties)</fail>
        <jjtree target="src/org/netbeans/modules/css/parser/css.jjt" outputdirectory="src/org/netbeans/modules/css/parser/" javacchome="${javacc.home}"/>
        <javacc target="src/org/netbeans/modules/css/parser/css.jj" outputdirectory="src/org/netbeans/modules/css/parser/" javacchome="${javacc.home}"/>
    </target>

    <target name="jar" depends="init,compile,jar-prep" unless="is.jar.uptodate">
        <taskdef name="csljar" classname="org.netbeans.modules.csl.CslJar" classpath="${nb_all}/csl.api/anttask/build/cslanttask.jar:${nb_all}/nbbuild/nbantext.jar"/>
        <csljar jarfile="${cluster}/${module.jar}" compress="${build.package.compress}" index="${build.package.index}" manifest="${manifest.mf}" stamp="${cluster}/.lastModified">
            <fileset dir="${build.classes.dir}"/>
        </csljar>
    </target>


</project>
