<?xml version="1.0" encoding="UTF-8"?> <!-- -*- sgml-indent-step: 2 -*- -->
<!--
                Sun Public License Notice

The contents of this file are subject to the Sun Public License
Version 1.0 (the "License"). You may not use this file except in
compliance with the License. A copy of the License is available at
http://www.sun.com/

The Original Code is NetBeans. The Initial Developer of the Original
Code is Sun Microsystems, Inc. Portions Copyright 1997-2004 Sun
Microsystems, Inc. All Rights Reserved.
-->

<!--
ToDo:
- build validator DTD for this build system
- sanity check that module list actually satisfies module dependencies
    this sanity check can be actually done by target 'print-cvs-modules',
    hich prints also suspected compile-time dependency (what is going to be
    built, but not merged into product)
-->

<project name="nbbuild" default="all" basedir=".">
  <import file="default.xml"/>

  <!-- To make people happy who want to do `ant clean all': -->
  <target name="all" depends="build,commit-validation" description="Build the IDE and run basic validation tests."/>

  <target name="all-nozip" depends="build-nozip,commit-validation" description="Build the IDE (no ZIP file, unpacked) and run basic validation tests."/>

  <target name="check-for-jdk-1.4">
    <available property="have-jdk-1.4" classname="java.lang.CharSequence"/>
  </target>
  <target name="assure-jdk-1.4" depends="check-for-jdk-1.4" unless="have-jdk-1.4">
    <fail>You need JDK 1.4 or higher to build NetBeans.</fail>
  </target>

  <target name="bootstrap"
          description="Bootstrap NetBeans-specific Ant extensions."
          depends="assure-jdk-1.4">
    <!-- First things first: read the user's and/or -->
    <!-- the site's build properties files.         -->
    <property file="user.build.properties"/>
    <property file="site.build.properties"/>

    <!-- Now read the standard properties file. -->
    <property file="build.properties"/>

    <echo message="Bootstrapping NetBeans-specific Ant extensions..."/>
    <ant dir="external" target="unscramble"/>
    <property name="ant.jar" value="${ant.home}/lib/ant.jar"/>
    <path id="bootstrap-cp">
     <pathelement location="${ant.jar}"/>
     <fileset dir="..">
        <!-- For JavaHelp indexing: -->
        <include name="nbbuild/external/jhall*.jar"/>
        <!-- For XMLValidate Ant task: -->
        <include name="nbbuild/external/resolver*.jar"/>
      </fileset>
    </path>
    <javac srcdir="antsrc" destdir="antsrc" deprecation="true" debug="${build.compiler.debug}" source="1.4">
      <classpath refid="bootstrap-cp"/>
    </javac>
    <jar jarfile="nbantext.jar" basedir="antsrc">
      <exclude name="**/*.java"/>
      <exclude name="package-list"/>
    </jar>
  </target>

  <target name="init-module-list" depends="bootstrap,setup-jdkhome">
    <!-- Define modules. -->
    <!-- The following is not permitted by Ant: -->
    <!-- <property name="modules" value="${config.modules.${moduleconfig}}"/> -->
    <!-- So this is a little trick to do it anyway. -->
    <echo file="moduledefs-tmp.properties">modules=$${config.modules.${moduleconfig}}
fixedmodules=$${config.fixedmodules.${moduleconfig}}
</echo>
    <property file="moduledefs-tmp.properties"/>
    <property name="allmodules" value="${fixedmodules},${modules}"/>
  </target>

  <target name="maybe-pre-unscramble" depends="init-module-list" unless="netbeans.no.pre.unscramble">
    <!-- To make things more pleasant for the user, unscramble available modules now. -->
    <!-- Otherwise the user would be prompted at intervals and it would get annoying. -->
    <echo>About to unscramble additional third-party files you will probably need.
If you do not plan to use them and wish to avoid accepting their licenses,
try building with the flag: -Dnetbeans.no.pre.unscramble=true</echo>
    <subant target="pre-unscramble-one" inheritall="true" genericantfile="build.xml" >
      <dirset  dir="..">
        <include name="*/external"/>
        <exclude name="nbbuild/external"/>
        <exclude name="xml/external"/>
      </dirset>
    </subant>
  </target>
  <!-- this target is needed in order to let the subant task set correctly
    the basedir to one of the */external directories. Then we can just
    call the unscramble target and get the ant to run the right build script's
    target withh the right basedir
    -->
  <target name="pre-unscramble-one" if="buildFileAvailable" depends="hasBuildFile">
     <ant target="unscramble" />
  </target>

  <target name="hasBuildFile">
    <available file="build.xml" property="buildFileAvailable"/>
  </target>

  <target name="set-buildnumber" unless="buildnumber">
    <tstamp>
    	<format property="buildnumber" pattern="yyMMdd"/>
    </tstamp>
  </target>

  <target name="init" depends="init-module-list,maybe-pre-unscramble,set-buildnumber">
    <taskdef name="cleanall" classname="org.netbeans.nbbuild.CleanAll" classpath="nbantext.jar"/>
    <taskdef name="nbmerge" classname="org.netbeans.nbbuild.NbMerge" classpath="nbantext.jar"/>
    <taskdef name="for-each" classname="org.netbeans.nbbuild.ForEach" classpath="nbantext.jar"/>
    <taskdef name="getdependsclusters" classname="org.netbeans.nbbuild.GetDependsClusters" classpath="nbantext.jar"/>
    <taskdef name="repeat" classname="org.netbeans.nbbuild.Repeat" classpath="nbantext.jar"/>

    <!-- We need absolute path to ${netbeans.dest} -->
    <property name="netbeans.dest.abs" location="${netbeans.dest}"/>
    <!-- Overridable. Note: need not necessarily be a number at all): -->
    <property name="buildnum" value="dev-${buildnumber}"/>
    <property name="sanitystart.args" value="-J-Dnetbeans.close=true ${sanitystart.args.additional}"/>

  </target>

  <!-- Platform modules: -->
  <target name="all-openide" depends="init">
    <echo message="Building Open APIs..."/>
    <getdependsclusters name="dependsClusters" list="${nb.clusters.list}"/>
    <antcall target="build-one-cluster-dependencies" inheritAll="false">
      <param name="one.cluster.dependencies" value="${dependsClusters}"/>
      <param name="one.cluster.name" value="this-cluster"/>
    </antcall>
    <ant dir="../openide" target="netbeans"/>
  </target>
  <target name="all-openide/loaders" depends="all-openide">
    <echo message="Building openide/loaders..."/>
    <getdependsclusters name="dependsClusters" list="${nb.clusters.list}"/>
    <antcall target="build-one-cluster-dependencies" inheritAll="false">
      <param name="one.cluster.dependencies" value="${dependsClusters}"/>
      <param name="one.cluster.name" value="this-cluster"/>
    </antcall>
    <ant dir="../openide/loaders" target="netbeans"/>
  </target>
  <target name="all-openide/execution" depends="all-openide,all-openide/io">
    <echo message="Building openide/execution..."/>
    <getdependsclusters name="dependsClusters" list="${nb.clusters.list}"/>
    <antcall target="build-one-cluster-dependencies" inheritAll="false">
      <param name="one.cluster.dependencies" value="${dependsClusters}"/>
      <param name="one.cluster.name" value="this-cluster"/>
    </antcall>
    <ant dir="../openide/execution" target="netbeans"/>
  </target>
  <target name="all-openide/io" depends="all-openide">
    <echo message="Building openide/io..."/>
    <getdependsclusters name="dependsClusters" list="${nb.clusters.list}"/>
    <antcall target="build-one-cluster-dependencies" inheritAll="false">
      <param name="one.cluster.dependencies" value="${dependsClusters}"/>
      <param name="one.cluster.name" value="this-cluster"/>
    </antcall>
    <ant dir="../openide/io" target="netbeans"/>
  </target>
  <target name="all-core/bootstrap" depends="init">
    <echo message="Building module core/bootstrap..."/>
    <getdependsclusters name="dependsClusters" list="${nb.clusters.list}"/>
    <antcall target="build-one-cluster-dependencies" inheritAll="false">
      <param name="one.cluster.dependencies" value="${dependsClusters}"/>
      <param name="one.cluster.name" value="this-cluster"/>
    </antcall>
    <ant dir="../core/bootstrap" target="netbeans"/>
  </target>
  <target name="all-core" depends="all-openide,all-openide/loaders,all-core/bootstrap,all-core/swing/plaf">
    <echo message="Building IDE core implementation..."/>
    <getdependsclusters name="dependsClusters" list="${nb.clusters.list}"/>
    <antcall target="build-one-cluster-dependencies" inheritAll="false">
      <param name="one.cluster.dependencies" value="${dependsClusters}"/>
      <param name="one.cluster.name" value="this-cluster"/>
    </antcall>
    <ant dir="../core" target="netbeans"/>
  </target>
  <target name="all-core/javahelp" depends="all-openide,all-openide/loaders">
    <echo message="Building module core/javahelp..."/>
    <getdependsclusters name="dependsClusters" list="${nb.clusters.list}"/>
    <antcall target="build-one-cluster-dependencies" inheritAll="false">
      <param name="one.cluster.dependencies" value="${dependsClusters}"/>
      <param name="one.cluster.name" value="this-cluster"/>
    </antcall>
    <ant dir="../core/javahelp" target="netbeans"/>
  </target>
  <target name="all-core/favorites" depends="all-openide,all-openide/loaders">
    <echo message="Building module core/favorites..."/>
    <getdependsclusters name="dependsClusters" list="${nb.clusters.list}"/>
    <antcall target="build-one-cluster-dependencies" inheritAll="false">
      <param name="one.cluster.dependencies" value="${dependsClusters}"/>
      <param name="one.cluster.name" value="this-cluster"/>
    </antcall>
    <ant dir="../core/favorites" target="netbeans"/>
  </target>
  <target name="all-core/execution" depends="all-openide,all-openide/io,all-openide/execution,all-core,all-core/bootstrap">
    <echo message="Building module core/execution..."/>
    <getdependsclusters name="dependsClusters" list="${nb.clusters.list}"/>
    <antcall target="build-one-cluster-dependencies" inheritAll="false">
      <param name="one.cluster.dependencies" value="${dependsClusters}"/>
      <param name="one.cluster.name" value="this-cluster"/>
    </antcall>
    <ant dir="../core/execution" target="netbeans"/>
  </target>
  <target name="all-core/output" depends="all-openide,all-openide/io,all-core/term">
    <echo message="Building module core/output..."/>
    <getdependsclusters name="dependsClusters" list="${nb.clusters.list}"/>
    <antcall target="build-one-cluster-dependencies" inheritAll="false">
      <param name="one.cluster.dependencies" value="${dependsClusters}"/>
      <param name="one.cluster.name" value="this-cluster"/>
    </antcall>
    <ant dir="../core/output" target="netbeans"/>
  </target>
  <target name="all-core/term" depends="init">
    <echo message="Building module core/term..."/>
    <getdependsclusters name="dependsClusters" list="${nb.clusters.list}"/>
    <antcall target="build-one-cluster-dependencies" inheritAll="false">
      <param name="one.cluster.dependencies" value="${dependsClusters}"/>
      <param name="one.cluster.name" value="this-cluster"/>
    </antcall>
    <ant dir="../core/term" target="netbeans"/>
  </target>
  <target name="all-core/output2" depends="all-openide,all-openide/io">
    <echo message="Building module core/output2..."/>
    <getdependsclusters name="dependsClusters" list="${nb.clusters.list}"/>
    <antcall target="build-one-cluster-dependencies" inheritAll="false">
      <param name="one.cluster.dependencies" value="${dependsClusters}"/>
      <param name="one.cluster.name" value="this-cluster"/>
    </antcall>
    <ant dir="../core/output2" target="netbeans"/>
  </target> 
  <target name="all-core/ui" depends="all-openide">
    <echo message="Building module core/ui..."/>
    <getdependsclusters name="dependsClusters" list="${nb.clusters.list}"/>
    <antcall target="build-one-cluster-dependencies" inheritAll="false">
      <param name="one.cluster.dependencies" value="${dependsClusters}"/>
      <param name="one.cluster.name" value="this-cluster"/>
    </antcall>
    <ant dir="../core/ui" target="netbeans"/>
  </target>
  <target name="all-core/windows" depends="all-openide,all-openide/loaders,all-core,all-core/swing/tabcontrol">
    <echo message="Building module core/windows..."/>
    <getdependsclusters name="dependsClusters" list="${nb.clusters.list}"/>
    <antcall target="build-one-cluster-dependencies" inheritAll="false">
      <param name="one.cluster.dependencies" value="${dependsClusters}"/>
      <param name="one.cluster.name" value="this-cluster"/>
    </antcall>
    <ant dir="../core/windows" target="netbeans"/>
  </target>
  <target name="all-core/multiview" depends="all-openide,all-openide/loaders">
    <echo message="Building module core/multiview..."/>
    <getdependsclusters name="dependsClusters" list="${nb.clusters.list}"/>
    <antcall target="build-one-cluster-dependencies" inheritAll="false">
      <param name="one.cluster.dependencies" value="${dependsClusters}"/>
      <param name="one.cluster.name" value="this-cluster"/>
    </antcall>
    <ant dir="../core/multiview" target="netbeans"/>
  </target>  
  <target name="all-core/ide" depends="all-openide">
    <echo message="Building module core/ide..."/>
    <getdependsclusters name="dependsClusters" list="${nb.clusters.list}"/>
    <antcall target="build-one-cluster-dependencies" inheritAll="false">
      <param name="one.cluster.dependencies" value="${dependsClusters}"/>
      <param name="one.cluster.name" value="this-cluster"/>
    </antcall>
    <ant dir="../core/ide" target="netbeans"/>
  </target>
  <target name="all-core/settings" depends="all-openide,all-openide/loaders,all-core">
    <echo message="Building module core/settings..."/>
    <getdependsclusters name="dependsClusters" list="${nb.clusters.list}"/>
    <antcall target="build-one-cluster-dependencies" inheritAll="false">
      <param name="one.cluster.dependencies" value="${dependsClusters}"/>
      <param name="one.cluster.name" value="this-cluster"/>
    </antcall>
    <ant dir="../core/settings" target="netbeans"/>
  </target>
  <target name="all-openide/masterfs" depends="all-openide,all-projects/queries">
    <echo message="Building module openide/masterfs..."/>
    <getdependsclusters name="dependsClusters" list="${nb.clusters.list}"/>
    <antcall target="build-one-cluster-dependencies" inheritAll="false">
      <param name="one.cluster.dependencies" value="${dependsClusters}"/>
      <param name="one.cluster.name" value="this-cluster"/>
    </antcall>
    <ant dir="../openide/masterfs" target="netbeans"/>
  </target>
  <target name="all-autoupdate" depends="all-openide,all-core">
    <echo message="Building module autoupdate..."/>
    <getdependsclusters name="dependsClusters" list="${nb.clusters.list}"/>
    <antcall target="build-one-cluster-dependencies" inheritAll="false">
      <param name="one.cluster.dependencies" value="${dependsClusters}"/>
      <param name="one.cluster.name" value="this-cluster"/>
    </antcall>
    <ant dir="../autoupdate" target="netbeans"/>
  </target>
  <target name="all-projects/queries" depends="all-openide">
    <echo message="Building module projects/queries..."/>
    <getdependsclusters name="dependsClusters" list="${nb.clusters.list}"/>
    <antcall target="build-one-cluster-dependencies" inheritAll="false">
      <param name="one.cluster.dependencies" value="${dependsClusters}"/>
      <param name="one.cluster.name" value="this-cluster"/>
    </antcall>
    <ant dir="../projects/queries" target="netbeans"/>
  </target>
  <target name="all-core/swing/plaf" depends="init">
    <echo message="Building look and feel library..."/>
    <getdependsclusters name="dependsClusters" list="${nb.clusters.list}"/>
    <antcall target="build-one-cluster-dependencies" inheritAll="false">
      <param name="one.cluster.dependencies" value="${dependsClusters}"/>
      <param name="one.cluster.name" value="this-cluster"/>
    </antcall>
    <ant dir="../core/swing/plaf" target="netbeans"/>
  </target>
  <target name="all-core/swing/tabcontrol" depends="init">
    <echo message="Building tabcontrol javabean..."/>
    <getdependsclusters name="dependsClusters" list="${nb.clusters.list}"/>
    <antcall target="build-one-cluster-dependencies" inheritAll="false">
      <param name="one.cluster.dependencies" value="${dependsClusters}"/>
      <param name="one.cluster.name" value="this-cluster"/>
    </antcall>
    <ant dir="../core/swing/tabcontrol" target="netbeans"/>
  </target>

  <!-- And the rest of modules -->
  <target name="all-java/srcmodel" depends="all-java/api">
    <echo message="Building java/srcmodel..."/>
    <getdependsclusters name="dependsClusters" list="${nb.clusters.list}"/>
    <antcall target="build-one-cluster-dependencies" inheritAll="false">
      <param name="one.cluster.dependencies" value="${dependsClusters}"/>
      <param name="one.cluster.name" value="this-cluster"/>
    </antcall>
    <ant dir="../java/srcmodel" target="netbeans"/>
  </target>
  <target name="all-java/javacore" depends="all-java/javamodel,all-classfile,all-java/api,all-java/parser,all-projects/projectapi">
    <echo message="Building module javacore..."/>
    <getdependsclusters name="dependsClusters" list="${nb.clusters.list}"/>
    <antcall target="build-one-cluster-dependencies" inheritAll="false">
      <param name="one.cluster.dependencies" value="${dependsClusters}"/>
      <param name="one.cluster.name" value="this-cluster"/>
    </antcall>
    <ant dir="../java/javacore" target="netbeans"/>
  </target>
  <target name="all-java/javamodel" depends="all-mdr">
    <echo message="Building module javamodel..."/>
    <getdependsclusters name="dependsClusters" list="${nb.clusters.list}"/>
    <antcall target="build-one-cluster-dependencies" inheritAll="false">
      <param name="one.cluster.dependencies" value="${dependsClusters}"/>
      <param name="one.cluster.name" value="this-cluster"/>
    </antcall>
    <ant dir="../java/javamodel" target="netbeans"/>
  </target>
  <target name="all-java/parser" depends="init">
    <echo message="Building module parser..."/>
    <getdependsclusters name="dependsClusters" list="${nb.clusters.list}"/>
    <antcall target="build-one-cluster-dependencies" inheritAll="false">
      <param name="one.cluster.dependencies" value="${dependsClusters}"/>
      <param name="one.cluster.name" value="this-cluster"/>
    </antcall>
    <ant dir="../java/parser" target="jar"/>
  </target>
  <target name="all-refactoring" depends="all-java,all-java/project,all-projects/projectapi,all-projects/projectuiapi">
    <echo message="Building module refactoring..."/>
    <ant dir="../refactoring" target="netbeans"/>
  </target>
  <target name="all-core/deprecated" depends="init">
    <echo message="Building core/deprecated..."/>
    <getdependsclusters name="dependsClusters" list="${nb.clusters.list}"/>
    <antcall target="build-one-cluster-dependencies" inheritAll="false">
      <param name="one.cluster.dependencies" value="${dependsClusters}"/>
      <param name="one.cluster.name" value="this-cluster"/>
    </antcall>
    <ant dir="../core/deprecated" target="netbeans"/>
  </target>
  <target name="all-openide/deprecated" depends="all-openide/compiler,all-debuggercore/oldapi">
    <echo message="Building openide/deprecated..."/>
    <!-- Make it depend only on platform -->
    <antcall target="build-one-cluster-dependencies" inheritAll="false">
      <param name="one.cluster.dependencies" value="nb.cluster.platform"/>
      <param name="one.cluster.name" value="this-cluster"/>
    </antcall>
    <ant dir="../openide/deprecated" target="netbeans"/>
  </target>
  <target name="all-openide/compiler" depends="all-openide/execution/deprecated">
    <echo message="Building openide/compiler..."/>
    <!-- Make it depend only on platform -->
    <antcall target="build-one-cluster-dependencies" inheritAll="false">
      <param name="one.cluster.dependencies" value="nb.cluster.platform"/>
      <param name="one.cluster.name" value="this-cluster"/>
    </antcall>
    <ant dir="../openide/compiler" target="netbeans"/>
  </target>
  <target name="all-openide/execution/deprecated" depends="init">
    <echo message="Building openide/execution/deprecated..."/>
    <!-- Make it depend only on platform -->
    <antcall target="build-one-cluster-dependencies" inheritAll="false">
      <param name="one.cluster.dependencies" value="nb.cluster.platform"/>
      <param name="one.cluster.name" value="this-cluster"/>
    </antcall>
    <ant dir="../openide/execution/deprecated" target="netbeans"/>
  </target>
  <target name="all-core/compiler" depends="all-openide/compiler">
    <echo message="Building module core/compiler..."/>
    <getdependsclusters name="dependsClusters" list="${nb.clusters.list}"/>
    <antcall target="build-one-cluster-dependencies" inheritAll="false">
      <param name="one.cluster.dependencies" value="${dependsClusters}"/>
      <param name="one.cluster.name" value="this-cluster"/>
    </antcall>
    <ant dir="../core/compiler" target="netbeans"/>
  </target>
  <target name="all-contrib/naming" depends="init">
    <echo message="Building module contrib/naming..."/>
    <getdependsclusters name="dependsClusters" list="${nb.clusters.list}"/>
    <antcall target="build-one-cluster-dependencies" inheritAll="false">
      <param name="one.cluster.dependencies" value="${dependsClusters}"/>
      <param name="one.cluster.name" value="this-cluster"/>
    </antcall>
    <ant dir="../contrib/naming" target="netbeans"/>
  </target>
  <target name="all-contrib/bookmarks" depends="all-contrib/naming">
    <echo message="Building module bookmarks ..."/>
    <getdependsclusters name="dependsClusters" list="${nb.clusters.list}"/>
    <antcall target="build-one-cluster-dependencies" inheritAll="false">
      <param name="one.cluster.dependencies" value="${dependsClusters}"/>
      <param name="one.cluster.name" value="this-cluster"/>
    </antcall>
    <ant dir="../contrib/bookmarks" target="netbeans"/>
  </target>
  <target name="all-contrib/htmldiff" depends="all-diff">
    <echo message="Building module htmldiff ..."/>
    <getdependsclusters name="dependsClusters" list="${nb.clusters.list}"/>
    <antcall target="build-one-cluster-dependencies" inheritAll="false">
      <param name="one.cluster.dependencies" value="${dependsClusters}"/>
      <param name="one.cluster.name" value="this-cluster"/>
    </antcall>
    <ant dir="../contrib/htmldiff" target="netbeans"/>
  </target>
  <target name="all-openide/looks" depends="all-openide/registry,all-core/registry">
    <echo message="Building module openide/looks..."/>
    <getdependsclusters name="dependsClusters" list="${nb.clusters.list}"/>
    <antcall target="build-one-cluster-dependencies" inheritAll="false">
      <param name="one.cluster.dependencies" value="${dependsClusters}"/>
      <param name="one.cluster.name" value="this-cluster"/>
    </antcall>
    <ant dir="../openide/looks" target="netbeans"/>
  </target>
  <target name="all-openide/registry" depends="init">
    <echo message="Building module openide/registry..."/>
    <getdependsclusters name="dependsClusters" list="${nb.clusters.list}"/>
    <antcall target="build-one-cluster-dependencies" inheritAll="false">
      <param name="one.cluster.dependencies" value="${dependsClusters}"/>
      <param name="one.cluster.name" value="this-cluster"/>
    </antcall>
    <ant dir="../openide/registry" target="netbeans"/>
  </target>
  <target name="all-core/registry" depends="all-openide/registry,all-openide/convertor">
    <echo message="Building module core/registry..."/>
    <getdependsclusters name="dependsClusters" list="${nb.clusters.list}"/>
    <antcall target="build-one-cluster-dependencies" inheritAll="false">
      <param name="one.cluster.dependencies" value="${dependsClusters}"/>
      <param name="one.cluster.name" value="this-cluster"/>
    </antcall>
    <ant dir="../core/registry" target="netbeans"/>
  </target>
  <target name="all-openide/convertor" depends="init">
    <echo message="Building module openide/convertor..."/>
    <getdependsclusters name="dependsClusters" list="${nb.clusters.list}"/>
    <antcall target="build-one-cluster-dependencies" inheritAll="false">
      <param name="one.cluster.dependencies" value="${dependsClusters}"/>
      <param name="one.cluster.name" value="this-cluster"/>
    </antcall>
    <ant dir="../openide/convertor" target="netbeans"/>
  </target>

  <target name="all-a11y" depends="all-form,all-junit,all-xtest">
    <echo message="Building module a11y..."/>
    <getdependsclusters name="dependsClusters" list="${nb.clusters.list}"/>
    <antcall target="build-one-cluster-dependencies" inheritAll="false">
      <param name="one.cluster.dependencies" value="${dependsClusters}"/>
      <param name="one.cluster.name" value="this-cluster"/>
    </antcall>
    <ant dir="../a11y" target="netbeans"/>
  </target>
  <target name="all-ant" depends="init">
    <echo message="Building module ant..."/>
    <getdependsclusters name="dependsClusters" list="${nb.clusters.list}"/>
    <antcall target="build-one-cluster-dependencies" inheritAll="false">
      <param name="one.cluster.dependencies" value="${dependsClusters}"/>
      <param name="one.cluster.name" value="this-cluster"/>
    </antcall>
    <ant dir="../ant" target="netbeans"/>
  </target>
  <target name="all-ant/docs" depends="init">
    <echo message="Building module ant/docs..."/>
    <getdependsclusters name="dependsClusters" list="${nb.clusters.list}"/>
    <antcall target="build-one-cluster-dependencies" inheritAll="false">
      <param name="one.cluster.dependencies" value="${dependsClusters}"/>
      <param name="one.cluster.name" value="this-cluster"/>
    </antcall>
    <ant dir="../ant/docs" target="netbeans"/>
  </target>
  <target name="all-ant/freeform" depends="all-ant,all-java/project,all-java/api,all-java/platform,all-ant/project,all-projects/projectapi,all-projects/projectuiapi,all-web/webapi">
    <echo message="Building module ant/freeform..."/>
    <getdependsclusters name="dependsClusters" list="${nb.clusters.list}"/>
    <antcall target="build-one-cluster-dependencies" inheritAll="false">
      <param name="one.cluster.dependencies" value="${dependsClusters}"/>
      <param name="one.cluster.name" value="this-cluster"/>
    </antcall>
    <ant dir="../ant/freeform" target="netbeans"/>
  </target>
  <target name="all-ant/grammar" depends="all-ant,all-xml/core">
    <echo message="Building module ant/grammar..."/>
    <getdependsclusters name="dependsClusters" list="${nb.clusters.list}"/>
    <antcall target="build-one-cluster-dependencies" inheritAll="false">
      <param name="one.cluster.dependencies" value="${dependsClusters}"/>
      <param name="one.cluster.name" value="this-cluster"/>
    </antcall>
    <ant dir="../ant/grammar" target="netbeans"/>
  </target>
  <target name="all-ant/browsetask" depends="init">
    <echo message="Building module ant/browsetask..."/>
    <getdependsclusters name="dependsClusters" list="${nb.clusters.list}"/>
    <antcall target="build-one-cluster-dependencies" inheritAll="false">
      <param name="one.cluster.dependencies" value="${dependsClusters}"/>
      <param name="one.cluster.name" value="this-cluster"/>
    </antcall>
    <ant dir="../ant/browsetask" target="netbeans"/>
  </target>
  <target name="all-apisupport" depends="all-java/api,all-java/srcmodel">
    <echo message="Building module apisupport..."/>
    <getdependsclusters name="dependsClusters" list="${nb.clusters.list}"/>
    <antcall target="build-one-cluster-dependencies" inheritAll="false">
      <param name="one.cluster.dependencies" value="${dependsClusters}"/>
      <param name="one.cluster.name" value="this-cluster"/>
    </antcall>
    <ant dir="../apisupport" target="netbeans"/>
  </target>
  <target name="all-apisupport/ant" depends="init">
    <echo message="Building module apisupport/ant..."/>
    <getdependsclusters name="dependsClusters" list="${nb.clusters.list}"/>
    <antcall target="build-one-cluster-dependencies" inheritAll="false">
      <param name="one.cluster.dependencies" value="${dependsClusters}"/>
      <param name="one.cluster.name" value="this-cluster"/>
    </antcall>
    <ant dir="../apisupport/ant" target="netbeans"/>
  </target>
  <!-- Deps include modules for which we build APIs: -->
  <target name="all-apisupport/apidocs" depends="all-openide/registry,all-openide/looks,all-core/registry,all-openide/convertor,all-java/api">
    <echo message="Building module apisupport/apidocs..."/>
    <getdependsclusters name="dependsClusters" list="${nb.clusters.list}"/>
    <antcall target="build-one-cluster-dependencies" inheritAll="false">
      <param name="one.cluster.dependencies" value="${dependsClusters}"/>
      <param name="one.cluster.name" value="this-cluster"/>
    </antcall>
    <ant dir="../apisupport/apidocs" target="netbeans"/>
  </target>
  <target name="all-apisupport/lite" depends="all-java/srcmodel">
    <echo message="Building module apisupport lite..."/>
    <getdependsclusters name="dependsClusters" list="${nb.clusters.list}"/>
    <antcall target="build-one-cluster-dependencies" inheritAll="false">
      <param name="one.cluster.dependencies" value="${dependsClusters}"/>
      <param name="one.cluster.name" value="this-cluster"/>
    </antcall>
    <ant dir="../apisupport/lite" target="netbeans"/>
  </target>
  <target name="all-applet" depends="all-debuggercore">
    <echo message="Building module applet..."/>
    <getdependsclusters name="dependsClusters" list="${nb.clusters.list}"/>
    <antcall target="build-one-cluster-dependencies" inheritAll="false">
      <param name="one.cluster.dependencies" value="${dependsClusters}"/>
      <param name="one.cluster.name" value="this-cluster"/>
    </antcall>
    <ant dir="../applet" target="netbeans"/>
  </target>
  <target name="all-ide/updatecenters" depends="init">
    <echo message="Building module ide/updatecenters..."/>
    <getdependsclusters name="dependsClusters" list="${nb.clusters.list}"/>
    <antcall target="build-one-cluster-dependencies" inheritAll="false">
      <param name="one.cluster.dependencies" value="${dependsClusters}"/>
      <param name="one.cluster.name" value="this-cluster"/>
    </antcall>
    <ant dir="../ide/updatecenters" target="netbeans"/>
  </target>
  <target name="all-beans" depends="all-java,all-java/srcmodel">
    <echo message="Building module beans..."/>
    <getdependsclusters name="dependsClusters" list="${nb.clusters.list}"/>
    <antcall target="build-one-cluster-dependencies" inheritAll="false">
      <param name="one.cluster.dependencies" value="${dependsClusters}"/>
      <param name="one.cluster.name" value="this-cluster"/>
    </antcall>
    <ant dir="../beans" target="netbeans"/>
  </target>
  <target name="all-classfile" depends="init">
    <echo message="Building module classfile..."/>
    <getdependsclusters name="dependsClusters" list="${nb.clusters.list}"/>
    <antcall target="build-one-cluster-dependencies" inheritAll="false">
      <param name="one.cluster.dependencies" value="${dependsClusters}"/>
      <param name="one.cluster.name" value="this-cluster"/>
    </antcall>
    <ant dir="../classfile" target="netbeans"/>
  </target>
  <target name="all-classclosure" depends="all-classfile,all-logger,all-java/srcmodel,all-openide/compiler">
    <echo message="Building module classclosure..."/>
    <getdependsclusters name="dependsClusters" list="${nb.clusters.list}"/>
    <antcall target="build-one-cluster-dependencies" inheritAll="false">
      <param name="one.cluster.dependencies" value="${dependsClusters}"/>
      <param name="one.cluster.name" value="this-cluster"/>
    </antcall>
    <ant dir="../classclosure" target="netbeans"/>
  </target>
  <target name="all-clazz" depends="all-classfile,all-java/srcmodel,all-java/api">
    <echo message="Building module clazz..."/>
    <getdependsclusters name="dependsClusters" list="${nb.clusters.list}"/>
    <antcall target="build-one-cluster-dependencies" inheritAll="false">
      <param name="one.cluster.dependencies" value="${dependsClusters}"/>
      <param name="one.cluster.name" value="this-cluster"/>
    </antcall>
    <ant dir="../clazz" target="netbeans"/>
  </target>
  <target name="all-db" depends="all-openidex,all-form">
    <echo message="Building module db..."/>
    <getdependsclusters name="dependsClusters" list="${nb.clusters.list}"/>
    <antcall target="build-one-cluster-dependencies" inheritAll="false">
      <param name="one.cluster.dependencies" value="${dependsClusters}"/>
      <param name="one.cluster.name" value="this-cluster"/>
    </antcall>
    <ant dir="../db" target="netbeans"/>
  </target>
  <target name="all-debuggercore/oldapi" depends="all-java/srcmodel,all-openide/execution/deprecated">
    <echo message="Building module debuggercore/oldapi..."/>
    <!-- Depend only on platform -->
    <antcall target="build-one-cluster-dependencies" inheritAll="false">
      <param name="one.cluster.dependencies" value="nb.cluster.platform"/>
      <param name="one.cluster.name" value="this-cluster"/>
    </antcall>
    <ant dir="../debuggercore/oldapi" target="netbeans"/>
  </target>
  <target name="all-debuggercore/api" depends="init">
    <echo message="Building module debuggercore/api ..."/>
    <getdependsclusters name="dependsClusters" list="${nb.clusters.list}"/>
    <antcall target="build-one-cluster-dependencies" inheritAll="false">
      <param name="one.cluster.dependencies" value="${dependsClusters}"/>
      <param name="one.cluster.name" value="this-cluster"/>
    </antcall>
    <ant dir="../debuggercore/api" target="netbeans"/>
  </target>
  <target name="all-debuggercore/viewmodel" depends="init">
    <echo message="Building module debuggercore/viewmodel ..."/>
    <getdependsclusters name="dependsClusters" list="${nb.clusters.list}"/>
    <antcall target="build-one-cluster-dependencies" inheritAll="false">
      <param name="one.cluster.dependencies" value="${dependsClusters}"/>
      <param name="one.cluster.name" value="this-cluster"/>
    </antcall>
    <ant dir="../debuggercore/viewmodel" target="netbeans"/>
  </target>
  <target name="all-debuggercore" depends="all-debuggercore/api,all-debuggercore/viewmodel">
    <echo message="Building module debuggercore ..."/>
    <getdependsclusters name="dependsClusters" list="${nb.clusters.list}"/>
    <antcall target="build-one-cluster-dependencies" inheritAll="false">
      <param name="one.cluster.dependencies" value="${dependsClusters}"/>
      <param name="one.cluster.name" value="this-cluster"/>
    </antcall>
    <ant dir="../debuggercore" target="netbeans"/>
  </target>
  <target name="all-debuggerjpda/api" depends="all-debuggercore/api,all-debuggercore/viewmodel">
    <echo message="Building module debuggerjpda/api ..."/>
    <getdependsclusters name="dependsClusters" list="${nb.clusters.list}"/>
    <antcall target="build-one-cluster-dependencies" inheritAll="false">
      <param name="one.cluster.dependencies" value="${dependsClusters}"/>
      <param name="one.cluster.name" value="this-cluster"/>
    </antcall>
    <ant dir="../debuggerjpda/api" target="netbeans"/>
  </target>
  <target name="all-debuggerjpda" depends="all-debuggercore/api,all-debuggercore/viewmodel,all-debuggerjpda/api">
    <echo message="Building module debuggerjpda..."/>
    <getdependsclusters name="dependsClusters" list="${nb.clusters.list}"/>
    <antcall target="build-one-cluster-dependencies" inheritAll="false">
      <param name="one.cluster.dependencies" value="${dependsClusters}"/>
      <param name="one.cluster.name" value="this-cluster"/>
    </antcall>
    <ant dir="../debuggerjpda" target="netbeans"/>
  </target>
  <target name="all-debuggerjpda/ui" depends="all-debuggercore/api,all-debuggercore/viewmodel,all-debuggercore,all-debuggerjpda/api,all-debuggerjpda,all-java/srcmodel">
    <echo message="Building module debuggerjpda/ui ..."/>
    <getdependsclusters name="dependsClusters" list="${nb.clusters.list}"/>
    <antcall target="build-one-cluster-dependencies" inheritAll="false">
      <param name="one.cluster.dependencies" value="${dependsClusters}"/>
      <param name="one.cluster.name" value="this-cluster"/>
    </antcall>
    <ant dir="../debuggerjpda/ui" target="netbeans"/>
  </target>
  <target name="all-debuggerjpda/ant" depends="init,all-debuggercore/api,all-debuggerjpda/api,all-java/api,all-java/srcmodel,all-projects/projectapi,all-projects/projectuiapi,all-java/project,all-debuggercore/viewmodel">
    <echo message="Building module debuggerjpda/ant..."/>
    <getdependsclusters name="dependsClusters" list="${nb.clusters.list}"/>
    <antcall target="build-one-cluster-dependencies" inheritAll="false">
      <param name="one.cluster.dependencies" value="${dependsClusters}"/>
      <param name="one.cluster.name" value="this-cluster"/>
    </antcall>
    <ant dir="../debuggerjpda/ant" target="netbeans"/>
  </target>
  <target name="all-editor" depends="init,all-java/srcmodel,all-java/api,all-java/javacore,all-editor/lib,all-editor/fold,all-editor/util">
    <echo message="Building module editor..."/>
    <getdependsclusters name="dependsClusters" list="${nb.clusters.list}"/>
    <antcall target="build-one-cluster-dependencies" inheritAll="false">
      <param name="one.cluster.dependencies" value="${dependsClusters}"/>
      <param name="one.cluster.name" value="this-cluster"/>
    </antcall>
    <ant dir="../editor" target="netbeans"/>
  </target>
  <target name="all-editor/lib" depends="init,all-editor/fold,all-editor/util">
    <echo message="Building module editor/lib..."/>
    <ant dir="../editor/lib" target="netbeans"/>
  </target>
  <target name="all-editor/fold" depends="init,all-editor/util">
    <echo message="Building module editor/fold..."/>
    <getdependsclusters name="dependsClusters" list="${nb.clusters.list}"/>
    <antcall target="build-one-cluster-dependencies" inheritAll="false">
      <param name="one.cluster.dependencies" value="${dependsClusters}"/>
      <param name="one.cluster.name" value="this-cluster"/>
    </antcall>
    <ant dir="../editor/fold" target="netbeans"/>
  </target>
  <target name="all-editor/util" depends="init">
    <echo message="Building module editor/util..."/>
    <getdependsclusters name="dependsClusters" list="${nb.clusters.list}"/>
    <antcall target="build-one-cluster-dependencies" inheritAll="false">
      <param name="one.cluster.dependencies" value="${dependsClusters}"/>
      <param name="one.cluster.name" value="this-cluster"/>
    </antcall>
    <ant dir="../editor/util" target="netbeans"/>
  </target>
  <target name="all-diff" depends="init,all-editor">
    <echo message="Building module diff..."/>
    <ant dir="../diff" target="netbeans"/>
  </target>
  <target name="all-extbrowser" depends="init">
    <echo message="Building module extbrowser..."/>
    <getdependsclusters name="dependsClusters" list="${nb.clusters.list}"/>
    <antcall target="build-one-cluster-dependencies" inheritAll="false">
      <param name="one.cluster.dependencies" value="${dependsClusters}"/>
      <param name="one.cluster.name" value="this-cluster"/>
    </antcall>
    <ant dir="../extbrowser" target="netbeans"/>
  </target>
  <target name="all-extbrowser/webclient" depends="init,all-httpserver">
    <echo message="Building module webclient..."/>
    <getdependsclusters name="dependsClusters" list="${nb.clusters.list}"/>
    <antcall target="build-one-cluster-dependencies" inheritAll="false">
      <param name="one.cluster.dependencies" value="${dependsClusters}"/>
      <param name="one.cluster.name" value="this-cluster"/>
    </antcall>
    <ant dir="../extbrowser/webclient" target="netbeans"/>
  </target>
  <target name="all-filecopy" depends="init">
    <echo message="Building module filecopy..."/>
    <ant dir="../filecopy" target="netbeans"/>
  </target>
  <target name="all-form" depends="init,all-projects/projectapi,all-projects/libraries,all-projects/projectuiapi,all-ant/project,all-java/api,all-java/project,all-java,all-java/srcmodel,all-java/platform">
    <echo message="Building module form..."/>
    <getdependsclusters name="dependsClusters" list="${nb.clusters.list}"/>
    <antcall target="build-one-cluster-dependencies" inheritAll="false">
      <param name="one.cluster.dependencies" value="${dependsClusters}"/>
      <param name="one.cluster.name" value="this-cluster"/>
    </antcall>
    <ant dir="../form" target="netbeans"/>
  </target>
  <target name="all-freestylebrowser" depends="init,all-openidex,all-beans,all-java,all-clazz">
    <echo message="Building module freestylebrowser..."/>
    <ant dir="../freestylebrowser" target="netbeans"/>
  </target>
  <target name="all-html" depends="init">
    <echo message="Building module html..."/>
    <getdependsclusters name="dependsClusters" list="${nb.clusters.list}"/>
    <antcall target="build-one-cluster-dependencies" inheritAll="false">
      <param name="one.cluster.dependencies" value="${dependsClusters}"/>
      <param name="one.cluster.name" value="this-cluster"/>
    </antcall>
    <ant dir="../html" target="netbeans"/>
  </target>
  <target name="all-httpserver" depends="init,all-httpserver/servletapi">
    <echo message="Building module httpserver..."/>
    <ant dir="../httpserver" target="netbeans"/>
  </target>
  <target name="all-httpserver/servletapi" depends="init">
    <echo message="Building module httpserver/servletapi..."/>
    <getdependsclusters name="dependsClusters" list="${nb.clusters.list}"/>
    <antcall target="build-one-cluster-dependencies" inheritAll="false">
      <param name="one.cluster.dependencies" value="${dependsClusters}"/>
      <param name="one.cluster.name" value="this-cluster"/>
    </antcall>
    <ant dir="../httpserver/servletapi" target="netbeans"/>
  </target>
  <target name="all-i18n" depends="init,all-properties,all-java/srcmodel,all-java/project,all-projects/queries">
    <echo message="Building module i18n..."/>
    <getdependsclusters name="dependsClusters" list="${nb.clusters.list}"/>
    <antcall target="build-one-cluster-dependencies" inheritAll="false">
      <param name="one.cluster.dependencies" value="${dependsClusters}"/>
      <param name="one.cluster.name" value="this-cluster"/>
    </antcall>
    <ant dir="../i18n" target="netbeans"/>
  </target>
  <target name="all-installer" description="Dummy target for build system compatibility"/>
  <target name="all-itutor" depends="init">
    <echo message="Building module itutor..."/>
    <ant dir="../itutor" target="netbeans"/>
  </target>
  <target name="all-icebrowser" depends="init">
    <echo message="Building module icebrowser..."/>
    <getdependsclusters name="dependsClusters" list="${nb.clusters.list}"/>
    <antcall target="build-one-cluster-dependencies" inheritAll="false">
      <param name="one.cluster.dependencies" value="${dependsClusters}"/>
      <param name="one.cluster.name" value="this-cluster"/>
    </antcall>
    <ant dir="../icebrowser" target="netbeans"/>
  </target>
  <target name="all-image" depends="init">
    <echo message="Building module image..."/>
    <getdependsclusters name="dependsClusters" list="${nb.clusters.list}"/>
    <antcall target="build-one-cluster-dependencies" inheritAll="false">
      <param name="one.cluster.dependencies" value="${dependsClusters}"/>
      <param name="one.cluster.name" value="this-cluster"/>
    </antcall>
    <ant dir="../image" target="netbeans"/>
  </target>
  <target name="all-innertesters" depends="init,all-openide/compiler,all-openide/deprecated">
    <echo message="Building module innertesters..."/>
    <getdependsclusters name="dependsClusters" list="${nb.clusters.list}"/>
    <antcall target="build-one-cluster-dependencies" inheritAll="false">
      <param name="one.cluster.dependencies" value="${dependsClusters}"/>
      <param name="one.cluster.name" value="this-cluster"/>
    </antcall>
    <ant dir="../innertesters" target="netbeans"/>
  </target>
  <target name="all-j2eeserver" depends="init,all-j2eeserver/j2eeapis,all-projects/projectapi,build-schema2beans/anttask,all-xml/api,all-schema2beans/rt,all-libs/j2eeeditor">
    <echo message="Building module j2eeserver..."/>
    <getdependsclusters name="dependsClusters" list="${nb.clusters.list}"/>
    <antcall target="build-one-cluster-dependencies" inheritAll="false">
      <param name="one.cluster.dependencies" value="${dependsClusters}"/>
      <param name="one.cluster.name" value="this-cluster"/>
    </antcall>
    <ant dir="../j2eeserver" target="netbeans"/>
  </target>
  <target name="all-j2eeserver/j2eeapis" depends="init">
    <echo message="Building module j2eeserver/j2eeapis..."/>
    <getdependsclusters name="dependsClusters" list="${nb.clusters.list}"/>
    <antcall target="build-one-cluster-dependencies" inheritAll="false">
      <param name="one.cluster.dependencies" value="${dependsClusters}"/>
      <param name="one.cluster.name" value="this-cluster"/>
    </antcall>
    <ant dir="../j2eeserver/j2eeapis" target="netbeans"/>
  </target>
  <target name="all-j2eeserver/ant" depends="init,all-j2eeserver">
    <echo message="Building module j2eeserver/ant..."/>
    <getdependsclusters name="dependsClusters" list="${nb.clusters.list}"/>
    <antcall target="build-one-cluster-dependencies" inheritAll="false">
      <param name="one.cluster.dependencies" value="${dependsClusters}"/>
      <param name="one.cluster.name" value="this-cluster"/>
    </antcall>
    <ant dir="../j2eeserver/ant" target="netbeans"/>
  </target>
  <target name="all-junit" depends="init,all-java/srcmodel,all-ant,all-java/api,all-projects/projectapi,all-projects/projectuiapi,all-java/project">
    <echo message="Building module junit..."/>
     <getdependsclusters name="dependsClusters" list="${nb.clusters.list}"/>
    <antcall target="build-one-cluster-dependencies" inheritAll="false">
      <param name="one.cluster.dependencies" value="${dependsClusters}"/>
      <param name="one.cluster.name" value="this-cluster"/>
    </antcall>
   <ant dir="../junit" target="netbeans"/>
  </target>
  <target name="all-jarpackager">
  </target>
  <target name="all-java" depends="init,all-java/api,all-java/srcmodel,all-java/javacore">
    <echo message="Building module java..."/>
    <getdependsclusters name="dependsClusters" list="${nb.clusters.list}"/>
    <antcall target="build-one-cluster-dependencies" inheritAll="false">
      <param name="one.cluster.dependencies" value="${dependsClusters}"/>
      <param name="one.cluster.name" value="this-cluster"/>
    </antcall>
    <ant dir="../java" target="netbeans"/>
  </target>
  <target name="all-java/fastjavac" depends="init,all-openide/compiler,all-java">
    <echo message="Building module java/fastjavac..."/>
    <getdependsclusters name="dependsClusters" list="${nb.clusters.list}"/>
    <antcall target="build-one-cluster-dependencies" inheritAll="false">
      <param name="one.cluster.dependencies" value="${dependsClusters}"/>
      <param name="one.cluster.name" value="this-cluster"/>
    </antcall>
    <ant dir="../java/fastjavac" target="netbeans"/>
  </target>
  <target name="all-java/api" depends="init">
    <!-- dependency on all-projects/queries is temporary -->
    <echo message="Building Java support APIs.."/>
     <getdependsclusters name="dependsClusters" list="${nb.clusters.list}"/>
    <antcall target="build-one-cluster-dependencies" inheritAll="false">
      <param name="one.cluster.dependencies" value="${dependsClusters}"/>
      <param name="one.cluster.name" value="this-cluster"/>
    </antcall>
   <ant dir="../java/api" target="netbeans"/>
  </target>
  <target name="all-javadoc" depends="init,all-java/api,all-java,all-java/srcmodel">
    <!-- dependency on all-projects/queries is temporary -->
    <echo message="Building module javadoc..."/>
    <getdependsclusters name="dependsClusters" list="${nb.clusters.list}"/>
    <antcall target="build-one-cluster-dependencies" inheritAll="false">
      <param name="one.cluster.dependencies" value="${dependsClusters}"/>
      <param name="one.cluster.name" value="this-cluster"/>
    </antcall>
    <ant dir="../javadoc" target="netbeans"/>
  </target>
  <!--
  <target name="all-javaembeddedserver" depends="all-jarpackager,all-form">
    <echo message="Building module javaembeddedserver..."/>
    <getdependsclusters name="dependsClusters" list="${nb.clusters.list}"/>
    <antcall target="build-one-cluster-dependencies" inheritAll="false">
      <param name="one.cluster.dependencies" value="${dependsClusters}"/>
      <param name="one.cluster.name" value="this-cluster"/>
    </antcall>
    <ant dir="../javaembeddedserver" target="netbeans"/>
  </target>
  -->
  <target name="all-jellytools" depends="init,all-jemmy/idemodule,all-xtest/nbjunit">
    <echo message="Building module jellytools..."/>
    <getdependsclusters name="dependsClusters" list="${nb.clusters.list}"/>
    <antcall target="build-one-cluster-dependencies" inheritAll="false">
      <param name="one.cluster.dependencies" value="${dependsClusters}"/>
      <param name="one.cluster.name" value="this-cluster"/>
    </antcall>
    <ant dir="../jellytools" target="netbeans"/>
  </target>
  <target name="all-jemmy/idemodule" depends="init">
    <echo message="Building module jemmy/idemodule..."/>
    <getdependsclusters name="dependsClusters" list="${nb.clusters.list}"/>
    <antcall target="build-one-cluster-dependencies" inheritAll="false">
      <param name="one.cluster.dependencies" value="${dependsClusters}"/>
      <param name="one.cluster.name" value="this-cluster"/>
    </antcall>
    <ant dir="../jemmy/idemodule" target="netbeans"/>
  </target>
  <target name="all-jemmysupport" depends="init,all-jemmy/idemodule,all-diff">
    <echo message="Building module jemmysupport..."/>
    <getdependsclusters name="dependsClusters" list="${nb.clusters.list}"/>
    <antcall target="build-one-cluster-dependencies" inheritAll="false">
      <param name="one.cluster.dependencies" value="${dependsClusters}"/>
      <param name="one.cluster.name" value="this-cluster"/>
    </antcall>
    <ant dir="../jemmysupport" target="netbeans"/>
  </target>
  <target name="all-jini" depends="init,all-httpserver">
    <echo message="Building module jini..."/>
    <getdependsclusters name="dependsClusters" list="${nb.clusters.list}"/>
    <antcall target="build-one-cluster-dependencies" inheritAll="false">
      <param name="one.cluster.dependencies" value="${dependsClusters}"/>
      <param name="one.cluster.name" value="this-cluster"/>
    </antcall>
    <ant dir="../jini" target="netbeans"/>
  </target>
  <target name="all-latex/ant/antint" depends="init">
    <echo message="Building module latex/ant/antint..."/>
    <getdependsclusters name="dependsClusters" list="${nb.clusters.list}"/>
    <antcall target="build-one-cluster-dependencies" inheritAll="false">
      <param name="one.cluster.dependencies" value="${dependsClusters}"/>
      <param name="one.cluster.name" value="this-cluster"/>
    </antcall>
    <ant dir="../latex/ant/antint" target="netbeans"/>
  </target>
  <target name="all-latex/auted" depends="init,all-latex/model">
    <echo message="Building module latex/auted..."/>
    <getdependsclusters name="dependsClusters" list="${nb.clusters.list}"/>
    <antcall target="build-one-cluster-dependencies" inheritAll="false">
      <param name="one.cluster.dependencies" value="${dependsClusters}"/>
      <param name="one.cluster.name" value="this-cluster"/>
    </antcall>
    <ant dir="../latex/auted" target="netbeans"/>
  </target>
  <target name="all-latex/bibtex" depends="init,all-latex/model">
    <echo message="Building module latex/bibtex..."/>
    <getdependsclusters name="dependsClusters" list="${nb.clusters.list}"/>
    <antcall target="build-one-cluster-dependencies" inheritAll="false">
      <param name="one.cluster.dependencies" value="${dependsClusters}"/>
      <param name="one.cluster.name" value="this-cluster"/>
    </antcall>
    <ant dir="../latex/bibtex" target="netbeans"/>
  </target>
  <target name="all-latex/branding" depends="init,all-core/ui,all-latex/project,all-latex/ui">
    <echo message="Building module latex/branding..."/>
    <getdependsclusters name="dependsClusters" list="${nb.clusters.list}"/>
    <antcall target="build-one-cluster-dependencies" inheritAll="false">
      <param name="one.cluster.dependencies" value="${dependsClusters}"/>
      <param name="one.cluster.name" value="this-cluster"/>
    </antcall>
    <ant dir="../latex/branding" target="netbeans"/>
  </target>
  <target name="all-latex/core" depends="init,all-editor,all-lexer,all-lexer/editorbridge,all-latex/model,all-latex/editor">
    <echo message="Building module latex/core..."/>
    <getdependsclusters name="dependsClusters" list="${nb.clusters.list}"/>
    <antcall target="build-one-cluster-dependencies" inheritAll="false">
      <param name="one.cluster.dependencies" value="${dependsClusters}"/>
      <param name="one.cluster.name" value="this-cluster"/>
    </antcall>
    <ant dir="../latex/core" target="netbeans"/>
  </target>
  <target name="all-latex/editor" depends="init,all-editor,all-lexer,all-lexer/editorbridge,all-latex/model">
    <echo message="Building module latex/editor..."/>
    <getdependsclusters name="dependsClusters" list="${nb.clusters.list}"/>
    <antcall target="build-one-cluster-dependencies" inheritAll="false">
      <param name="one.cluster.dependencies" value="${dependsClusters}"/>
      <param name="one.cluster.name" value="this-cluster"/>
    </antcall>
    <ant dir="../latex/editor" target="netbeans"/>
  </target>
  <target name="all-latex/loaders" depends="init,all-editor,all-latex/model,all-latex/editor,all-latex/core">
    <echo message="Building module latex/loaders..."/>
    <getdependsclusters name="dependsClusters" list="${nb.clusters.list}"/>
    <antcall target="build-one-cluster-dependencies" inheritAll="false">
      <param name="one.cluster.dependencies" value="${dependsClusters}"/>
      <param name="one.cluster.name" value="this-cluster"/>
    </antcall>
    <ant dir="../latex/loaders" target="netbeans"/>
  </target>
  <target name="all-latex/manual" depends="init">
    <echo message="Building module latex/manual..."/>
    <getdependsclusters name="dependsClusters" list="${nb.clusters.list}"/>
    <antcall target="build-one-cluster-dependencies" inheritAll="false">
      <param name="one.cluster.dependencies" value="${dependsClusters}"/>
      <param name="one.cluster.name" value="this-cluster"/>
    </antcall>
    <ant dir="../latex/manual" target="netbeans"/>
  </target>
  <target name="all-latex/model" depends="init,all-lexer">
    <echo message="Building module latex/model..."/>
    <getdependsclusters name="dependsClusters" list="${nb.clusters.list}"/>
    <antcall target="build-one-cluster-dependencies" inheritAll="false">
      <param name="one.cluster.dependencies" value="${dependsClusters}"/>
      <param name="one.cluster.name" value="this-cluster"/>
    </antcall>
    <ant dir="../latex/model" target="netbeans"/>
  </target>
  <target name="all-latex/nexplorer" depends="init">
    <echo message="Building module latex/nexplorer..."/>
    <getdependsclusters name="dependsClusters" list="${nb.clusters.list}"/>
    <antcall target="build-one-cluster-dependencies" inheritAll="false">
      <param name="one.cluster.dependencies" value="${dependsClusters}"/>
      <param name="one.cluster.name" value="this-cluster"/>
    </antcall>
    <ant dir="../latex/nexplorer" target="netbeans"/>
  </target>
  <target name="all-latex/project" depends="init,all-editor,all-ant,all-latex/ant/antint,all-latex/model,all-latex/editor,all-latex/core,all-latex/loaders">
    <echo message="Building module latex/project..."/>
    <getdependsclusters name="dependsClusters" list="${nb.clusters.list}"/>
    <antcall target="build-one-cluster-dependencies" inheritAll="false">
      <param name="one.cluster.dependencies" value="${dependsClusters}"/>
      <param name="one.cluster.name" value="this-cluster"/>
    </antcall>
    <ant dir="../latex/project" target="netbeans"/>
  </target>
  <target name="all-latex/guiproject" depends="init,all-editor,all-ant,all-latex/ant/antint,all-latex/model,all-latex/editor,all-latex/core,all-latex/loaders,all-projects/projectapi,all-projects/projectuiapi">
    <echo message="Building module latex/guiproject..."/>
    <getdependsclusters name="dependsClusters" list="${nb.clusters.list}"/>
    <antcall target="build-one-cluster-dependencies" inheritAll="false">
      <param name="one.cluster.dependencies" value="${dependsClusters}"/>
      <param name="one.cluster.name" value="this-cluster"/>
    </antcall>
    <ant dir="../latex/guiproject" target="netbeans"/>
  </target>
  <target name="all-latex/ui" depends="init,all-editor,all-latex/model,all-latex/editor,all-latex/core,all-latex/loaders">
    <echo message="Building module latex/ui..."/>
    <getdependsclusters name="dependsClusters" list="${nb.clusters.list}"/>
    <antcall target="build-one-cluster-dependencies" inheritAll="false">
      <param name="one.cluster.dependencies" value="${dependsClusters}"/>
      <param name="one.cluster.name" value="this-cluster"/>
    </antcall>
    <ant dir="../latex/ui" target="netbeans"/>
  </target>
  <target name="all-jndi" depends="init,all-openidex,all-openide/deprecated,all-projects">
    <echo message="Building module jndi..."/>
    <getdependsclusters name="dependsClusters" list="${nb.clusters.list}"/>
    <antcall target="build-one-cluster-dependencies" inheritAll="false">
      <param name="one.cluster.dependencies" value="${dependsClusters}"/>
      <param name="one.cluster.name" value="this-cluster"/>
    </antcall>
    <ant dir="../jndi" target="netbeans"/>
  </target>
  <target name="all-logger" depends="init">
    <echo message="Building module logger..."/>
    <getdependsclusters name="dependsClusters" list="${nb.clusters.list}"/>
    <antcall target="build-one-cluster-dependencies" inheritAll="false">
      <param name="one.cluster.dependencies" value="${dependsClusters}"/>
      <param name="one.cluster.name" value="this-cluster"/>
    </antcall>
    <ant dir="../logger" target="netbeans"/>
  </target>
  <target name="all-lexer" depends="init">
    <echo message="Building module lexer..."/>
    <getdependsclusters name="dependsClusters" list="${nb.clusters.list}"/>
    <antcall target="build-one-cluster-dependencies" inheritAll="false">
      <param name="one.cluster.dependencies" value="${dependsClusters}"/>
      <param name="one.cluster.name" value="this-cluster"/>
    </antcall>
    <ant dir="../lexer" target="netbeans"/>
  </target>
  <target name="all-lexer/editorbridge" depends="init,all-editor,all-lexer">
    <echo message="Building module lexer/editorbridge..."/>
    <getdependsclusters name="dependsClusters" list="${nb.clusters.list}"/>
    <antcall target="build-one-cluster-dependencies" inheritAll="false">
      <param name="one.cluster.dependencies" value="${dependsClusters}"/>
      <param name="one.cluster.name" value="this-cluster"/>
    </antcall>
    <ant dir="../lexer/editorbridge" target="netbeans"/>
  </target>
  <target name="all-lexer/editorbridge/calc" depends="init,all-editor,all-lexer,all-lexer/editorbridge">
    <echo message="Building module lexer/editorbridge/calc..."/>
    <getdependsclusters name="dependsClusters" list="${nb.clusters.list}"/>
    <antcall target="build-one-cluster-dependencies" inheritAll="false">
      <param name="one.cluster.dependencies" value="${dependsClusters}"/>
      <param name="one.cluster.name" value="this-cluster"/>
    </antcall>
    <ant dir="../lexer/editorbridge/calc" target="netbeans"/>
  </target>
  <target name="all-makefile" depends="init,all-openide/compiler,all-openide/deprecated,all-debuggercore/oldapi">
    <echo message="Building module makefile..."/>
    <getdependsclusters name="dependsClusters" list="${nb.clusters.list}"/>
    <antcall target="build-one-cluster-dependencies" inheritAll="false">
      <param name="one.cluster.dependencies" value="${dependsClusters}"/>
      <param name="one.cluster.name" value="this-cluster"/>
    </antcall>
    <ant dir="../makefile" target="netbeans"/>
  </target>
  <target name="all-metrics" depends="init,all-classfile,all-clazz,all-java">
    <echo message="Building module metrics..."/>
    <getdependsclusters name="dependsClusters" list="${nb.clusters.list}"/>
    <antcall target="build-one-cluster-dependencies" inheritAll="false">
      <param name="one.cluster.dependencies" value="${dependsClusters}"/>
      <param name="one.cluster.name" value="this-cluster"/>
    </antcall>
    <ant dir="../metrics" target="netbeans"/>
  </target>
  <!-- XXX remove dep on all-web/servletapi23 when possible (unused at runtime) -->
  <target name="all-monitor" depends="init,all-web/core,all-schema2beans/rt,all-html,all-httpserver,all-httpserver/servletapi,all-web/servletapi23">
    <echo message="Building module monitor..."/>
    <getdependsclusters name="dependsClusters" list="${nb.clusters.list}"/>
    <antcall target="build-one-cluster-dependencies" inheritAll="false">
      <param name="one.cluster.dependencies" value="${dependsClusters}"/>
      <param name="one.cluster.name" value="this-cluster"/>
    </antcall>
    <ant dir="../monitor" target="netbeans"/>
  </target>
  <target name="all-mdr" depends="init,all-mdr/mdrapi,all-mdr/jmi,all-mdr/mof,all-mdr/nbjmiutils,all-mdr/jmiutils,all-mdr/lib,all-mdr/module">
  </target>
  <target name="all-mdr/module" depends="init,all-mdr/mdrapi,all-mdr/jmi,all-mdr/mof,all-mdr/nbjmiutils,all-mdr/jmiutils,all-mdr/lib">
    <echo message="Building module mdr/module..."/>
    <getdependsclusters name="dependsClusters" list="${nb.clusters.list}"/>
    <antcall target="build-one-cluster-dependencies" inheritAll="false">
      <param name="one.cluster.dependencies" value="${dependsClusters}"/>
      <param name="one.cluster.name" value="this-cluster"/>
    </antcall>
    <ant dir="../mdr/module" target="netbeans"/>
  </target>
  <target name="all-mdr/lib" depends="init,all-mdr/mdrapi,all-mdr/jmi,all-mdr/mof,all-mdr/nbjmiutils,all-mdr/jmiutils">
    <echo message="Building mdr library..."/>
    <getdependsclusters name="dependsClusters" list="${nb.clusters.list}"/>
    <antcall target="build-one-cluster-dependencies" inheritAll="false">
      <param name="one.cluster.dependencies" value="${dependsClusters}"/>
      <param name="one.cluster.name" value="this-cluster"/>
    </antcall>
    <ant dir="../mdr" target="jar"/>
  </target>
  <target name="all-mdr/nbjmiutils" depends="init,all-mdr/jmiutils,all-mdr/mdrapi,all-mdr/jmi,all-mdr/mof">
    <echo message="Building module mdr/nbjmiutils..."/>
     <getdependsclusters name="dependsClusters" list="${nb.clusters.list}"/>
    <antcall target="build-one-cluster-dependencies" inheritAll="false">
      <param name="one.cluster.dependencies" value="${dependsClusters}"/>
      <param name="one.cluster.name" value="this-cluster"/>
    </antcall>
   <ant dir="../mdr/nbjmiutils" target="netbeans"/>
  </target>
  <target name="all-mdr/jmiutils" depends="init,all-mdr/mdrapi,all-mdr/jmi,all-mdr/mof">
    <echo message="Building module mdr/jmiutils..."/>
     <getdependsclusters name="dependsClusters" list="${nb.clusters.list}"/>
    <antcall target="build-one-cluster-dependencies" inheritAll="false">
      <param name="one.cluster.dependencies" value="${dependsClusters}"/>
      <param name="one.cluster.name" value="this-cluster"/>
    </antcall>
   <ant dir="../mdr/jmiutils" target="jar"/>
  </target>
  <target name="all-mdr/mdrapi" depends="init,all-mdr/jmi,all-mdr/mof">
    <echo message="Building module mdr/mdrapi..."/>
     <getdependsclusters name="dependsClusters" list="${nb.clusters.list}"/>
    <antcall target="build-one-cluster-dependencies" inheritAll="false">
      <param name="one.cluster.dependencies" value="${dependsClusters}"/>
      <param name="one.cluster.name" value="this-cluster"/>
    </antcall>
   <ant dir="../mdr/mdrapi" target="netbeans"/>
  </target>
  <target name="all-mdr/mof" depends="init,all-mdr/jmi">
    <echo message="Building module mdr/mof..."/>
     <getdependsclusters name="dependsClusters" list="${nb.clusters.list}"/>
    <antcall target="build-one-cluster-dependencies" inheritAll="false">
      <param name="one.cluster.dependencies" value="${dependsClusters}"/>
      <param name="one.cluster.name" value="this-cluster"/>
    </antcall>
   <ant dir="../mdr/mof" target="netbeans"/>
  </target>
  <target name="all-mdr/jmi" depends="init">
    <echo message="Building module mdr/jmi..."/>
    <getdependsclusters name="dependsClusters" list="${nb.clusters.list}"/>
    <antcall target="build-one-cluster-dependencies" inheritAll="false">
      <param name="one.cluster.dependencies" value="${dependsClusters}"/>
      <param name="one.cluster.name" value="this-cluster"/>
    </antcall>
    <ant dir="../mdr/jmi" target="netbeans"/>
  </target>
  
  <target name="all-multicompile" depends="init,all-openide/compiler">
    <echo message="Building module multicompile..."/>
     <getdependsclusters name="dependsClusters" list="${nb.clusters.list}"/>
    <antcall target="build-one-cluster-dependencies" inheritAll="false">
      <param name="one.cluster.dependencies" value="${dependsClusters}"/>
      <param name="one.cluster.name" value="this-cluster"/>
    </antcall>
   <ant dir="../multicompile" target="netbeans"/>
  </target>
  <target name="all-objectbrowser" depends="init">
    <echo message="Building module objectbrowser..."/>
     <getdependsclusters name="dependsClusters" list="${nb.clusters.list}"/>
    <antcall target="build-one-cluster-dependencies" inheritAll="false">
      <param name="one.cluster.dependencies" value="${dependsClusters}"/>
      <param name="one.cluster.name" value="this-cluster"/>
    </antcall>
   <ant dir="../objectbrowser" target="netbeans"/>
  </target>
  <target name="all-openidex" depends="init">
    <echo message="Building module openidex..."/>
     <getdependsclusters name="dependsClusters" list="${nb.clusters.list}"/>
    <antcall target="build-one-cluster-dependencies" inheritAll="false">
      <param name="one.cluster.dependencies" value="${dependsClusters}"/>
      <param name="one.cluster.name" value="this-cluster"/>
    </antcall>
   <ant dir="../openidex" target="netbeans"/>
  </target>
  <target name="all-projects">
    <fail>projects is no more</fail>
  </target>
  <target name="all-properties" depends="init,all-editor">
    <echo message="Building module properties..."/>
    <getdependsclusters name="dependsClusters" list="${nb.clusters.list}"/>
    <antcall target="build-one-cluster-dependencies" inheritAll="false">
      <param name="one.cluster.dependencies" value="${dependsClusters}"/>
      <param name="one.cluster.name" value="this-cluster"/>
    </antcall>
    <ant dir="../properties" target="netbeans"/>
  </target>
  <target name="all-remotefs" depends="init">
    <echo message="Building module remotefs..."/>
     <getdependsclusters name="dependsClusters" list="${nb.clusters.list}"/>
    <antcall target="build-one-cluster-dependencies" inheritAll="false">
      <param name="one.cluster.dependencies" value="${dependsClusters}"/>
      <param name="one.cluster.name" value="this-cluster"/>
    </antcall>
   <ant dir="../remotefs" target="netbeans"/>
  </target>
  <target name="all-rmi" depends="init,all-java,all-debuggercore,all-openide/deprecated,all-java/srcmodel,all-openide/compiler,all-debuggercore/oldapi">
    <echo message="Building module rmi..."/>
    <getdependsclusters name="dependsClusters" list="${nb.clusters.list}"/>
    <antcall target="build-one-cluster-dependencies" inheritAll="false">
      <param name="one.cluster.dependencies" value="${dependsClusters}"/>
      <param name="one.cluster.name" value="this-cluster"/>
    </antcall>
    <ant dir="../rmi" target="netbeans"/>
  </target>
  <target name="all-schema2beans/rt" depends="init">
    <echo message="Building module schema2beans/rt..."/>
<!--    HACK!!! because of cyclic dependenecies 
<getdependsclusters name="dependsClusters" list="${nb.clusters.list}"/>-->
    <antcall target="build-one-cluster-dependencies" inheritAll="false">
      <param name="one.cluster.dependencies" value="nb.cluster.platform"/>
      <param name="one.cluster.name" value="this-cluster"/>
    </antcall>
   <ant dir="../schema2beans/rt" target="netbeans"/>
  </target>
  <!-- Not a module: -->
  <target name="build-schema2beans/anttask" depends="init,all-schema2beans/rt,all-schema2beans/dev">
    <echo message="Building schema2beans/anttask..."/>
    <antcall target="build-one-cluster-dependencies" inheritAll="false">
      <param name="one.cluster.dependencies" value="nb.cluster.platform"/>
      <param name="one.cluster.name" value="this-cluster"/>
    </antcall>
    <ant dir="../schema2beans/anttask" target="jars"/>
  </target>
  <target name="all-schema2beans/dev" depends="init,all-schema2beans/rt">
    <echo message="Building module schema2beans/dev..."/>
    <getdependsclusters name="dependsClusters" list="${clusters.list}"/>
    <antcall target="build-one-cluster-dependencies" inheritAll="false">
      <param name="one.cluster.dependencies" value="${dependsClusters}"/>
      <param name="one.cluster.name" value="this-cluster"/>
    </antcall>
    <ant dir="../schema2beans/dev" target="netbeans"/>
  </target>
  <target name="all-scripting" depends="init,all-openidex,all-openide/execution,all-openide/execution/deprecated">
    <echo message="Building module scripting..."/>
    <getdependsclusters name="dependsClusters" list="${nb.clusters.list}"/>
    <antcall target="build-one-cluster-dependencies" inheritAll="false">
      <param name="one.cluster.dependencies" value="${dependsClusters}"/>
      <param name="one.cluster.name" value="this-cluster"/>
    </antcall>
    <ant dir="../scripting" target="netbeans"/>
  </target>
  <target name="all-serialversion" depends="init,all-openide/compiler,all-java/srcmodel">
    <echo message="Building module serialversion..."/>
    <getdependsclusters name="dependsClusters" list="${nb.clusters.list}"/>
    <antcall target="build-one-cluster-dependencies" inheritAll="false">
      <param name="one.cluster.dependencies" value="${dependsClusters}"/>
      <param name="one.cluster.name" value="this-cluster"/>
    </antcall>
    <ant dir="../serialversion" target="netbeans"/>
  </target>
  <target name="all-sysprops" depends="init">
    <echo message="Building module sysprops..."/>
    <getdependsclusters name="dependsClusters" list="${nb.clusters.list}"/>
    <antcall target="build-one-cluster-dependencies" inheritAll="false">
      <param name="one.cluster.dependencies" value="${dependsClusters}"/>
      <param name="one.cluster.name" value="this-cluster"/>
    </antcall>
    <ant dir="../sysprops" target="netbeans"/>
  </target>

  <!-- Tasklist modules -->
  <target name="all-tasklist/api" depends="init,all-java">
    <echo message="Building module tasklist/api..."/>
    <getdependsclusters name="dependsClusters" list="${nb.clusters.list}"/>
    <antcall target="build-one-cluster-dependencies" inheritAll="false">
      <param name="one.cluster.dependencies" value="${dependsClusters}"/>
      <param name="one.cluster.name" value="this-cluster"/>
    </antcall>
    <ant dir="../tasklist/api" target="netbeans"/>
  </target>
  <target name="all-tasklist/copyright" depends="init,all-tasklist/api,all-tasklist/core,all-editor">
    <echo message="Building module tasklist/copyright..."/>
    <getdependsclusters name="dependsClusters" list="${nb.clusters.list}"/>
    <antcall target="build-one-cluster-dependencies" inheritAll="false">
      <param name="one.cluster.dependencies" value="${dependsClusters}"/>
      <param name="one.cluster.name" value="this-cluster"/>
    </antcall>
    <ant dir="../tasklist/copyright" target="netbeans"/>
  </target>  
  <target name="all-tasklist/core" depends="init,all-tasklist/api">
    <echo message="Building module tasklist/core..."/>
    <getdependsclusters name="dependsClusters" list="${nb.clusters.list}"/>
    <antcall target="build-one-cluster-dependencies" inheritAll="false">
      <param name="one.cluster.dependencies" value="${dependsClusters}"/>
      <param name="one.cluster.name" value="this-cluster"/>
    </antcall>
    <ant dir="../tasklist/core" target="netbeans"/>
  </target>
  <target name="all-tasklist/usertasks" depends="init,all-tasklist/api,all-tasklist/core">
    <echo message="Building module tasklist/usertasks..."/>
    <getdependsclusters name="dependsClusters" list="${nb.clusters.list}"/>
    <antcall target="build-one-cluster-dependencies" inheritAll="false">
      <param name="one.cluster.dependencies" value="${dependsClusters}"/>
      <param name="one.cluster.name" value="this-cluster"/>
    </antcall>
    <ant dir="../tasklist/usertasks" target="netbeans"/>
  </target>
  <target name="all-tasklist/suggestions" depends="init,all-tasklist/api,all-tasklist/core,all-projects/queries">
    <echo message="Building module tasklist/suggestions..."/>
    <getdependsclusters name="dependsClusters" list="${nb.clusters.list}"/>
    <antcall target="build-one-cluster-dependencies" inheritAll="false">
      <param name="one.cluster.dependencies" value="${dependsClusters}"/>
      <param name="one.cluster.name" value="this-cluster"/>
    </antcall>
    <ant dir="../tasklist/suggestions" target="netbeans"/>
  </target>
  <target name="all-tasklist/suggestions/ui" depends="init,all-tasklist/api,all-tasklist/core,all-tasklist/suggestions">
    <echo message="Building module tasklist/suggestions/ui..."/>
    <ant dir="../tasklist/suggestions/ui" target="netbeans"/>
  </target>
  <target name="all-tasklist/docscan" depends="init,all-java/api,all-projects/projectapi,all-projects/projectuiapi,all-tasklist/api,all-tasklist/core,all-tasklist/suggestions">
    <echo message="Building module tasklist/docscan..."/>
    <getdependsclusters name="dependsClusters" list="${nb.clusters.list}"/>
    <antcall target="build-one-cluster-dependencies" inheritAll="false">
      <param name="one.cluster.dependencies" value="${dependsClusters}"/>
      <param name="one.cluster.name" value="this-cluster"/>
    </antcall>
    <ant dir="../tasklist/docscan" target="netbeans"/>
  </target>
  <target name="all-tasklist/editor" depends="init,all-editor,all-tasklist/api,all-tasklist/core,all-tasklist/usertasks">
    <echo message="Building module tasklist/editor..."/>
    <getdependsclusters name="dependsClusters" list="${nb.clusters.list}"/>
    <antcall target="build-one-cluster-dependencies" inheritAll="false">
      <param name="one.cluster.dependencies" value="${dependsClusters}"/>
      <param name="one.cluster.name" value="this-cluster"/>
    </antcall>
    <ant dir="../tasklist/editor" target="netbeans"/>
  </target>
  <target name="all-tasklist/bugs" depends="init,all-tasklist/api,all-tasklist/core">
    <echo message="Building module tasklist/bugs..."/>
    <getdependsclusters name="dependsClusters" list="${nb.clusters.list}"/>
    <antcall target="build-one-cluster-dependencies" inheritAll="false">
      <param name="one.cluster.dependencies" value="${dependsClusters}"/>
      <param name="one.cluster.name" value="this-cluster"/>
    </antcall>
    <ant dir="../tasklist/bugs" target="netbeans"/>
  </target>
  <target name="all-tasklist/pmd" depends="init,all-tasklist/api,all-tasklist/core,all-contrib/pmd-nb-wrapper,all-java/srcmodel">
    <echo message="Building module tasklist/pmd..."/>
    <getdependsclusters name="dependsClusters" list="${nb.clusters.list}"/>
    <antcall target="build-one-cluster-dependencies" inheritAll="false">
      <param name="one.cluster.dependencies" value="${dependsClusters}"/>
      <param name="one.cluster.name" value="this-cluster"/>
    </antcall>
    <ant dir="../tasklist/pmd" target="netbeans"/>
  </target>
  <target name="all-tasklist/javaparser" depends="init,all-tasklist/api,all-tasklist/core,all-java">
    <echo message="Building module tasklist/javaparser..."/>
    <getdependsclusters name="dependsClusters" list="${nb.clusters.list}"/>
    <antcall target="build-one-cluster-dependencies" inheritAll="false">
      <param name="one.cluster.dependencies" value="${dependsClusters}"/>
      <param name="one.cluster.name" value="this-cluster"/>
    </antcall>
    <ant dir="../tasklist/javaparser" target="netbeans"/>
  </target>
  <target name="all-tasklist/javadoc" depends="init,all-tasklist/api,all-tasklist/core,all-java,all-javadoc">
    <echo message="Building module tasklist/javadoc..."/>
    <getdependsclusters name="dependsClusters" list="${nb.clusters.list}"/>
    <antcall target="build-one-cluster-dependencies" inheritAll="false">
      <param name="one.cluster.dependencies" value="${dependsClusters}"/>
      <param name="one.cluster.name" value="this-cluster"/>
    </antcall>
    <ant dir="../tasklist/javadoc" target="netbeans"/>
  </target>
  <target name="all-tasklist/html" depends="init,all-tasklist/api,all-tasklist/core,all-html,all-diff">
    <echo message="Building module tasklist/html..."/>
    <getdependsclusters name="dependsClusters" list="${nb.clusters.list}"/>
    <antcall target="build-one-cluster-dependencies" inheritAll="false">
      <param name="one.cluster.dependencies" value="${dependsClusters}"/>
      <param name="one.cluster.name" value="this-cluster"/>
    </antcall>
    <ant dir="../tasklist/html" target="netbeans"/>
  </target>
  <target name="all-tasklist/compiler" depends="init,all-tasklist/api,all-tasklist/core,all-openide/compiler,all-core/compiler">
    <echo message="Building module tasklist/compiler..."/>
    <getdependsclusters name="dependsClusters" list="${nb.clusters.list}"/>
    <antcall target="build-one-cluster-dependencies" inheritAll="false">
      <param name="one.cluster.dependencies" value="${dependsClusters}"/>
      <param name="one.cluster.name" value="this-cluster"/>
    </antcall>
    <ant dir="../tasklist/compiler" target="netbeans"/>
  </target>

  <target name="all-testtools" depends="init,all-openide/compiler,all-java,all-ant,all-jemmy/idemodule,all-jemmysupport,all-jellytools">
    <echo message="Building module testtools..."/>
    <getdependsclusters name="dependsClusters" list="${nb.clusters.list}"/>
    <antcall target="build-one-cluster-dependencies" inheritAll="false">
      <param name="one.cluster.dependencies" value="${dependsClusters}"/>
      <param name="one.cluster.name" value="this-cluster"/>
    </antcall>
    <ant dir="../testtools" target="netbeans"/>
  </target>
  <target name="all-tomcatint/tomcat5" depends="init,all-ant,all-schema2beans/rt,all-java/srcmodel,all-j2eeserver,all-web/ddapi,build-schema2beans/anttask">
    <echo message="Building module tomcatint/tomcat5..."/>
    <getdependsclusters name="dependsClusters" list="${nb.clusters.list}"/>
    <antcall target="build-one-cluster-dependencies" inheritAll="false">
      <param name="one.cluster.dependencies" value="${dependsClusters}"/>
      <param name="one.cluster.name" value="this-cluster"/>
    </antcall>
    <ant dir="../tomcatint/tomcat5" target="netbeans"/>
  </target>
  <target name="all-tomcatint/tomcat5/bundled" depends="init">
    <echo message="Building module tomcatint/tomcat5/bundled..."/>
    <getdependsclusters name="dependsClusters" list="${nb.clusters.list}"/>
    <antcall target="build-one-cluster-dependencies" inheritAll="false">
      <param name="one.cluster.dependencies" value="${dependsClusters}"/>
      <param name="one.cluster.name" value="this-cluster"/>
    </antcall>
    <ant dir="../tomcatint/tomcat5/bundled" target="netbeans"/>
  </target>
  <target name="all-translatedfiles" depends="init">
    <echo message="Building module translatedfiles..."/>
    <getdependsclusters name="dependsClusters" list="${nb.clusters.list}"/>
    <antcall target="build-one-cluster-dependencies" inheritAll="false">
      <param name="one.cluster.dependencies" value="${dependsClusters}"/>
      <param name="one.cluster.name" value="this-cluster"/>
    </antcall>
    <ant dir="../translatedfiles" target="netbeans"/>
  </target>
  <target name="all-usersguide" depends="init">
    <echo message="Building module usersguide..."/>
    <getdependsclusters name="dependsClusters" list="${nb.clusters.list}"/>
    <antcall target="build-one-cluster-dependencies" inheritAll="false">
      <param name="one.cluster.dependencies" value="${dependsClusters}"/>
      <param name="one.cluster.name" value="this-cluster"/>
    </antcall>
    <ant dir="../usersguide" target="netbeans"/>
  </target>
  <target name="all-usersguide/j2seexamples" depends="init,all-java/api,all-java/j2seproject">
    <echo message="Building module usersguide/j2seexamples..."/>
    <getdependsclusters name="dependsClusters" list="${nb.clusters.list}"/>
    <antcall target="build-one-cluster-dependencies" inheritAll="false">
      <param name="one.cluster.dependencies" value="${dependsClusters}"/>
      <param name="one.cluster.name" value="this-cluster"/>
    </antcall>
    <ant dir="../usersguide/j2seexamples" target="netbeans"/>
  </target>
  <target name="all-utilities" depends="init,all-openidex">
    <echo message="Building module utilities..."/>
    <getdependsclusters name="dependsClusters" list="${nb.clusters.list}"/>
    <antcall target="build-one-cluster-dependencies" inheritAll="false">
      <param name="one.cluster.dependencies" value="${dependsClusters}"/>
      <param name="one.cluster.name" value="this-cluster"/>
    </antcall>
    <ant dir="../utilities" target="netbeans"/>
  </target>
  <target name="all-utilities/project" depends="init,all-projects/projectapi,all-projects/projectuiapi,all-utilities">
    <echo message="Building module utilities/project..."/>
    <getdependsclusters name="dependsClusters" list="${nb.clusters.list}"/>
    <antcall target="build-one-cluster-dependencies" inheritAll="false">
      <param name="one.cluster.dependencies" value="${dependsClusters}"/>
      <param name="one.cluster.name" value="this-cluster"/>
    </antcall>
    <ant dir="../utilities/project" target="netbeans"/>
  </target>
  <target name="all-utilities/group" depends="init,all-openidex">
    <echo message="Building module utilities/group..."/>
    <getdependsclusters name="dependsClusters" list="${nb.clusters.list}"/>
    <antcall target="build-one-cluster-dependencies" inheritAll="false">
      <param name="one.cluster.dependencies" value="${dependsClusters}"/>
      <param name="one.cluster.name" value="this-cluster"/>
    </antcall>
    <ant dir="../utilities/group" target="netbeans"/>
  </target>
  <target name="all-vcscvs" depends="init,all-openidex,all-editor,all-vcscore">
    <echo message="Building module vcscvs..."/>
    <getdependsclusters name="dependsClusters" list="${nb.clusters.list}"/>
    <antcall target="build-one-cluster-dependencies" inheritAll="false">
      <param name="one.cluster.dependencies" value="${dependsClusters}"/>
      <param name="one.cluster.name" value="this-cluster"/>
    </antcall>
    <ant dir="../vcscvs" target="netbeans"/>
  </target>
  <target name="all-vcscvs/compat" depends="init,all-openidex,all-vcscore,all-vcsgeneric">
    <echo message="Building module vcscvs compat..."/>
    <getdependsclusters name="dependsClusters" list="${nb.clusters.list}"/>
    <antcall target="build-one-cluster-dependencies" inheritAll="false">
      <param name="one.cluster.dependencies" value="${dependsClusters}"/>
      <param name="one.cluster.name" value="this-cluster"/>
    </antcall>
    <ant dir="../vcscvs/compat" target="netbeans"/>
  </target>
  <target name="all-vcsgeneric" depends="init,all-openidex,all-vcscore,all-diff">
    <echo message="Building module vcsgeneric..."/>
    <getdependsclusters name="dependsClusters" list="${nb.clusters.list}"/>
    <antcall target="build-one-cluster-dependencies" inheritAll="false">
      <param name="one.cluster.dependencies" value="${dependsClusters}"/>
      <param name="one.cluster.name" value="this-cluster"/>
    </antcall>
    <ant dir="../vcsgeneric" target="netbeans"/>
  </target>

  <target name="all-vcsgeneric/profiles/cvsprofiles" depends="init,all-vcsgeneric,all-javacvs/libmodule">
    <echo message="Building module vcsgeneric/profiles/cvsprofiles"/>
    <getdependsclusters name="dependsClusters" list="${nb.clusters.list}"/>
    <antcall target="build-one-cluster-dependencies" inheritAll="false">
      <param name="one.cluster.dependencies" value="${dependsClusters}"/>
      <param name="one.cluster.name" value="this-cluster"/>
    </antcall>
    <ant dir="../vcsgeneric/profiles/cvsprofiles" target="netbeans"/>
  </target>

  <target name="all-vcsgeneric/profiles/clearcase" depends="init,all-vcsgeneric,all-openide/deprecated">
    <echo message="Building module vcsgeneric/profiles/clearcase"/>
    <getdependsclusters name="dependsClusters" list="${nb.clusters.list}"/>
    <antcall target="build-one-cluster-dependencies" inheritAll="false">
      <param name="one.cluster.dependencies" value="${dependsClusters}"/>
      <param name="one.cluster.name" value="this-cluster"/>
    </antcall>
    <ant dir="../vcsgeneric/profiles/clearcase" target="netbeans"/>
  </target>

  <target name="all-vcsgeneric/profiles/pvcs" depends="init,all-vcsgeneric">
    <echo message="Building module vcsgeneric/profiles/pvcs"/>
    <getdependsclusters name="dependsClusters" list="${nb.clusters.list}"/>
    <antcall target="build-one-cluster-dependencies" inheritAll="false">
      <param name="one.cluster.dependencies" value="${dependsClusters}"/>
      <param name="one.cluster.name" value="this-cluster"/>
    </antcall>
    <ant dir="../vcsgeneric/profiles/pvcs" target="netbeans"/>
  </target>

  <target name="all-vcsgeneric/profiles/vss" depends="init,all-vcsgeneric">
    <echo message="Building module vcsgeneric/profiles/vss"/>
    <getdependsclusters name="dependsClusters" list="${nb.clusters.list}"/>
    <antcall target="build-one-cluster-dependencies" inheritAll="false">
      <param name="one.cluster.dependencies" value="${dependsClusters}"/>
      <param name="one.cluster.name" value="this-cluster"/>
    </antcall>
    <ant dir="../vcsgeneric/profiles/vss" target="netbeans"/>
  </target>

  <target name="all-vcscore" depends="init,all-openidex">
    <echo message="Building module vcscore..."/>
    <getdependsclusters name="dependsClusters" list="${nb.clusters.list}"/>
    <antcall target="build-one-cluster-dependencies" inheritAll="false">
      <param name="one.cluster.dependencies" value="${dependsClusters}"/>
      <param name="one.cluster.name" value="this-cluster"/>
    </antcall>
    <ant dir="../vcscore" target="netbeans"/>
  </target>
  <target name="all-javacvs" depends="init,all-openidex,all-vcscore, all-diff,all-openide/deprecated">
    <echo message="Building module javacvs..."/>
    <getdependsclusters name="dependsClusters" list="${nb.clusters.list}"/>
    <antcall target="build-one-cluster-dependencies" inheritAll="false">
      <param name="one.cluster.dependencies" value="${dependsClusters}"/>
      <param name="one.cluster.name" value="this-cluster"/>
    </antcall>
    <ant dir="../javacvs" target="netbeans"/>
  </target>
  <target name="all-javacvs/compat" depends="init,all-vcscore,all-vcsgeneric,all-vcsgeneric/profiles/cvsprofiles">
    <echo message="Building module javacvs compat..."/>
    <getdependsclusters name="dependsClusters" list="${nb.clusters.list}"/>
    <antcall target="build-one-cluster-dependencies" inheritAll="false">
      <param name="one.cluster.dependencies" value="${dependsClusters}"/>
      <param name="one.cluster.name" value="this-cluster"/>
    </antcall>
    <ant dir="../javacvs/compat" target="netbeans"/>
  </target>
  <target name="all-javacvs/libmodule" depends="init">
    <echo message="Building module javacvs/libmodule..."/>
    <getdependsclusters name="dependsClusters" list="${nb.clusters.list}"/>
    <antcall target="build-one-cluster-dependencies" inheritAll="false">
      <param name="one.cluster.dependencies" value="${dependsClusters}"/>
      <param name="one.cluster.name" value="this-cluster"/>
    </antcall>
    <ant dir="../javacvs/libmodule" target="netbeans"/>
  </target>
  <target name="all-web/servletapi23" depends="init,all-web/core">
    <echo message="Building module web/servletapi23..."/>
    <getdependsclusters name="dependsClusters" list="${nb.clusters.list}"/>
    <antcall target="build-one-cluster-dependencies" inheritAll="false">
      <param name="one.cluster.dependencies" value="${dependsClusters}"/>
      <param name="one.cluster.name" value="this-cluster"/>
    </antcall>
    <ant dir="../web/servletapi23" target="netbeans"/>
  </target>
  <target name="all-web/servletapi24" depends="init">
    <echo message="Building module web/servletapi24..."/>
    <getdependsclusters name="dependsClusters" list="${nb.clusters.list}"/>
    <antcall target="build-one-cluster-dependencies" inheritAll="false">
      <param name="one.cluster.dependencies" value="${dependsClusters}"/>
      <param name="one.cluster.name" value="this-cluster"/>
    </antcall>
    <ant dir="../web/servletapi24" target="netbeans"/>
  </target>
  <target name="all-web/jstl11" depends="init">
    <echo message="Building module web/jstl11..."/>
    <getdependsclusters name="dependsClusters" list="${nb.clusters.list}"/>
    <antcall target="build-one-cluster-dependencies" inheritAll="false">
      <param name="one.cluster.dependencies" value="${dependsClusters}"/>
      <param name="one.cluster.name" value="this-cluster"/>
    </antcall>
    <ant dir="../web/jstl11" target="netbeans"/>
  </target>
  <target name="all-web/ddapi" depends="init,all-schema2beans/rt,build-schema2beans/anttask,all-libs/xerces">
    <echo message="Building module web/ddapi..."/>
    <getdependsclusters name="dependsClusters" list="${nb.clusters.list}"/>
    <antcall target="build-one-cluster-dependencies" inheritAll="false">
      <param name="one.cluster.dependencies" value="${dependsClusters}"/>
      <param name="one.cluster.name" value="this-cluster"/>
    </antcall>
    <ant dir="../web/ddapi" target="netbeans"/>
  </target>
  <target name="all-web/webapi" depends="init,all-schema2beans/rt,all-java/api">
    <echo message="Building module web/webapi..."/>
    <getdependsclusters name="dependsClusters" list="${nb.clusters.list}"/>
    <antcall target="build-one-cluster-dependencies" inheritAll="false">
      <param name="one.cluster.dependencies" value="${dependsClusters}"/>
      <param name="one.cluster.name" value="this-cluster"/>
    </antcall>
    <ant dir="../web/webapi" target="netbeans" />
  </target>
  <target name="all-web/project" depends="init,all-web/webapi,all-web/servletapi24,all-web/jstl11,all-java/api,all-java/platform,all-java/project,all-ant/project,all-projects/projectapi,all-projects/libraries,all-projects/projectuiapi,all-schema2beans/rt">
    <echo message="Building module web/project..."/>
    <getdependsclusters name="dependsClusters" list="${nb.clusters.list}"/>
    <antcall target="build-one-cluster-dependencies" inheritAll="false">
      <param name="one.cluster.dependencies" value="${dependsClusters}"/>
      <param name="one.cluster.name" value="this-cluster"/>
    </antcall>
    <ant dir="../web/project" target="netbeans" />
  </target>
  <target name="all-web/core" depends="init,all-java,all-editor,all-web/ddapi,all-web/webapi,all-j2eeserver,all-html,all-httpserver,all-debuggercore,all-openidex,all-schema2beans/rt,all-xml/api,all-xml/catalog,all-java/srcmodel,all-java/api,all-projects/projectapi,all-web/jspsyntax">
    <echo message="Building module web/core..."/>
    <getdependsclusters name="dependsClusters" list="${nb.clusters.list}"/>
    <antcall target="build-one-cluster-dependencies" inheritAll="false">
      <param name="one.cluster.dependencies" value="${dependsClusters}"/>
      <param name="one.cluster.name" value="this-cluster"/>
    </antcall>
    <ant dir="../web/core" target="netbeans"/>
  </target>
  <target name="all-web/jspparser" depends="init,all-web/servletapi24">
    <echo message="Building module web/jspparser..."/>
    <getdependsclusters name="dependsClusters" list="${nb.clusters.list}"/>
    <antcall target="build-one-cluster-dependencies" inheritAll="false">
      <param name="one.cluster.dependencies" value="${dependsClusters}"/>
      <param name="one.cluster.name" value="this-cluster"/>
    </antcall>
    <ant dir="../web/jspparser" target="netbeans"/>
  </target>
  <target name="all-web/jspsyntax" depends="init,all-web/jspparser,all-xml/text-edit">
    <echo message="Building module web/jspsyntax..."/>
    <getdependsclusters name="dependsClusters" list="${nb.clusters.list}"/>
    <antcall target="build-one-cluster-dependencies" inheritAll="false">
      <param name="one.cluster.dependencies" value="${dependsClusters}"/>
      <param name="one.cluster.name" value="this-cluster"/>
    </antcall>
    <ant dir="../web/jspsyntax" target="netbeans"/>
  </target>
  <target name="all-web/examples" depends="init">
    <echo message="Building module web/examples..."/>
    <getdependsclusters name="dependsClusters" list="${nb.clusters.list}"/>
    <antcall target="build-one-cluster-dependencies" inheritAll="false">
      <param name="one.cluster.dependencies" value="${dependsClusters}"/>
      <param name="one.cluster.name" value="this-cluster"/>
    </antcall>
    <ant dir="../web/examples" target="netbeans"/>
  </target>
  <target name="all-web/jspdebug" depends="init,all-web/core,all-java/srcmodel,all-debuggercore/api,all-debuggerjpda/api">
    <echo message="Building module web/jspdebug..."/>
    <getdependsclusters name="dependsClusters" list="${nb.clusters.list}"/>
    <antcall target="build-one-cluster-dependencies" inheritAll="false">
      <param name="one.cluster.dependencies" value="${dependsClusters}"/>
      <param name="one.cluster.name" value="this-cluster"/>
    </antcall>
    <ant dir="../web/jspdebug" target="netbeans"/>
  </target>
  <target name="all-web/taglibed" depends="init,all-web/core,all-jarpackager,all-xml/core,all-java/srcmodel">
    <echo message="Building module web/taglibed..."/>
    <getdependsclusters name="dependsClusters" list="${nb.clusters.list}"/>
    <antcall target="build-one-cluster-dependencies" inheritAll="false">
      <param name="one.cluster.dependencies" value="${dependsClusters}"/>
      <param name="one.cluster.name" value="this-cluster"/>
    </antcall>
    <ant dir="../web/taglibed" target="netbeans"/>
  </target>
  <target name="all-webl" depends="init,all-java,all-openide/compiler,all-openide/deprecated">
    <echo message="Building module webl..."/>
    <getdependsclusters name="dependsClusters" list="${nb.clusters.list}"/>
    <antcall target="build-one-cluster-dependencies" inheritAll="false">
      <param name="one.cluster.dependencies" value="${dependsClusters}"/>
      <param name="one.cluster.name" value="this-cluster"/>
    </antcall>
    <ant dir="../webl" target="netbeans"/>
  </target>
  <target name="all-cpplite" depends="init,all-editor,all-java,all-openide/deprecated,all-openide/compiler">
    <echo message="Building module cpplite..."/>
    <getdependsclusters name="dependsClusters" list="${nb.clusters.list}"/>
    <antcall target="build-one-cluster-dependencies" inheritAll="false">
      <param name="one.cluster.dependencies" value="${dependsClusters}"/>
      <param name="one.cluster.name" value="this-cluster"/>
    </antcall>
    <ant dir="../cpplite" target="netbeans"/>
  </target>
  <target name="all-cpp" depends="init,all-editor,all-openide/deprecated,all-openide/compiler">
    <echo message="Building module cpp..."/>
    <getdependsclusters name="dependsClusters" list="${nb.clusters.list}"/>
    <antcall target="build-one-cluster-dependencies" inheritAll="false">
      <param name="one.cluster.dependencies" value="${dependsClusters}"/>
      <param name="one.cluster.name" value="this-cluster"/>
    </antcall>
    <ant dir="../cpp" target="netbeans"/>
  </target>
  <target name="all-externaleditor" depends="init,all-editor">
    <echo message="Building module externaleditor..."/>
    <getdependsclusters name="dependsClusters" list="${nb.clusters.list}"/>
    <antcall target="build-one-cluster-dependencies" inheritAll="false">
      <param name="one.cluster.dependencies" value="${dependsClusters}"/>
      <param name="one.cluster.name" value="this-cluster"/>
    </antcall>
    <ant dir="../externaleditor" target="netbeans"/>
  </target>

  <target name="all-corba" depends="init,all-editor,all-java,all-openide/compiler,all-projects">
    <echo message="Building module corba..."/>
    <getdependsclusters name="dependsClusters" list="${nb.clusters.list}"/>
    <antcall target="build-one-cluster-dependencies" inheritAll="false">
      <param name="one.cluster.dependencies" value="${dependsClusters}"/>
      <param name="one.cluster.name" value="this-cluster"/>
    </antcall>
    <ant dir="../corba" target="netbeans"/>
  </target>

  <target name="all-ide/welcome" depends="init">
    <echo message="Building module ide/welcome..."/>
    <getdependsclusters name="dependsClusters" list="${nb.clusters.list}"/>
    <antcall target="build-one-cluster-dependencies" inheritAll="false">
      <param name="one.cluster.dependencies" value="${dependsClusters}"/>
      <param name="one.cluster.name" value="this-cluster"/>
    </antcall>
    <ant dir="../ide/welcome" target="netbeans"/>
  </target>

  <target name="all-ide/applemenu" depends="init">
    <echo message="Building module ide/applemenu..."/>
    <getdependsclusters name="dependsClusters" list="${nb.clusters.list}"/>
    <antcall target="build-one-cluster-dependencies" inheritAll="false">
      <param name="one.cluster.dependencies" value="${dependsClusters}"/>
      <param name="one.cluster.name" value="this-cluster"/>
    </antcall>
    <ant dir="../ide/applemenu" target="netbeans"/>
  </target>
  
  <!-- Libs modules -->
  <target name="all-libs/xalan" depends="init">
      <echo message="Building module libs/xalan..."/>
    <getdependsclusters name="dependsClusters" list="${nb.clusters.list}"/>
    <antcall target="build-one-cluster-dependencies" inheritAll="false">
      <param name="one.cluster.dependencies" value="${dependsClusters}"/>
      <param name="one.cluster.name" value="this-cluster"/>
    </antcall>
      <ant dir="../libs/xalan" target="netbeans"/>
  </target>

  <target name="all-libs/jaxp" depends="init">
      <echo message="Building module libs/jaxp..."/>
    <getdependsclusters name="dependsClusters" list="${nb.clusters.list}"/>
    <antcall target="build-one-cluster-dependencies" inheritAll="false">
      <param name="one.cluster.dependencies" value="${dependsClusters}"/>
      <param name="one.cluster.name" value="this-cluster"/>
    </antcall>
      <ant dir="../libs/jaxp" target="netbeans"/>
  </target>

  <target name="all-libs/xerces" depends="init">
      <echo message="Building module libs/xerces..."/>
    <getdependsclusters name="dependsClusters" list="${nb.clusters.list}"/>
    <antcall target="build-one-cluster-dependencies" inheritAll="false">
      <param name="one.cluster.dependencies" value="${dependsClusters}"/>
      <param name="one.cluster.name" value="this-cluster"/>
    </antcall>
      <ant dir="../libs/xerces" target="netbeans"/>
  </target>
  
  <target name="all-libs/regexp" depends="init">
      <echo message="Building module libs/regexp..."/>
    <getdependsclusters name="dependsClusters" list="${nb.clusters.list}"/>
    <antcall target="build-one-cluster-dependencies" inheritAll="false">
      <param name="one.cluster.dependencies" value="${dependsClusters}"/>
      <param name="one.cluster.name" value="this-cluster"/>
    </antcall>
      <ant dir="../libs/regexp" target="netbeans"/>
  </target>
  
  <target name="all-libs/j2eeeditor" depends="init">
      <echo message="Building module libs/j2eeeditor..."/>
    <getdependsclusters name="dependsClusters" list="${nb.clusters.list}"/>
    <antcall target="build-one-cluster-dependencies" inheritAll="false">
      <param name="one.cluster.dependencies" value="${dependsClusters}"/>
      <param name="one.cluster.name" value="this-cluster"/>
    </antcall>
      <ant dir="../libs/j2eeeditor" target="netbeans"/>
  </target>

  <target name="all-libs" depends="all-libs/xerces, all-libs/j2eeeditor"/>


  <!-- XML modules -->
  <target name="all-xml/api" depends="init">
      <echo message="Building module xml/api..."/>
    <getdependsclusters name="dependsClusters" list="${nb.clusters.list}"/>
    <antcall target="build-one-cluster-dependencies" inheritAll="false">
      <param name="one.cluster.dependencies" value="${dependsClusters}"/>
      <param name="one.cluster.name" value="this-cluster"/>
    </antcall>
      <ant dir="../xml/api" target="netbeans"/>
  </target>

  <target name="all-xml/core" depends="init,all-xml/api">
      <echo message="Building module xml/core..."/>
    <getdependsclusters name="dependsClusters" list="${nb.clusters.list}"/>
    <antcall target="build-one-cluster-dependencies" inheritAll="false">
      <param name="one.cluster.dependencies" value="${dependsClusters}"/>
      <param name="one.cluster.name" value="this-cluster"/>
    </antcall>
      <ant dir="../xml/core" target="netbeans"/>
  </target>

  <target name="all-xml/tax" depends="init,all-xml/api,all-xml/core, all-libs/xerces">
      <echo message="Building module xml/tax..."/>
    <getdependsclusters name="dependsClusters" list="${nb.clusters.list}"/>
    <antcall target="build-one-cluster-dependencies" inheritAll="false">
      <param name="one.cluster.dependencies" value="${dependsClusters}"/>
      <param name="one.cluster.name" value="this-cluster"/>
    </antcall>
      <ant dir="../xml/tax" target="netbeans"/>
  </target>

 <target name="all-xml/catalog" depends="init,all-xml/api,all-xml/core">
      <echo message="Building module xml/catalog..."/>
    <getdependsclusters name="dependsClusters" list="${nb.clusters.list}"/>
    <antcall target="build-one-cluster-dependencies" inheritAll="false">
      <param name="one.cluster.dependencies" value="${dependsClusters}"/>
      <param name="one.cluster.name" value="this-cluster"/>
    </antcall>
      <ant dir="../xml/catalog" target="netbeans"/>
  </target>

  <target name="all-xml/tools" depends="init, all-xml/api, all-xml/tax, all-xml/core,all-java/srcmodel,all-java/api">
      <echo message="Building module xml/tools..."/>
    <getdependsclusters name="dependsClusters" list="${nb.clusters.list}"/>
    <antcall target="build-one-cluster-dependencies" inheritAll="false">
      <param name="one.cluster.dependencies" value="${dependsClusters}"/>
      <param name="one.cluster.name" value="this-cluster"/>
    </antcall>
      <ant dir="../xml/tools" target="netbeans"/>
  </target>

  <target name="all-xml/text-edit" depends="init, all-editor, all-xml/tax, all-xml/core">
      <echo message="Building module xml/text-edit..."/>
    <getdependsclusters name="dependsClusters" list="${nb.clusters.list}"/>
    <antcall target="build-one-cluster-dependencies" inheritAll="false">
      <param name="one.cluster.dependencies" value="${dependsClusters}"/>
      <param name="one.cluster.name" value="this-cluster"/>
    </antcall>
      <ant dir="../xml/text-edit" target="netbeans"/>
  </target>

  <target name="all-xml/tree-edit" depends="init,all-xml/api,all-xml/tax,all-xml/core">
      <echo message="Building module xml/tree-edit..."/>
    <getdependsclusters name="dependsClusters" list="${nb.clusters.list}"/>
    <antcall target="build-one-cluster-dependencies" inheritAll="false">
      <param name="one.cluster.dependencies" value="${dependsClusters}"/>
      <param name="one.cluster.name" value="this-cluster"/>
    </antcall>
      <ant dir="../xml/tree-edit" target="netbeans"/>
  </target>

  <target name="all-xml/css" depends="init,all-editor,all-xml/api">
      <echo message="Building module xml/css..."/>
    <getdependsclusters name="dependsClusters" list="${nb.clusters.list}"/>
    <antcall target="build-one-cluster-dependencies" inheritAll="false">
      <param name="one.cluster.dependencies" value="${dependsClusters}"/>
      <param name="one.cluster.name" value="this-cluster"/>
    </antcall>
      <ant dir="../xml/css" target="netbeans"/>
  </target>

  <target name="all-xml/xsl" depends="init,all-httpserver/servletapi,all-xml/api,all-xml/tax,all-xml/core,all-projects/projectapi,all-projects/projectuiapi">
      <echo message="Building module xml/xsl..."/>
    <getdependsclusters name="dependsClusters" list="${nb.clusters.list}"/>
    <antcall target="build-one-cluster-dependencies" inheritAll="false">
      <param name="one.cluster.dependencies" value="${dependsClusters}"/>
      <param name="one.cluster.name" value="this-cluster"/>
    </antcall>
      <ant dir="../xml/xsl" target="netbeans"/>
  </target>

  <target name="all-xml/schema" depends="init, all-xml/api, all-xml/tax, all-xml/core">
      <echo message="Building xml/schema module..."/>
    <getdependsclusters name="dependsClusters" list="${nb.clusters.list}"/>
    <antcall target="build-one-cluster-dependencies" inheritAll="false">
      <param name="one.cluster.dependencies" value="${dependsClusters}"/>
      <param name="one.cluster.name" value="this-cluster"/>
    </antcall>
      <ant dir="../xml/schema" target="netbeans"/>
  </target>

  <target name="all-xml" depends="all-xml/api, all-xml/tax, all-xml/core, all-xml/catalog, all-xml/tools, all-xml/text-edit, all-xml/tree-edit, all-xml/css, all-xml/xsl, all-xml/schema"/>

  <target name="all-treefs" depends="init,all-java/srcmodel">
    <echo message="Building module treefs..."/>
    <getdependsclusters name="dependsClusters" list="${nb.clusters.list}"/>
    <antcall target="build-one-cluster-dependencies" inheritAll="false">
      <param name="one.cluster.dependencies" value="${dependsClusters}"/>
      <param name="one.cluster.name" value="this-cluster"/>
    </antcall>
    <ant dir="../treefs" target="netbeans"/>
  </target>

  <target name="all-utilities/loaderswitcher" depends="init">
      <echo message="Building module utilities/loaderswitcher..."/>
    <getdependsclusters name="dependsClusters" list="${nb.clusters.list}"/>
    <antcall target="build-one-cluster-dependencies" inheritAll="false">
      <param name="one.cluster.dependencies" value="${dependsClusters}"/>
      <param name="one.cluster.name" value="this-cluster"/>
    </antcall>
      <ant dir="../utilities/loaderswitcher" target="netbeans"/>
  </target>

  <target name="all-xtest/nbjunit" depends="init,all-java/j2seproject,all-projects/projectui,all-java/javacore">
      <echo message="Building module xtest/nbjunit..."/>
    <getdependsclusters name="dependsClusters" list="${clusters.list}"/>
    <antcall target="build-one-cluster-dependencies" inheritAll="false">
      <param name="one.cluster.dependencies" value="${dependsClusters}"/>
      <param name="one.cluster.name" value="this-cluster"/>
    </antcall>
      <ant dir="../xtest/nbjunit" target="netbeans"/>
  </target>

  <target name="all-xtest" depends="init,all-xtest/nbjunit">
      <echo message="Building module xtest..."/>
    <getdependsclusters name="dependsClusters" list="${clusters.list}"/>
    <antcall target="build-one-cluster-dependencies" inheritAll="false">
      <param name="one.cluster.dependencies" value="${dependsClusters}"/>
      <param name="one.cluster.name" value="this-cluster"/>
    </antcall>
      <ant dir="../xtest" antfile="build.xml" target="netbeans"/>
  </target>
  
  <target name="all-contrib/options" depends="init,all-openide,all-openide/loaders">
    <echo message="Building module contrib/options..."/>
    <getdependsclusters name="dependsClusters" list="${nb.clusters.list}"/>
    <antcall target="build-one-cluster-dependencies" inheritAll="false">
      <param name="one.cluster.dependencies" value="${dependsClusters}"/>
      <param name="one.cluster.name" value="this-cluster"/>
    </antcall>
    <ant dir="../contrib/options" target="netbeans"/>
  </target>
  
  <target name="all-contrib/optionscore" depends="init,all-openide,all-openide/loaders,all-contrib/options">
    <echo message="Building module contrib/optionscore..."/>
    <getdependsclusters name="dependsClusters" list="${nb.clusters.list}"/>
    <antcall target="build-one-cluster-dependencies" inheritAll="false">
      <param name="one.cluster.dependencies" value="${dependsClusters}"/>
      <param name="one.cluster.name" value="this-cluster"/>
    </antcall>
    <ant dir="../contrib/options/optionscore" target="netbeans"/>
  </target>

  <target name="all-contrib/options/baseoptions" depends="init,all-openide,all-openide/loaders,all-contrib/options">
    <echo message="Building module contrib/baseoptions..."/>
    <getdependsclusters name="dependsClusters" list="${nb.clusters.list}"/>
    <antcall target="build-one-cluster-dependencies" inheritAll="false">
      <param name="one.cluster.dependencies" value="${dependsClusters}"/>
      <param name="one.cluster.name" value="this-cluster"/>
    </antcall>
    <ant dir="../contrib/baseoptions" target="netbeans"/>
  </target>
  
  
  <target name="all-contrib/navigator" depends="init,all-openide/looks,all-openide/registry">
    <echo message="Building module contrib/navigator..."/>
    <getdependsclusters name="dependsClusters" list="${nb.clusters.list}"/>
    <antcall target="build-one-cluster-dependencies" inheritAll="false">
      <param name="one.cluster.dependencies" value="${dependsClusters}"/>
      <param name="one.cluster.name" value="this-cluster"/>
    </antcall>
    <ant dir="../contrib/navigator" target="netbeans"/>
  </target>

  <target name="all-contrib/navigator/javagator" depends="init,all-contrib/navigator,all-openide,all-openide/loaders">
    <echo message="Building module contrib/navigator/javagator..."/>
    <getdependsclusters name="dependsClusters" list="${nb.clusters.list}"/>
    <antcall target="build-one-cluster-dependencies" inheritAll="false">
      <param name="one.cluster.dependencies" value="${dependsClusters}"/>
      <param name="one.cluster.name" value="this-cluster"/>
    </antcall>
    <ant dir="../contrib/navigator/javagator" target="netbeans"/>
  </target>

  <target name="all-contrib/navigator/propagator" depends="init,all-contrib/navigator,all-openide,all-openide/loaders">
    <echo message="Building module contrib/navigator/propagator..."/>
    <getdependsclusters name="dependsClusters" list="${nb.clusters.list}"/>
    <antcall target="build-one-cluster-dependencies" inheritAll="false">
      <param name="one.cluster.dependencies" value="${dependsClusters}"/>
      <param name="one.cluster.name" value="this-cluster"/>
    </antcall>
    <ant dir="../contrib/navigator/propagator" target="netbeans"/>
  </target>

  <target name="all-contrib/statuspopup" depends="init">
    <echo message="Building module contrib/statuspopup..."/>
    <getdependsclusters name="dependsClusters" list="${nb.clusters.list}"/>
    <antcall target="build-one-cluster-dependencies" inheritAll="false">
      <param name="one.cluster.dependencies" value="${dependsClusters}"/>
      <param name="one.cluster.name" value="this-cluster"/>
    </antcall>
    <ant dir="../contrib/statuspopup" target="netbeans"/>
  </target>
  
  <target name="all-contrib/coloreditor" depends="init">
    <echo message="Building module contrib/coloreditor"/>
    <getdependsclusters name="dependsClusters" list="${nb.clusters.list}"/>
    <antcall target="build-one-cluster-dependencies" inheritAll="false">
      <param name="one.cluster.dependencies" value="${dependsClusters}"/>
      <param name="one.cluster.name" value="this-cluster"/>
    </antcall>
    <ant dir="../contrib/coloreditor" target="netbeans"/>
  </target>
  
  <target name="all-contrib/dropshadow" depends="init">
    <echo message="Building module contrib/dropshadow"/>
    <getdependsclusters name="dependsClusters" list="${nb.clusters.list}"/>
    <antcall target="build-one-cluster-dependencies" inheritAll="false">
      <param name="one.cluster.dependencies" value="${dependsClusters}"/>
      <param name="one.cluster.name" value="this-cluster"/>
    </antcall>
    <ant dir="../contrib/dropshadow" target="netbeans"/>
  </target>
  
  <target name="all-contrib/editorthemes" depends="init,all-editor">
    <echo message="Building module contrib/editorthemes"/>
    <getdependsclusters name="dependsClusters" list="${nb.clusters.list}"/>
    <antcall target="build-one-cluster-dependencies" inheritAll="false">
      <param name="one.cluster.dependencies" value="${dependsClusters}"/>
      <param name="one.cluster.name" value="this-cluster"/>
    </antcall>
    <ant dir="../contrib/editorthemes" target="netbeans"/>
  </target>
  
  <target name="all-contrib/archiver" depends="init,all-java/api">
    <echo message="Building module contrib/archiver..."/>
    <getdependsclusters name="dependsClusters" list="${nb.clusters.list}"/>
    <antcall target="build-one-cluster-dependencies" inheritAll="false">
      <param name="one.cluster.dependencies" value="${dependsClusters}"/>
      <param name="one.cluster.name" value="this-cluster"/>
    </antcall>
    <ant dir="../contrib/archiver" target="netbeans"/>
  </target>

  <target name="all-contrib/docbook" depends="init,all-xml/catalog">
    <echo message="Building module contrib/docbook..."/>
    <getdependsclusters name="dependsClusters" list="${nb.clusters.list}"/>
    <antcall target="build-one-cluster-dependencies" inheritAll="false">
      <param name="one.cluster.dependencies" value="${dependsClusters}"/>
      <param name="one.cluster.name" value="this-cluster"/>
    </antcall>
    <ant dir="../contrib/docbook" target="netbeans"/>
  </target>

  <target name="all-contrib/mount" depends="init,all-ant,all-java/api,all-java/platform,all-java/project,all-projects/projectapi">
    <echo message="Building module contrib/mount..."/>
    <getdependsclusters name="dependsClusters" list="${nb.clusters.list}"/>
    <antcall target="build-one-cluster-dependencies" inheritAll="false">
      <param name="one.cluster.dependencies" value="${dependsClusters}"/>
      <param name="one.cluster.name" value="this-cluster"/>
    </antcall>
    <ant dir="../contrib/mount" target="netbeans"/>
  </target>

  <target name="all-contrib/pmd-nb-wrapper" depends="init">
    <echo message="Building module contrib/pmd-nb-wrapper..."/>
    <getdependsclusters name="dependsClusters" list="${nb.clusters.list}"/>
    <antcall target="build-one-cluster-dependencies" inheritAll="false">
      <param name="one.cluster.dependencies" value="${dependsClusters}"/>
      <param name="one.cluster.name" value="this-cluster"/>
    </antcall>
    <ant dir="../contrib/pmd-nb-wrapper" target="netbeans"/>
  </target>

  <target name="all-contrib/pmd-nb-ext" depends="init,all-contrib/pmd-nb-wrapper">
    <echo message="Building module contrib/pmd-nb-ext..."/>
    <getdependsclusters name="dependsClusters" list="${nb.clusters.list}"/>
    <antcall target="build-one-cluster-dependencies" inheritAll="false">
      <param name="one.cluster.dependencies" value="${dependsClusters}"/>
      <param name="one.cluster.name" value="this-cluster"/>
    </antcall>
    <ant dir="../contrib/pmd-nb-ext" target="netbeans"/>
  </target>

  <target name="all-contrib/insertunicode" depends="init,all-editor">
    <echo message="Building module contrib/insertunicode..."/>
    <getdependsclusters name="dependsClusters" list="${nb.clusters.list}"/>
    <antcall target="build-one-cluster-dependencies" inheritAll="false">
      <param name="one.cluster.dependencies" value="${dependsClusters}"/>
      <param name="one.cluster.name" value="this-cluster"/>
    </antcall>
    <ant dir="../contrib/insertunicode" target="netbeans"/>
  </target>

  <target name="all-jasm" depends="init,all-editor,all-java/srcmodel,all-openide/deprecated,all-openide/compiler,all-clazz">
      <echo message="Building module jasm..."/>
    <getdependsclusters name="dependsClusters" list="${nb.clusters.list}"/>
    <antcall target="build-one-cluster-dependencies" inheritAll="false">
      <param name="one.cluster.dependencies" value="${dependsClusters}"/>
      <param name="one.cluster.name" value="this-cluster"/>
    </antcall>
      <ant dir="../jasm" target="netbeans"/>
  </target>
  
  <target name="all-projects/projectapi" depends="init">
      <echo message="Building module projects/projectapi..."/>
    <getdependsclusters name="dependsClusters" list="${nb.clusters.list}"/>
    <antcall target="build-one-cluster-dependencies" inheritAll="false">
      <param name="one.cluster.dependencies" value="${dependsClusters}"/>
      <param name="one.cluster.name" value="this-cluster"/>
    </antcall>
      <ant dir="../projects/projectapi" target="netbeans"/>
  </target>
  <target name="all-projects/projectuiapi" depends="init,all-projects/projectapi">
      <echo message="Building module projects/projectapi..."/>
    <getdependsclusters name="dependsClusters" list="${nb.clusters.list}"/>
    <antcall target="build-one-cluster-dependencies" inheritAll="false">
      <param name="one.cluster.dependencies" value="${dependsClusters}"/>
      <param name="one.cluster.name" value="this-cluster"/>
    </antcall>
      <ant dir="../projects/projectuiapi" target="netbeans"/>
  </target>
  <target name="all-projects/libraries" depends="init,all-projects/projectapi,all-ant/project,all-java/api">
      <echo message="Building module projects/libraries..."/>
    <getdependsclusters name="dependsClusters" list="${nb.clusters.list}"/>
    <antcall target="build-one-cluster-dependencies" inheritAll="false">
      <param name="one.cluster.dependencies" value="${dependsClusters}"/>
      <param name="one.cluster.name" value="this-cluster"/>
    </antcall>
      <ant dir="../projects/libraries" target="netbeans"/>
  </target>
  <target name="all-projects/projectui" depends="init,all-projects/projectapi,all-projects/projectuiapi,all-openidex">
      <echo message="Building module projects/projectui..."/>
    <getdependsclusters name="dependsClusters" list="${nb.clusters.list}"/>
    <antcall target="build-one-cluster-dependencies" inheritAll="false">
      <param name="one.cluster.dependencies" value="${dependsClusters}"/>
      <param name="one.cluster.name" value="this-cluster"/>
    </antcall>
      <ant dir="../projects/projectui" target="netbeans"/>
  </target>
  <target name="all-java/platform" depends="init,all-java/api">
    <echo message="Building module java/platform..."/>
    <getdependsclusters name="dependsClusters" list="${nb.clusters.list}"/>
    <antcall target="build-one-cluster-dependencies" inheritAll="false">
      <param name="one.cluster.dependencies" value="${dependsClusters}"/>
      <param name="one.cluster.name" value="this-cluster"/>
    </antcall>
    <ant dir="../java/platform" target="netbeans"/>
  </target>
  <target name="all-java/j2seplatform" depends="init,all-java/api,all-java/platform,all-ant/project,all-projects/libraries,all-classfile">
    <echo message="Building module java/j2seplatform..."/>
    <getdependsclusters name="dependsClusters" list="${nb.clusters.list}"/>
    <antcall target="build-one-cluster-dependencies" inheritAll="false">
      <param name="one.cluster.dependencies" value="${dependsClusters}"/>
      <param name="one.cluster.name" value="this-cluster"/>
    </antcall>
    <ant dir="../java/j2seplatform" target="netbeans"/>
  </target>
  <target name="all-java/j2seproject" depends="init,all-java/api,all-java/platform,all-java/project,all-ant/project,all-projects/projectapi,all-projects/libraries,all-projects/projectuiapi,all-ant">
    <echo message="Building module java/j2seproject..."/>
    <getdependsclusters name="dependsClusters" list="${nb.clusters.list}"/>
    <antcall target="build-one-cluster-dependencies" inheritAll="false">
      <param name="one.cluster.dependencies" value="${dependsClusters}"/>
      <param name="one.cluster.name" value="this-cluster"/>
    </antcall>
    <ant dir="../java/j2seproject" target="netbeans"/>
  </target>
  <target name="all-ant/project" depends="init,all-ant,all-projects/projectapi">
      <echo message="Building module ant/project..."/>
    <getdependsclusters name="dependsClusters" list="${nb.clusters.list}"/>
    <antcall target="build-one-cluster-dependencies" inheritAll="false">
      <param name="one.cluster.dependencies" value="${dependsClusters}"/>
      <param name="one.cluster.name" value="this-cluster"/>
    </antcall>
      <ant dir="../ant/project" target="netbeans"/>
  </target>
  <target name="all-java/project" depends="init,all-openidex,all-projects/projectapi,all-projects/projectuiapi,all-java/api,all-java,all-java/platform,all-ant/project,all-projects/libraries,all-ant">
    <echo message="Building module java/project..."/>
    <getdependsclusters name="dependsClusters" list="${nb.clusters.list}"/>
    <antcall target="build-one-cluster-dependencies" inheritAll="false">
      <param name="one.cluster.dependencies" value="${dependsClusters}"/>
      <param name="one.cluster.name" value="this-cluster"/>
    </antcall>
    <ant dir="../java/project" target="netbeans"/>
  </target>
  <target name="all-apisupport/project" depends="init,all-projects/projectapi,all-projects/projectuiapi,all-ant/project,all-java/api,all-java/platform,all-java/project">
    <echo message="Building module apisupport/project..."/>
    <getdependsclusters name="dependsClusters" list="${nb.clusters.list}"/>
    <antcall target="build-one-cluster-dependencies" inheritAll="false">
      <param name="one.cluster.dependencies" value="${dependsClusters}"/>
      <param name="one.cluster.name" value="this-cluster"/>
    </antcall>
    <ant dir="../apisupport/project" target="netbeans"/>
  </target>
  <target name="all-i18n/form" depends="init,all-form,all-i18n,all-java,all-properties,all-java/srcmodel">
    <echo message="Building module i18n/form..."/>
    <getdependsclusters name="dependsClusters" list="${nb.clusters.list}"/>
    <antcall target="build-one-cluster-dependencies" inheritAll="false">
      <param name="one.cluster.dependencies" value="${dependsClusters}"/>
      <param name="one.cluster.name" value="this-cluster"/>
    </antcall>
    <ant dir="../i18n/form" target="netbeans"/>
  </target>

  <!-- target for branding of NetBeans IDE -->
  <target name="all-ide/branding" depends="init">
    <echo message="Building module ide/branding..."/>
    <getdependsclusters name="dependsClusters" list="${nb.clusters.list}"/>
    <antcall target="build-one-cluster-dependencies" inheritAll="false">
      <param name="one.cluster.dependencies" value="${dependsClusters}"/>
      <param name="one.cluster.name" value="this-cluster"/>
    </antcall>
    <ant dir="../ide/branding" target="netbeans"/>
  </target>

  <!-- target for upgrader of NetBeans IDE -->
  <target name="all-ide/launcher/upgrade" depends="init">
    <echo message="Building module ide/launcher/upgrade..."/>
    <getdependsclusters name="dependsClusters" list="${nb.clusters.list}"/>
    <antcall target="build-one-cluster-dependencies" inheritAll="false">
      <param name="one.cluster.dependencies" value="${dependsClusters}"/>
      <param name="one.cluster.name" value="this-cluster"/>
    </antcall>
    <ant dir="../ide/launcher/upgrade" target="netbeans"/>
  </target>
  
  <!-- build NBMs for selected modules -->
  <target name="build-nbms" depends="init">
      <!-- It's good idea to call merge target before this one.
           NbMerge.java can set property "modules" to the list of realy
           built modules (excluding fixedmodules which must build everytime). -->
      <mkdir dir="nbms" />
      <property name="nbm.target.dir" location="nbms" />
      <for-each startdir=".." target="nbm" locations="${allmodules}"/>
  </target>
  <target name="nbm"/><!-- dummy target -->
  
  <target name="set-config-to-javadoc" >
      <property name="moduleconfig" value="javadoc" />
  </target>

  <!-- build javadoc for selected modules -->
  <target name="build-javadoc" depends="set-config-to-javadoc,init" description="Builds Javadoc documentation for modules; on branches pass e.g. -Djavadoc.web.root=http://www.netbeans.org/download/release35/javadoc">
      <ant dir="." target="merge">
          <property name="modules" value="${modules}"/>
          <property name="fixedmodules" value="${fixedmodules}"/>
          <property name="merge.dependent.modules" value="true"/>
          <property name="stop.when.broken.module" value="false"/>
      </ant>
      
      <mkdir dir="build/ModulesExportedInterfaces" />
      <property name="export.interfaces" location="build/ModulesExportedInterfaces" />
      
      <!-- build javadoc for supported APIs -->
      <for-each startdir=".." target="javadoc" locations="${fixedmodules}"/>
      <!-- build javadoc for unsupported APIs -->
      <for-each startdir=".." target="javadoc" locations="${modules}"/>
      <taskdef name="simplemerge" classname="org.netbeans.nbbuild.SimpleMerge" classpath="nbantext.jar"/>
      <simplemerge topdir=".." subdir="javadoc" dest="modules_javadoc" modules="${fixedmodules}"/>
      <simplemerge topdir=".." subdir="javadoc" dest="modules_javadoc" modules="${modules}"/>
      
      <echo file="build/ModulesExportedInterfaces/header.gen" >&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;apis&gt;
</echo>
      
      <echo file="build/ModulesExportedInterfaces/footer.gen" >
        &lt;/apis&gt;
      </echo>
      
      <concat destfile="modules_javadoc/index.xml" >
          <fileset dir="build/ModulesExportedInterfaces" includes="header.gen" />
          <fileset dir="build/ModulesExportedInterfaces" includes="*" excludes="*.gen" />
          <fileset dir="build/ModulesExportedInterfaces" includes="footer.gen" />
      </concat>
      
      <tstamp>
        <format property="modules-javadoc-date" pattern="d MMM yyyy" locale="en" />
      </tstamp>
      
      <style 
        in="modules_javadoc/index.xml" 
        out="modules_javadoc/index.html" 
        style="javadoctools/export2html.xsl"
      >
        <param name="date" expression="${modules-javadoc-date}"/>
      </style>
      
      <style 
        in="modules_javadoc/index.xml" 
        out="modules_javadoc/usecases.html" 
        style="javadoctools/export2usecases.xsl"
      >
        <param name="date" expression="${modules-javadoc-date}"/>
      </style>
    <taskdef 
        name="javadoc-index" 
        classpath="nbantext.jar" 
        classname="org.netbeans.nbbuild.JavadocIndex"
    />
    
    <javadoc-index target="modules_javadoc/allclasses.html" > 
        <packageslist dir="modules_javadoc" >
            <include name="**/allclasses-noframe.html" />
        </packageslist>
    </javadoc-index>
    
      
      
  </target>

  <target name="build-messaging" depends="init">
    <echo message="Starting a build for NetBeans (build ${buildnum}, config '${moduleconfig}') ..."/>
    <echo message="Selected modules: ${modules}"/>
    <echo message="OS: ${os.name} ${os.version}  Locale: ${user.language}_${user.region}"/>
    <echo message="Java: ${java.vendor} ${java.version} in ${java.home}; for NetBeans: ${jdkhome}"/>
    <echo message="Classpath: ${java.class.path}"/>
  </target>
  
  <target name="create-module-xmls-for-one-cluster" >
    <taskdef name="createmodulexml" classname="org.netbeans.nbbuild.CreateModuleXML" classpath="nbantext.jar"/>
    <taskdef name="setcluster" classname="org.netbeans.nbbuild.SetCluster" classpath="nbantext.jar"/>
    <loadproperties srcFile="cluster.properties" />
    <loadproperties srcFile="directories.properties" />
    <setcluster cluster="${one.cluster.name}" name="one.cluster.dir" />
    
    <mkdir dir="${netbeans.dest.dir}/${one.cluster.dir}/${nb.system.dir}/Modules"/>
    <createmodulexml xmldir="${netbeans.dest.dir}/${one.cluster.dir}/${nb.system.dir}/Modules">
      <enabled dir="${netbeans.dest.dir}/${one.cluster.dir}">
        <include name="${nb.modules.dir}/*.jar"/>
      </enabled>
      <autoload dir="${netbeans.dest.dir}/${one.cluster.dir}">
        <include name="${nb.modules/autoload.dir}/*.jar"/>
      </autoload>
      <eager dir="${netbeans.dest.dir}/${one.cluster.dir}">
        <include name="${nb.modules/eager.dir}/*.jar"/>
      </eager>
    </createmodulexml>
  </target>

  <!-- Use of nbmerge target has the effect of automatically depending on all-X for every module. -->
  <!-- It also runs deltree(dir=wherever) and copydir(src=../X/netbeans,dest=wherever) to create the IDE install. -->

  <target name="build-nozip" depends="clean-cluster-flags,build-clusters" description="Build the IDE but do not create a final ZIP file.">
    <loadproperties srcFile="cluster.properties" />
    <repeat target="create-module-xmls-for-one-cluster" name="one.cluster.name" values="${nb.clusters.list}" /> 
     
    <loadproperties srcfile="${netbeans.dest.dir}/moduleCluster.properties" />
        
    <mkdir dir="${netbeans.dest.dir}/bin" />
    <copy file="../ide/launcher/unix/netbeans" todir="${netbeans.dest.dir}/bin" />
    <chmod file="${netbeans.dest.dir}/bin/netbeans" perm="ugo+rx"/>
    <copy file="../ide/launcher/windows/netbeans.exe" todir="${netbeans.dest.dir}/bin" />
    <copy file="../ide/launcher/windows/nb.exe" todir="${netbeans.dest.dir}/bin" />
    <copy file="../ide/launcher/os2/netbeans.cmd" todir="${netbeans.dest.dir}/bin" />
    <!-- if anybody knows better place for icons, let me know: jtulach@netbeans.org -->
    <copy file="../ide/launcher/os2/nbos2icons.zip" todir="${netbeans.dest.dir}/${nb.cluster.nb.dir}/" />

    <mkdir dir="${netbeans.dest.dir}/etc" />
    <copy file="../ide/launcher/netbeans.conf" todir="${netbeans.dest.dir}/etc" />

    <echo message="${netbeans.dest.dir}/${nb.cluster.platform.dir}/${nb.bin.dir}/nbexec" />
    <fixcrlf eol="lf" srcdir="${netbeans.dest.dir}" >
      <include name="etc/netbeans.conf" />
      <include name="bin/netbeans" />      
      <include name="${nb.cluster.platform.dir}/${nb.bin.dir}/nbexec" />      
    </fixcrlf>
    <fixcrlf eol="crlf" srcdir="${netbeans.dest.dir}" >
      <include name="bin/netbeans.cmd" />      
      <include name="${nb.cluster.platform.dir}/${nb.bin.dir}/nbexec.cmd" />      
    </fixcrlf>

    <echo file="${netbeans.dest.dir}/build_info">NetBeans dev build
------------------
Number:   ${buildnumber}
Date:     ${TODAY}
Branding:
Branch:   trunk
Tag:
    </echo>
  </target>

  <target name="build" depends="build-nozip"
          description="Create a complete build including a ZIP distribution (but do not try it).">
    <delete file="NetBeans-${buildnum}.zip"/>
    <delete file="NetBeans-${buildnum}-build-extra-data.zip"/>

    <property name="nb-extra-files" value="*.built,test/**,extra/**"/>
<!--
    <patternset id="nb-extra-files">
        <exclude name="*.built" />
        <exclude name="test/**"/>
        <exclude name="extra/**"/>
    </patternset>
-->
    <!-- package the zip file -->
    <zip destfile="NetBeans-${buildnum}.zip" update="true" duplicate="preserve">
      <zipfileset file="${netbeans.dest}/bin/netbeans" filemode="755" prefix="${netbeans.dest}/bin"/>
      <zipfileset file="${netbeans.dest}/${nb.cluster.platform.dir}/${nb.bin.dir}/nbexec" filemode="755" prefix="${netbeans.dest}/${nb.cluster.platform.dir}/${nb.bin.dir}"/>
      <zipfileset dir="${netbeans.dest}" filemode="755" prefix="${netbeans.dest}">
        <include name="**/*.sh"/>
      </zipfileset>
      <zipfileset dir="${netbeans.dest}" prefix="${netbeans.dest}" excludes="${nb-extra-files}"/>
<!--
        <patternset excludes="${nb-extra-files}"/>
        <exclude name="*.built"/>
        <exclude name="test/**"/>
        <exclude name="extra/**"/>
      </zipfileset>
-->
    </zip>
    
    <!-- package the zip file with extra files not to be included in regular product package-->
    <zip destfile="NetBeans-${buildnum}-build-extra-data.zip" update="true" duplicate="preserve">
        <zipfileset dir="${netbeans.dest}" prefix="${netbeans.dest}" includes="${nb-extra-files}"/>
    </zip>

    <echo>Build created; see NetBeans-${buildnum}.zip (in nbbuild/).
If you like, you may run the IDE straight from
the ${netbeans.dest}/bin/ directory.
(For example, type: ant tryme)
    </echo>
  </target>

  <target name="checkXMLs" depends="bootstrap">
    <ant dir="../xml/external" target="unscramble"/>
    <taskdef name="validatexml" classname="org.netbeans.nbbuild.XMLValidate">
      <classpath>
        <pathelement location="nbantext.jar"/>
        <fileset dir="external">
          <include name="resolver*.jar"/>
        </fileset>
      </classpath>
    </taskdef>
    <validatexml basedir="../" catalog="../www/www/dtds/catalog">
        <include name="*/build.xml"/>
	<include name="*/src/**/*.xml/"/>
    </validatexml>
  </target>
  
  <target name="delete-and-merge" depends="merge-delete,merge" />   

  <target name="merge-delete" depends="init">
    <delete dir="${netbeans.dest}" />
  </target>
  
  <target name="merge" depends="build-messaging">
    <mkdir dir="${netbeans.dest.dir}"/>
    <nbmerge failonerror="${stop.when.broken.modules}" 
             dest="${netbeans.dest}" 
             topdir=".." 
             fixedmodules="${fixedmodules}" 
             modules="${modules}"
             builtmodulesproperty="${built.modules.property}" 
             targetprefix="all-" 
             mergedependentmodules="${merge.dependent.modules}" >
    </nbmerge>
    <chmod perm="ugo+x">
      <fileset dir="${netbeans.dest}">
        <include name="bin/netbeans"/>
        <include name="bin/**/*.pl"/>
        <include name="bin/fastjavac/fastjavac.linux"/>
        <include name="bin/fastjavac/fastjavac.sun"/>
        <include name="bin/fastjavac/fastjavac.sun.intel"/>
        <include name="jakarta-tomcat-*/bin/*.sh"/>
      </fileset>
    </chmod>
  </target>

  <target name="build-platform" depends="init">
    <run-depend-build clusters-to-build="nb.cluster.platform"/>
  </target>

  <macrodef name="resolve">
    <attribute name="name"/>
    <attribute name="property"/>
    <sequential>
      <property name="@{name}" value="${@{property}}"/>
    </sequential>
  </macrodef>

  <macrodef name="run-depend-build">
    <attribute name="clusters-to-build"/>
    <sequential>
      <echo>Repeat @{clusters-to-build}</echo>
      <repeat target="build-one-cluster" name="one.cluster.name" values="@{clusters-to-build}" /> 
    </sequential>
  </macrodef>

  <target name="build-clusters" depends="init">
     <run-depend-build clusters-to-build="${nb.clusters.list}"/> 
  </target>

  <target name="build-one-cluster-dependencies-check">
    <condition property="${one.cluster.name}-hasNoDependencies">
      <equals arg1="${one.cluster.dependencies}" arg2="" trim="true"/>
    </condition>
    <echo>Dependency prop :${one.cluster.name}-hasNoDependencies:</echo>
    <echo>Cluster dep :${one.cluster.dependencies}:</echo>
    <resolve name="test.prop" property="${one.cluster.name}-hasNoDependencies"/>
    <echo>Cluster dep prp:${test.prop}:</echo>
  </target>

  <target name="build-one-cluster-dependencies" 
          depends="build-one-cluster-dependencies-check"
          unless="${one.cluster.name}-hasNoDependencies">
    <run-depend-build clusters-to-build="${one.cluster.dependencies}"/> 
  </target>

  <target name="build-one-cluster-check">
    <condition property="${one.cluster.name}-is-built">
      <available file="${netbeans.dest.dir}/${one.cluster.name}.built"/>
    </condition>
    <resolve name="test1.prop" property="${one.cluster.name}-is-built"/>
    <echo>Cluster ${one.cluster.name} is :${test1.prop}:</echo>
  </target>

  <target name="build-one-cluster" unless="${one.cluster.name}-is-built" depends="build-one-cluster-check">
    <echo message="Building ${one.cluster.name} modules"/>
    <resolve name="one-cluster-modules" property="${one.cluster.name}"/>
    <resolve name="one-cluster-dependencies" property="${one.cluster.name}.depends"/>
    <echo>${one-cluster-modules}</echo>
    <echo>Dependencies: ${one-cluster-dependencies}</echo>
    <antcall target="build-one-cluster-dependencies" inheritAll="false">
      <param name="one.cluster.dependencies" value="${one-cluster-dependencies}"/>
      <param name="one.cluster.name" value="${one.cluster.name}"/>
      <param name="netbeans.no.pre.unscramble" value="true"/>
    </antcall>
    <mkdir dir="${netbeans.dest.dir}"/>
    <nbmerge failonerror="${stop.when.broken.modules}" 
             dest="${netbeans.dest.dir}" 
             topdir="${nb_all}" 
             fixedmodules="${one-cluster-modules}"
             builtmodulesproperty="${built.modules.property}" 
             targetprefix="all-" 
             mergedependentmodules="false">
    </nbmerge>
    <touch file="${netbeans.dest.dir}/${one.cluster.name}.built"/>
  </target>

  <target name="zipclusters" depends="init">
    <mkdir dir="${netbeans.build.dir}/zips"/>
    <repeat target="zip-one-cluster" name="one.cluster.name" values="${clusters.list}" /> 

    <!-- package the misc files -->
    <zip destfile="${netbeans.build.dir}/zips/${clusters.prefix}-misc-${buildnum}.zip" update="true" duplicate="preserve">
      <zipfileset dir="${netbeans.dest.dir}" filemode="755">
         <include name="bin/netbeans"/>
      </zipfileset>
      <zipfileset dir="${netbeans.dest.dir}">
        <include name="bin/**"/>
        <include name="etc/**/"/>
      </zipfileset>
    </zip>
  </target>

  <target name="zip-one-cluster">
    <taskdef name="setclusterpatternset" classname="org.netbeans.nbbuild.SetClusterPatternSet" classpath="nbantext.jar"/>
    <taskdef name="setcluster" classname="org.netbeans.nbbuild.SetCluster" classpath="nbantext.jar"/>
    <loadproperties srcFile="cluster.properties" />
    <loadproperties srcFile="cluster-description.properties" />
    <loadproperties srcFile="directories.properties" />
    <setcluster cluster="${one.cluster.name}" name="one.cluster.dir" />
    
    <setclusterpatternset cluster="${one.cluster.name}" name="${one.cluster.name}.files" trackingpath="${netbeans.dest.dir}" clusterdir="${one.cluster.dir}"/>
    
    <resolve name="zipcluster.file" property="${one.cluster.name}.pkg.filename"/>
    <zip destfile="${netbeans.build.dir}/zips/${clusters.prefix}-${zipcluster.file}-${buildnum}.zip" update="true" duplicate="preserve">
      <zipfileset dir="${netbeans.dest.dir}" filemode="755">
        <include name="${one.cluster.dir}/${nb.bin.dir}/nbexec"/>
      </zipfileset>
      <zipfileset dir="${netbeans.dest.dir}">
        <patternset refID="${one.cluster.name}.files"/>
      </zipfileset>
    </zip>
  </target>

  <target name="create-rpms-proto">
    <mkdir dir="${netbeans.build.dir}/rpms"/>
    <repeat target="create-one-rpm-proto" name="one.cluster.name" values="${clusters.list}" /> 
  </target>
    
  <target name="create-one-rpm-proto">
    <taskdef name="setcluster" classname="org.netbeans.nbbuild.SetCluster" classpath="nbantext.jar"/>
    <loadproperties srcFile="cluster.properties" />
    <loadproperties srcFile="cluster-description.properties" />
    <loadproperties srcFile="directories.properties" />
    <setcluster cluster="${one.cluster.name}" name="one.cluster.dir" />
    <mkdir dir="${netbeans.build.dir}/rpms"/>
    
    <resolve name="pkg.name" property="${one.cluster.name}.pkg.name"/>
    <resolve name="pkg.version" property="${one.cluster.name}.pkg.version"/>
    <resolve name="pkg.desc" property="${one.cluster.name}.pkg.desc"/>
    <resolve name="pkg.vendor" property="${one.cluster.name}.pkg.vendor"/>
    <resolve name="pkg.email" property="${one.cluster.name}.pkg.email"/>
    <resolve name="pkg.rpm.name" property="${one.cluster.name}.pkg.rpm.name"/>
    <resolve name="pkg.rpm.requires" property="${one.cluster.name}.pkg.rpm.requires"/>
    <resolve name="pkg.rpm.group" property="${one.cluster.name}.pkg.rpm.group"/>
    <resolve name="pkg.rpm.url" property="${one.cluster.name}.pkg.rpm.url"/>
    <resolve name="pkg.rpm.copyright" property="${one.cluster.name}.pkg.rpm.copyright"/>
    <resolve name="pkg.rpm.map" property="${one.cluster.name}.pkg.rpm.map"/>
    <resolve name="pkg.rpm.prefix" property="${one.cluster.name}.pkg.rpm.prefix"/>
    
    <echo file="${netbeans.build.dir}/rpms/${pkg.rpm.name}.spec">
%define global_product_version ${pkg.version}
%define global_product_release 00
%define _prefix ${pkg.rpm.prefix}
Version: %{global_product_version}
Release: %{global_product_release}
Group: ${pkg.rpm.group}
Copyright: ${pkg.rpm.copyright}
Vendor: ${pkg.vendor}
URL: ${pkg.rpm.url}
Prefix: %_prefix
AutoReqProv: no
Name: ${pkg.rpm.name}
Summary: ${pkg.name}
%description 
${pkg.desc}

%files

%erpm_map ${pkg.rpm.map} nb_destdir

%dir ${pkg.rpm.map}

${pkg.rpm.map}/${one.cluster.dir}</echo>
  </target>

  <target name="create-svr4s-proto">
    <mkdir dir="${netbeans.build.dir}/rpms"/>
    <repeat target="create-one-svr4-proto" name="one.cluster.name" values="${clusters.list}" /> 
  </target>

  <target name="create-one-svr4-proto">
    <taskdef name="setcluster" classname="org.netbeans.nbbuild.SetCluster" classpath="nbantext.jar"/>
    <loadproperties srcFile="cluster.properties" />
    <loadproperties srcFile="cluster-description.properties" />
    <loadproperties srcFile="directories.properties" />
    <setcluster cluster="${one.cluster.name}" name="one.cluster.dir" />
    <mkdir dir="${netbeans.build.dir}/svr4s"/>
    
    <resolve name="pkg.name" property="${one.cluster.name}.pkg.name"/>
    <resolve name="pkg.version" property="${one.cluster.name}.pkg.version"/>
    <resolve name="pkg.desc" property="${one.cluster.name}.pkg.desc"/>
    <resolve name="pkg.vendor" property="${one.cluster.name}.pkg.vendor"/>
    <resolve name="pkg.email" property="${one.cluster.name}.pkg.email"/>
    <resolve name="pkg.svr4.pkg" property="${one.cluster.name}.pkg.svr4.pkg"/>
    <resolve name="pkg.svr4.maxinst" property="${one.cluster.name}.pkg.svr4.maxinst"/>
    <resolve name="pkg.svr4.sunw_pkgvers" property="${one.cluster.name}.pkg.svr4.sunw_pkgvers"/>
    <resolve name="pkg.svr4.hotline" property="${one.cluster.name}.pkg.svr4.hotline"/>
    <resolve name="pkg.svr4.classes" property="${one.cluster.name}.pkg.svr4.classes"/>
    <resolve name="pkg.svr4.basedir" property="${one.cluster.name}.pkg.svr4.basedir"/>
    <resolve name="pkg.svr4.pkginst" property="${one.cluster.name}.pkg.svr4.pkginst"/>
    <resolve name="pkg.svr4.category" property="${one.cluster.name}.pkg.svr4.category"/>
<echo file="${netbeans.build.dir}/svr4s/${pkg.svr4.pkg}.spec">
PKG=${pkg.svr4.pkg}
NAME=${pkg.name}
ARCH=sparc
VERSION=${pkg.version}
MAXINST=${pkg.svr4.maxinst}
CATEGORY=${pkg.svr4.category}
SUNW_PKGVERS=${pkg.svr4.sunw_pkgvers}
DESC=${pkg.desc}
VENDOR=${pkg.vendor}
HOTLINE=${pkg.svr4.hotline}
EMAIL=${pkg.email}
CLASSES=${pkg.svr4.classes}
BASEDIR=${pkg.svr4.basedir}
PKGINST=${pkg.svr4.pkginst}</echo>
  </target>
    
  <target name="sanity-check" depends="testuserdir-delete,sanity-start" description="Test whether the build can start up without problems."/>
  <target name="testuserdir-delete" depends="init">
    <delete dir="${test.user.dir}"/>
  </target>
  <target name="sanity-start" depends="init,maybe-build-nozip">
    <mkdir dir="${test.user.dir}"/>
    <echo>Starting the IDE as a sanity check...</echo>
    <echo>WARNING - the sanity-start target is deprecated. Use commit-validation instead.</echo>
    <!-- XXX better would be to scan start log for stacktraces and just show those; -->
    <!-- possibly after filtering for duplicates or something like this. -->
    <!-- Timeout is ten minutes; should be enough for valid start, while preventing -->
    <!-- a deadlock from hanging an automated build: -->
    <exec os="Windows NT Windows 95 Windows 98 Windows 2000 Windows XP" executable="${netbeans.dest.abs}/bin/nb.exe" failonerror="yes" timeout="600000">
      <arg value="-jdkhome"/>
      <arg file="${jdkhome}"/>
      <arg value="-userdir"/>
      <arg file="${test.user.dir}"/>
      <arg line="${sanitystart.args}"/>
    </exec>
    <exec os="Linux SunOS Solaris Mac OS X" dir="." executable="sh" failonerror="yes" timeout="600000">
      <arg value="${netbeans.dest}/bin/netbeans"/>
      <arg value="-jdkhome"/>
      <arg file="${jdkhome}"/>
      <arg value="-userdir"/>
      <arg file="${test.user.dir}"/>
      <arg line="${sanitystart.args}"/>
    </exec>
    <echo>Finished starting the IDE, pay attention to any reported errors.</echo>
  </target>

  <target name="check-for-build"  >
    <available property="have-build" file="${netbeans.dest}/bin/netbeans"/>
  </target>
  <target name="maybe-build-nozip" depends="check-for-build" unless="have-build">
    <ant dir="." target="build-nozip"/>
  </target>

  <target name="nozip-check" 
          depends="build-nozip,sanity-check">
    <echo>WARNING - the nozip-check target is deprecated. Use all-nozip instead.</echo>
  </target>

  <target name="tryme-setup-debug-args" if="debug.port" >
    <property name="debug.pause" value="n" />
    <property name="debug.server" value="y" />
    
    <property name="tryme.debug.args" value="-J-Xdebug -J-Xnoagent -J-Xrunjdwp:transport=dt_socket,suspend=${debug.pause},server=${debug.server},address=${debug.port}" />
  </target>
          
  <target name="tryme-debug" description="Start IDE in debugger. May only be called from within IDE.">
    <nbjpdastart name="NetBeans" addressproperty="debug.port" transport="dt_socket">
      <classpath>
        <fileset dir="${netbeans.dest.dir}">
          <include name="**/*.jar"/>
        </fileset>
      </classpath>
    </nbjpdastart>
    <property name="debug.server" value="n"/>
    <antcall target="tryme"/>
  </target>
          
  <target name="tryme" depends="init,maybe-build-nozip,tryme-setup-debug-args"
          description="Try running the IDE interactively (build it first if needed).
It is possible to use -Ddebug.port=3234 -Ddebug.pause=y to start the system in debug mode" 
   >
    <property name="tryme.debug.args" value="" />
  
    <exec os="Windows NT Windows 95 Windows 98 Windows 2000 Windows XP" executable="${netbeans.dest.abs}/bin/nb.exe" failonerror="yes">
      <arg value="-jdkhome"/>
      <arg file="${jdkhome}"/>
      <arg value="-userdir"/>
      <arg file="${test.user.dir}"/>
      <arg line="${tryme.args}"/>
      <arg line="${tryme.debug.args}" />
    </exec>
    <exec os="Linux SunOS Solaris" dir="." executable="sh" failonerror="yes">
      <arg value="${netbeans.dest}/bin/netbeans"/>
      <arg value="-jdkhome"/>
      <arg file="${jdkhome}"/>
      <arg value="-userdir"/>
      <arg file="${test.user.dir}"/>
      <arg line="${tryme.args}"/>
      <arg line="${tryme.debug.args}" />
    </exec>
    <exec os="Mac OS X" dir="." executable="sh" failonerror="yes">
      <arg value="${netbeans.dest}/bin/netbeans"/>
      <arg value="-jdkhome"/>
      <arg file="/Library/Java/Home"/>
      <arg value="-userdir"/>
      <arg file="${test.user.dir}"/>
      <arg line="${tryme.args}"/>
      <arg line="${tryme.debug.args}" />
    </exec>
  </target>
  
  <target name="check-target-dependencies" depends="bootstrap" description="Check that all-* targets are up to date.">
    <taskdef name="checkbuilddeps" classname="org.netbeans.nbbuild.CheckBuildDependencies" classpath="nbantext.jar"/>
    <checkbuilddeps nbroot=".."/>
  </target>

  <target name="l10n-kit" depends="init">
    <taskdef name="l10n" classname="org.netbeans.nbbuild.L10nTask"
             classpath="nbantext.jar"/>
    <delete dir="${l10n.dist.dir}"/>
    <mkdir dir="${l10n.dist.dir}"/>
    <delete dir="tmp"/>
    <mkdir dir="tmp"/>
    <property name="nbroot" location=".."/>
    <l10n topdirs="${nbroot}" modules="${fixedmodules},${modules}"
          localizablefile="l10n.list" generatedfile="l10n.list.translated"
          distdir="${l10n.dist.dir}" changedfile="l10n.list.changed"
          builddir="tmp" buildnumber="${buildnumber}"
          excludepattern="**/ja/,**/*_ja.*"/>
    <delete dir="tmp"/>
  </target>

  <target name="bootstrap-javadoc"
          depends="bootstrap"
          description="Generate Javadoc for Ant extensions.">
    <!-- XXX this ought to be deleted at some point. -->
    <!-- Can be done anyway by apisupport/ant, and published as regular module Javadoc -->
    <!-- by the regular daily Javadoc build process. -->
    <!-- Then all of this stuff can be deleted from the www part of CVS. -->
    <mkdir dir="www/nbantext-javadoc"/>
    <delete>
        <fileset dir="www/nbantext-javadoc">
            <include name="**/*.html"/>
        </fileset>
    </delete>
    <tstamp/>
    <javadoc sourcepath="antsrc"
             destdir="www/nbantext-javadoc"
             packagenames="org.netbeans.nbbuild.*"
             windowtitle="NetBeans Ant Extensions"
             doctitle="Extended Ant Tasks for Building NetBeans"
             nodeprecatedlist="true"
             notree="true"
             noindex="true"
             nohelp="true"
             nonavbar="true"
             author="false"
             version="false"
             bottom="Built on ${TODAY}"
    >
      <classpath refid="bootstrap-cp"/>
      <link href="http://nagoya.apache.org/gump/javadoc/ant/build/javadocs" offline="true" packagelistloc="antsrc"/>
    </javadoc>
  </target>

  <target name="clean-external" if="${extmodule}/external.exists">
    <echo message="Cleaning external - ${extmodule}"/>
    <ant dir="../${extmodule}/external" target="clean"/>
  </target>

  <target name="doclean-external">
    <available file="../${extmodule}/external/build.xml" property="${extmodule}/external.exists"/>
    <antcall target="clean-external"/>
  </target>

  <target name="real-clean" depends="clean"
          description="Clean everything possible.">
    <echo message="Cleaning old builds..."/>
    <delete>
      <fileset dir=".">
        <include name="NetBeans-*.log"/>
        <include name="NetBeans-*.zip"/>
      </fileset>
    </delete>
    <antcall target="doclean-external">
      <param name="extmodule" value="ant"/>
    </antcall>
    <antcall target="doclean-external">
      <param name="extmodule" value="corba"/>
    </antcall>
    <antcall target="doclean-external">
      <param name="extmodule" value="core"/>
    </antcall>
    <antcall target="doclean-external">
      <param name="extmodule" value="httpserver"/>
    </antcall>
    <antcall target="doclean-external">
      <param name="extmodule" value="j2eeserver"/>
    </antcall>
    <antcall target="doclean-external">
      <param name="extmodule" value="java"/>
    </antcall>
    <antcall target="doclean-external">
      <param name="extmodule" value="nbbuild"/>
    </antcall>
    <antcall target="doclean-external">
      <param name="extmodule" value="scripting"/>
    </antcall>
    <antcall target="doclean-external">
      <param name="extmodule" value="tomcatint"/>
    </antcall>
    <antcall target="doclean-external">
      <param name="extmodule" value="xml"/>
    </antcall>
    <antcall target="doclean-external">
      <param name="extmodule" value="web"/>
    </antcall>
    <antcall target="doclean-external">
      <param name="extmodule" value="libs"/>
    </antcall>
    <antcall target="doclean-external">
      <param name="extmodule" value="junit"/>
    </antcall>
    <antcall target="doclean-external">
      <param name="extmodule" value="lexer"/>
    </antcall>
    <antcall target="doclean-external">
      <param name="extmodule" value="mdr"/>
    </antcall>
    <antcall target="doclean-external">
      <param name="extmodule" value="objectbrowser"/>
    </antcall>
    <antcall target="doclean-external">
      <param name="extmodule" value="tasklist"/>
    </antcall>
    <antcall target="doclean-external">
      <param name="extmodule" value="xtest"/>
    </antcall>
    <antcall target="doclean-external">
      <param name="extmodule" value="qa"/>
    </antcall>
    <!-- This step must be last: -->
    <echo message="Cleaning NetBeans-specific Ant extensions..."/>
    <delete file="nbantext.jar" quiet="true"/>
    <delete>
      <fileset dir="antsrc">
        <include name="**/*.class"/>
      </fileset>
    </delete>
  </target>
  
  <target name="ant-clean">
    <delete file="nbantext.jar"/>
  </target>

  <target name="clean-cluster-flags" unless="do-not-rebuild-clusters">
    <mkdir dir="${netbeans.dest.dir}"/>
    <delete includeEmptyDirs="true">
      <fileset dir="${netbeans.dest.dir}">
        <include name="*.built"/>
      </fileset>
    </delete>
  </target>

  <target name="localclean" depends="clean-cluster-flags,init">
    <delete dir="${test.user.dir}"/>
    <delete dir="modules_javadoc"/>
    <delete file="moduledefs-tmp.properties"/>
    <delete dir="nbms" />
    <delete dir="modules_exported_interfaces"/>
    <delete dir="${netbeans.dest.dir}"/>
    <delete file="moduleCluster.properties"/>
  </target>
  
  <target name="localtest" depends="bootstrap,all-xtest/nbjunit" >
    <ant dir="test" />
  </target>

  <target name="cleanall" depends="init">
    <cleanall topdir=".." 
              modules="${allmodules}" 
              targetname="clean"
              resolvedependencies="${resolve.clean.dependencies}"
              deptargetprefix="all-"
              failonerror="${stop.when.clean.error}" />
  </target>

  <target name="clean" depends="init,cleanall,localclean"
          description="Clean out (almost) all build products.">
    <echo message="Run `ant real-clean' if desired."/>
  </target>

<!-- This section contains properties and targets used to build -->
<!-- Solaris packages.                                          -->

  <property name="solpkg-pkgproto" value="pkgproto"/>
  <property name="solpkg-pkgmk" value="pkgmk"/>
  <property name="solpkg-proto-file" value="prototype"/>
  <property name="solpkg-actual-dir" value="to-be-specified"/>
  <property name="solpkg-pkg-dir" value="to-be-specified"/>
  <property name="solpkg-pkg-dest-dir" value="to-be-specified"/>

  <!-- You can run this target to create the prototype file and create -->
  <!-- the package, or if you need to modify the prototype file before -->
  <!-- building the package, you can run the two subtargets            -->
  <!-- separately.                                                     -->
  <target name="solpkg-build" depends="solpkg-pkgproto,solpkg-pkgmk"
          description="Generate a prototype file and create a Solaris package."/>

  <!-- This creates the pkg prototype file for a given directory and -->
  <!-- its files.                                                    -->
  <target name="solpkg-pkgproto"
          description="Generate a prototype file.">
    <exec executable="rm" failonerror="yes">
      <arg value="-rf"/>
      <arg value="${solpkg-proto-file}"/>
    </exec>
    <exec executable="${solpkg-pkgproto}" output="${solpkg-proto-file}" 
          failonerror="yes">
      <arg value="${solpkg-actual-dir}=${solpkg-pkg-dir}"/>
    </exec>
  </target>

  <!-- This creates the Solaris pkg for a given prototype file, pkginfo -->
  <!-- file, and directory.                                             -->
  <target name="solpkg-pkgmk"
          description="Create a Solaris package.">
    <exec executable="${solpkg-pkgmk}" failonerror="yes">
      <arg value="-o"/>
      <arg value="-f"/>
      <arg value="${solpkg-proto-file}"/>
      <arg value="-r"/>
      <arg value="${solpkg-actual-dir}"/>
      <arg value="-d"/>
      <arg value="${solpkg-pkg-dest-dir}"/>
    </exec>
  </target>

<!-- End of Solaris package section. -->


<!-- Localized builds -->
  <target name="all-dutch" depends="set-dutch-locale,all"/>
  <target name="all-russian" depends="set-russian-locale,all"/>
  <target name="all-french" depends="set-french-locale,all"/>
  <target name="all-ja-zh" depends="set-ja-zh_CN-locales,all"/>
  
  <target name="set-ja-zh_CN-locales">
        <property name="locales" value="ja,zh_CN"/>
        <property name="locjar.locales" value="${locales}"/>
        <property name="locmakenbm.locales"   value="${locales}"/>
        <property name="locjhindexer.locales" value="${locales}"/>
        <property name="localized.build.locales" value="${locales}"/>
  </target>
  
  <target name="set-dutch-locale">
        <property name="locales" value="nl"/>
        <property name="locjar.locales" value="${locales}"/>
        <property name="locmakenbm.locales"   value="${locales}"/>
        <property name="locjhindexer.locales" value="${locales}"/>
        <property name="localized.build.locales" value="${locales}"/>
  </target>

  <target name="set-russian-locale">
        <property name="locales" value="ru"/>
        <property name="locjar.locales" value="${locales}"/>
        <property name="locmakenbm.locales"   value="${locales}"/>
        <property name="locjhindexer.locales" value="${locales}"/>
        <property name="localized.build.locales" value="${locales}"/>
  </target>

  <target name="set-french-locale">
        <property name="locales" value="fr"/>
        <property name="locjar.locales" value="${locales}"/>
        <property name="locmakenbm.locales"   value="${locales}"/>
        <property name="locjhindexer.locales" value="${locales}"/>
        <property name="localized.build.locales" value="${locales}"/>
  </target>
  
<!-- end of localized builds -->


  <target name="print-selected-modules" depends="init" description="Prints list of modules to build in selected moduleconfig.">
    <echo message="modules=${allmodules}"/>
  </target>

  <target name="print-cvs-modules" depends="init" description="Prints list of cvs modules required to build in selected moduleconfig.">
    <taskdef name="printcvsmodules" classname="org.netbeans.nbbuild.PrintCvsModules" classpath="nbantext.jar"/>
    <printcvsmodules modules="${fixedmodules},${modules}" targetprefix="all-" />
  </target>

  <target name="check-commit-validation">
    <condition property="run.validation" >
        <and>
          <available file="../ide/test/build.xml" />
          <available file="../jemmy/build.xml" />
          <available file="../jellytools/build.xml" />
          <available file="../xtest/build.xml" />
          <or>
            <not>
              <isset property="nb.run.validation"/>
            </not>
            <istrue value="${nb.run.validation}"/>
          </or>
        </and>
    </condition>
  </target>
  
  <target name="commit-validation" depends="commitValidation,no-commit-validation" description="Runs tests to validate IDE before commit."/>

  <target name="all-commitValidation" description="dummy target for build error recognition facility"/>

  <!-- keep this target name at least for a while for backward compat -jglick -->
  <target name="commitValidation" depends="all-commitValidation,check-commit-validation" if="run.validation">
    <property name="xtest.home" location="../xtest"/>
    <!-- #47367 - xtest has to be cleaned for the case someone switched between 1.4 and 1.5 JDK -->
    <ant dir="${xtest.home}" target="clean"/>
    <ant dir="${xtest.home}/instance" target="cleanresults">
        <property name="xtest.config" value="commit-validation-nb"/>
    </ant>
    <ant dir="${xtest.home}/instance" target="cleantests">
        <property name="xtest.config" value="commit-validation-nb"/>
    </ant>
    <ant dir="${xtest.home}/instance" target="runtests">
        <property name="xtest.config" value="commit-validation-nb"/>
        <property name="xtest.fail.on.failure" value="true"/>
    </ant>
  </target>

  <target name="no-commit-validation" depends="check-commit-validation" unless="run.validation">
    <echo>
        *** WARNING ***
        You do not seem to have the modules needed to run the commit validation test suite. 
        You may not commit any changes into the CVS repository without running these tests.
        For more information: http://www.netbeans.org/community/guidelines/commit.html
    </echo>
  </target>
  
</project>
